// Code generated by transpiler. DO NOT EDIT.

/**
 * Go Video Downloader
 *
 *    Copyright 2019 Tenta, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * For any questions, please contact developer@tenta.io
 *
 * YoutubeDL/module.go: transpiled from https://github.com/ytdl-org/youtube-dl/blob/master/youtube_dl/YoutubeDL.py
 */

package YoutubeDL

import (
	Î©collections "github.com/tenta-browser/go-video-downloader/gen/collections"
	Î©json "github.com/tenta-browser/go-video-downloader/gen/json"
	Î©random "github.com/tenta-browser/go-video-downloader/gen/random"
	Î©re "github.com/tenta-browser/go-video-downloader/gen/re"
	Î©socket "github.com/tenta-browser/go-video-downloader/gen/socket"
	Î©string "github.com/tenta-browser/go-video-downloader/gen/string"
	Î©sys "github.com/tenta-browser/go-video-downloader/gen/sys"
	Î©time "github.com/tenta-browser/go-video-downloader/gen/time"
	Î©error "github.com/tenta-browser/go-video-downloader/gen/urllib/error"
	Î©cache "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/cache"
	Î©compat "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/compat"
	Î©extractor "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/extractor"
	Î©openload "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/extractor/openload"
	Î©postprocessor "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/postprocessor"
	Î©utils "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/utils"
	Î» "github.com/tenta-browser/go-video-downloader/runtime"
)

var (
	Cache                  Î».Object
	DEFAULT_OUTTMPL        Î».Object
	DownloadError          Î».Object
	ExtractorError         Î».Object
	FFmpegPostProcessor    Î».Object
	GeoRestrictedError     Î».Object
	MaxDownloadsReached    Î».Object
	PagedList              Î».Object
	PhantomJSwrapper       Î».Object
	PostProcessingError    Î».Object
	UnavailableVideoError  Î».Object
	YoutubeDL              Î».Object
	Ï’age_restricted        Î».Object
	Ï’ascii_letters         Î».Object
	Ï’compat_basestring     Î».Object
	Ï’compat_http_client    Î».Object
	Ï’compat_kwargs         Î».Object
	Ï’compat_numeric_types  Î».Object
	Ï’compat_str            Î».Object
	Ï’determine_ext         Î».Object
	Ï’determine_protocol    Î».Object
	Ï’error_to_compat_str   Î».Object
	Ï’expand_path           Î».Object
	Ï’gen_extractor_classes Î».Object
	Ï’get_info_extractor    Î».Object
	Ï’int_or_none           Î».Object
	Ï’parse_filesize        Î».Object
	Ï’preferredencoding     Î».Object
	Ï’sanitize_filename     Î».Object
	Ï’sanitize_path         Î».Object
	Ï’sanitize_url          Î».Object
	Ï’sanitized_Request     Î».Object
	Ï’std_headers           Î».Object
	Ï’str_or_none           Î».Object
	Ï’url_basename          Î».Object
)

func init() {
	Î».InitModule(func() {
		Ï’ascii_letters = Î©string.Ï’ascii_letters
		Ï’compat_basestring = Î©compat.Ï’compat_basestring
		Ï’compat_http_client = Î©compat.Ï’compat_http_client
		Ï’compat_kwargs = Î©compat.Ï’compat_kwargs
		Ï’compat_numeric_types = Î©compat.Ï’compat_numeric_types
		Ï’compat_str = Î©compat.Ï’compat_str
		Ï’age_restricted = Î©utils.Ï’age_restricted
		DEFAULT_OUTTMPL = Î©utils.DEFAULT_OUTTMPL
		Ï’determine_ext = Î©utils.Ï’determine_ext
		Ï’determine_protocol = Î©utils.Ï’determine_protocol
		DownloadError = Î©utils.DownloadError
		Ï’error_to_compat_str = Î©utils.Ï’error_to_compat_str
		Ï’expand_path = Î©utils.Ï’expand_path
		ExtractorError = Î©utils.ExtractorError
		GeoRestrictedError = Î©utils.GeoRestrictedError
		Ï’int_or_none = Î©utils.Ï’int_or_none
		MaxDownloadsReached = Î©utils.MaxDownloadsReached
		PagedList = Î©utils.PagedList
		Ï’parse_filesize = Î©utils.Ï’parse_filesize
		PostProcessingError = Î©utils.PostProcessingError
		Ï’preferredencoding = Î©utils.Ï’preferredencoding
		Ï’sanitize_filename = Î©utils.Ï’sanitize_filename
		Ï’sanitize_path = Î©utils.Ï’sanitize_path
		Ï’sanitize_url = Î©utils.Ï’sanitize_url
		Ï’sanitized_Request = Î©utils.Ï’sanitized_Request
		Ï’std_headers = Î©utils.Ï’std_headers
		Ï’str_or_none = Î©utils.Ï’str_or_none
		UnavailableVideoError = Î©utils.UnavailableVideoError
		Ï’url_basename = Î©utils.Ï’url_basename
		Cache = Î©cache.Cache
		Ï’get_info_extractor = Î©extractor.Ï’get_info_extractor
		Ï’gen_extractor_classes = Î©extractor.Ï’gen_extractor_classes
		PhantomJSwrapper = Î©openload.PhantomJSwrapper
		FFmpegPostProcessor = Î©postprocessor.FFmpegPostProcessor
		if Î».IsTrue(Î».Eq(Î».None, Î».StrLiteral("nt"))) {

		}
		YoutubeDL = Î».Cal(Î».TypeType, Î».StrLiteral("YoutubeDL"), Î».NewTuple(Î».ObjectType), func() Î».Dict {
			var (
				YoutubeDL__NUMERIC_FIELDS                Î».Object
				YoutubeDL___extract_info                 Î».Object
				YoutubeDL___forced_printings             Î».Object
				YoutubeDL___handle_extraction_exceptions Î».Object
				YoutubeDL__bidi_workaround               Î».Object
				YoutubeDL__calc_cookies                  Î».Object
				YoutubeDL__calc_headers                  Î».Object
				YoutubeDL__default_format_spec           Î».Object
				YoutubeDL__ies                           Î».Object
				YoutubeDL__num_downloads                 Î».Object
				YoutubeDL__screen_file                   Î».Object
				YoutubeDL_add_default_extra_info         Î».Object
				YoutubeDL_add_default_info_extractors    Î».Object
				YoutubeDL_add_extra_info                 Î».Object
				YoutubeDL_add_info_extractor             Î».Object
				YoutubeDL_extract_info                   Î».Object
				YoutubeDL_format_resolution              Î».Object
				YoutubeDL_get_info_extractor             Î».Object
				YoutubeDL_params                         Î».Object
				YoutubeDL_prepare_filename               Î».Object
				YoutubeDL_process_ie_result              Î».Object
				YoutubeDL_process_info                   Î».Object
				YoutubeDL_process_subtitles              Î».Object
				YoutubeDL_process_video_result           Î».Object
				YoutubeDL_report_error                   Î».Object
				YoutubeDL_report_warning                 Î».Object
				YoutubeDL_to_screen                      Î».Object
				YoutubeDL_to_stderr                      Î».Object
				YoutubeDL_to_stdout                      Î».Object
				YoutubeDL_trouble                        Î».Object
			)
			YoutubeDL__NUMERIC_FIELDS = Î».Cal(Î».SetType, Î».NewTuple(
				Î».StrLiteral("width"),
				Î».StrLiteral("height"),
				Î».StrLiteral("tbr"),
				Î».StrLiteral("abr"),
				Î».StrLiteral("asr"),
				Î».StrLiteral("vbr"),
				Î».StrLiteral("fps"),
				Î».StrLiteral("filesize"),
				Î».StrLiteral("filesize_approx"),
				Î».StrLiteral("timestamp"),
				Î».StrLiteral("upload_year"),
				Î».StrLiteral("upload_month"),
				Î».StrLiteral("upload_day"),
				Î».StrLiteral("duration"),
				Î».StrLiteral("view_count"),
				Î».StrLiteral("like_count"),
				Î».StrLiteral("dislike_count"),
				Î».StrLiteral("repost_count"),
				Î».StrLiteral("average_rating"),
				Î».StrLiteral("comment_count"),
				Î».StrLiteral("age_limit"),
				Î».StrLiteral("start_time"),
				Î».StrLiteral("end_time"),
				Î».StrLiteral("chapter_number"),
				Î».StrLiteral("season_number"),
				Î».StrLiteral("episode_number"),
				Î».StrLiteral("track_number"),
				Î».StrLiteral("disc_number"),
				Î».StrLiteral("release_year"),
				Î».StrLiteral("playlist_index"),
			))
			YoutubeDL_params = Î».None
			YoutubeDL__ies = Î».NewList()
			YoutubeDL__num_downloads = Î».None
			YoutubeDL__screen_file = Î».None
			YoutubeDL_add_info_extractor = Î».NewFunction("add_info_extractor",
				[]Î».Param{
					{Name: "self"},
					{Name: "ie"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ie   = Î»args[1]
						Ï’self = Î»args[0]
					)
					Î».Calm(Î».GetAttr(Ï’self, "_ies", nil), "append", Ï’ie)
					if !Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’ie, Î».TypeType)) {
						Î».SetItem(Î».GetAttr(Ï’self, "_ies_instances", nil), Î».Calm(Ï’ie, "ie_key"), Ï’ie)
						Î».Calm(Ï’ie, "set_downloader", Ï’self)
					}
					return Î».None
				})
			YoutubeDL_get_info_extractor = Î».NewFunction("get_info_extractor",
				[]Î».Param{
					{Name: "self"},
					{Name: "ie_key"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ie     Î».Object
						Ï’ie_key = Î»args[1]
						Ï’self   = Î»args[0]
					)
					Ï’ie = Î».Calm(Î».GetAttr(Ï’self, "_ies_instances", nil), "get", Ï’ie_key)
					if Ï’ie == Î».None {
						Ï’ie = Î».Cal(Î».Cal(Ï’get_info_extractor, Ï’ie_key))
						Î».Calm(Ï’self, "add_info_extractor", Ï’ie)
					}
					return Ï’ie
				})
			YoutubeDL_add_default_info_extractors = Î».NewFunction("add_default_info_extractors",
				[]Î».Param{
					{Name: "self"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ie   Î».Object
						Ï’self = Î»args[0]
						Ï„mp0  Î».Object
						Ï„mp1  Î».Object
					)
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Ï’gen_extractor_classes))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’ie = Ï„mp1
						Î».Calm(Ï’self, "add_info_extractor", Ï’ie)
					}
					return Î».None
				})
			YoutubeDL__bidi_workaround = Î».NewFunction("_bidi_workaround",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’line_count Î».Object
						Ï’message    = Î»args[1]
						Ï’res        Î».Object
						Ï’self       = Î»args[0]
					)
					if !Î».IsTrue(Î».Cal(Î».BuiltinHasAttr, Ï’self, Î».StrLiteral("_output_channel"))) {
						return Ï’message
					}
					if !Î».IsTrue(Î».Cal(Î».BuiltinHasAttr, Ï’self, Î».StrLiteral("_output_process"))) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					if !Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’message, Ï’compat_str)) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					Ï’line_count = Î».Add(Î».Calm(Ï’message, "count", Î».StrLiteral("\n")), Î».IntLiteral(1))
					Î».Calm(Î».GetAttr(Î».GetAttr(Ï’self, "_output_process", nil), "stdin", nil), "write", Î».Calm(Î».Add(Ï’message, Î».StrLiteral("\n")), "encode", Î».StrLiteral("utf-8")))
					Î».Calm(Î».GetAttr(Î».GetAttr(Ï’self, "_output_process", nil), "stdin", nil), "flush")
					Ï’res = Î».Calm(Î».StrLiteral(""), "join", Î».Cal(Î».NewFunction("<generator>",
						nil,
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
								var (
									Ï„mp0 Î».Object
									Ï„mp1 Î».Object
								)
								Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».RangeType, Ï’line_count))
								for {
									if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
										break
									}
									_ = Ï„mp1
									Î»gy.Yield(Î».Calm(Î».Calm(Î».GetAttr(Ï’self, "_output_channel", nil), "readline"), "decode", Î».StrLiteral("utf-8")))
								}
								return Î».None
							})
						})))
					return Î».GetItem(Ï’res, Î».NewSlice(Î».None, Î».Neg(Î».Cal(Î».BuiltinLen, Î».StrLiteral("\n"))), Î».None))
				})
			YoutubeDL_to_screen = Î».NewFunction("to_screen",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
					{Name: "skip_eol", Def: Î».False},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’message  = Î»args[1]
						Ï’self     = Î»args[0]
						Ï’skip_eol = Î»args[2]
					)
					return Î».Call(Î».GetAttr(Ï’self, "to_stdout", nil), Î».NewArgs(
						Ï’message,
						Ï’skip_eol,
					), Î».KWArgs{
						{Name: "check_quiet", Value: Î».True},
					})
				})
			YoutubeDL_to_stdout = Î».NewFunction("to_stdout",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
					{Name: "skip_eol", Def: Î».False},
					{Name: "check_quiet", Def: Î».False},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’check_quiet = Î»args[3]
						Ï’message     = Î»args[1]
						Ï’output      Î».Object
						Ï’self        = Î»args[0]
						Ï’skip_eol    = Î»args[2]
						Ï’terminator  Î».Object
					)
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("logger"))) {
						Î».Calm(Î».GetItem(Î».GetAttr(Ï’self, "params", nil), Î».StrLiteral("logger")), "debug", Ï’message)
					} else {
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».NewBool(!Î».IsTrue(Ï’check_quiet)); Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».NewBool(!Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("quiet"), Î».False)))
							}
						}()) {
							Ï’message = Î».Calm(Ï’self, "_bidi_workaround", Ï’message)
							Ï’terminator = Î».GetItem(Î».NewList(
								Î».StrLiteral("\n"),
								Î».StrLiteral(""),
							), Ï’skip_eol)
							Ï’output = Î».Add(Ï’message, Ï’terminator)
							Î».Calm(Ï’self, "_write_string", Ï’output, Î».GetAttr(Ï’self, "_screen_file", nil))
						}
					}
					return Î».None
				})
			YoutubeDL_to_stderr = Î».NewFunction("to_stderr",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’message = Î»args[1]
						Ï’output  Î».Object
						Ï’self    = Î»args[0]
					)
					if !Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’message, Ï’compat_str)) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("logger"))) {
						Î».Calm(Î».GetItem(Î».GetAttr(Ï’self, "params", nil), Î».StrLiteral("logger")), "error", Ï’message)
					} else {
						Ï’message = Î».Calm(Ï’self, "_bidi_workaround", Ï’message)
						Ï’output = Î».Add(Ï’message, Î».StrLiteral("\n"))
						Î».Calm(Ï’self, "_write_string", Ï’output, Î».GetAttr(Ï’self, "_err_file", nil))
					}
					return Î».None
				})
			YoutubeDL_trouble = Î».NewFunction("trouble",
				[]Î».Param{
					{Name: "self"},
					{Name: "message", Def: Î».None},
					{Name: "tb", Def: Î».None},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’exc_info Î».Object
						Ï’message  = Î»args[1]
						Ï’self     = Î»args[0]
						Ï’tb       = Î»args[2]
						Ï’tb_data  Î».Object
						Ï„mp0      Î».Object
					)
					if Ï’message != Î».None {
						Î».Calm(Ï’self, "to_stderr", Ï’message)
					}
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("verbose"))) {
						if Ï’tb == Î».None {
							if Î».IsTrue(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».IntLiteral(0))) {
								Ï’tb = Î».StrLiteral("")
								if Î».IsTrue(func() Î».Object {
									if Î»v := Î».Cal(Î».BuiltinHasAttr, Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».IntLiteral(1)), Î».StrLiteral("exc_info")); !Î».IsTrue(Î»v) {
										return Î»v
									} else {
										return Î».GetItem(Î».GetAttr(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».IntLiteral(1)), "exc_info", nil), Î».IntLiteral(0))
									}
								}()) {
									Ï„mp0 = Î».IAdd(Ï’tb, Î».Calm(Î».StrLiteral(""), "join", Î».Calm(Î».None, "format_exception", Î».Unpack(Î».AsStarred(Î».GetAttr(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».IntLiteral(1)), "exc_info", nil)))...)))
									Ï’tb = Ï„mp0
								}
								Ï„mp0 = Î».IAdd(Ï’tb, Î».Cal(Î».None, Î».Calm(Î».None, "format_exc")))
								Ï’tb = Ï„mp0
							} else {
								Ï’tb_data = Î».Calm(Î».None, "format_list", Î».Calm(Î».None, "extract_stack"))
								Ï’tb = Î».Calm(Î».StrLiteral(""), "join", Ï’tb_data)
							}
						}
						Î».Calm(Ï’self, "to_stderr", Ï’tb)
					}
					if !Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("ignoreerrors"), Î».False)) {
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».IntLiteral(0)); !Î».IsTrue(Î»v) {
								return Î»v
							} else if Î»v := Î».Cal(Î».BuiltinHasAttr, Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».IntLiteral(1)), Î».StrLiteral("exc_info")); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».GetItem(Î».GetAttr(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».IntLiteral(1)), "exc_info", nil), Î».IntLiteral(0))
							}
						}()) {
							Ï’exc_info = Î».GetAttr(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».IntLiteral(1)), "exc_info", nil)
						} else {
							Ï’exc_info = Î».Cal(Î©sys.Ï’exc_info)
						}
						panic(Î».Raise(Î».Cal(DownloadError, Ï’message, Ï’exc_info)))
					}
					Î».SetAttr(Ï’self, "_download_retcode", Î».IntLiteral(1))
					return Î».None
				})
			YoutubeDL_report_warning = Î».NewFunction("report_warning",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’_msg_header     Î».Object
						Ï’message         = Î»args[1]
						Ï’self            = Î»args[0]
						Ï’warning_message Î».Object
					)
					if Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("logger")) != Î».None {
						Î».Calm(Î».GetItem(Î».GetAttr(Ï’self, "params", nil), Î».StrLiteral("logger")), "warning", Ï’message)
					} else {
						if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("no_warnings"))) {
							return Î».None
						}
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».NewBool(!Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("no_color")))); !Î».IsTrue(Î»v) {
								return Î»v
							} else if Î»v := Î».Calm(Î».GetAttr(Ï’self, "_err_file", nil), "isatty"); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Ne(Î».None, Î».StrLiteral("nt"))
							}
						}()) {
							Ï’_msg_header = Î».StrLiteral("[0;33mWARNING:[0m")
						} else {
							Ï’_msg_header = Î».StrLiteral("WARNING:")
						}
						Ï’warning_message = Î».Mod(Î».StrLiteral("%s %s"), Î».NewTuple(
							Ï’_msg_header,
							Ï’message,
						))
						Î».Calm(Ï’self, "to_stderr", Ï’warning_message)
					}
					return Î».None
				})
			YoutubeDL_report_error = Î».NewFunction("report_error",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
					{Name: "tb", Def: Î».None},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’_msg_header   Î».Object
						Ï’error_message Î».Object
						Ï’message       = Î»args[1]
						Ï’self          = Î»args[0]
						Ï’tb            = Î»args[2]
					)
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».NewBool(!Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("no_color")))); !Î».IsTrue(Î»v) {
							return Î»v
						} else if Î»v := Î».Calm(Î».GetAttr(Ï’self, "_err_file", nil), "isatty"); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Ne(Î».None, Î».StrLiteral("nt"))
						}
					}()) {
						Ï’_msg_header = Î».StrLiteral("[0;31mERROR:[0m")
					} else {
						Ï’_msg_header = Î».StrLiteral("ERROR:")
					}
					Ï’error_message = Î».Mod(Î».StrLiteral("%s %s"), Î».NewTuple(
						Ï’_msg_header,
						Ï’message,
					))
					Î».Calm(Ï’self, "trouble", Ï’error_message, Ï’tb)
					return Î».None
				})
			YoutubeDL_prepare_filename = Î».NewFunction("prepare_filename",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						FIELD_SIZE_COMPAT_RE   Î».Object
						FORMAT_RE              Î».Object
						Ï’autonumber_size       Î».Object
						Ï’field_size_compat_map Î».Object
						Ï’filename              Î».Object
						Ï’info_dict             = Î»args[1]
						Ï’mobj                  Î».Object
						Ï’numeric_field         Î».Object
						Ï’outtmpl               Î».Object
						Ï’sanitize              Î».Object
						Ï’self                  = Î»args[0]
						Ï’sep                   Î».Object
						Ï’template_dict         Î».Object
						Ï„mp0                   Î».Object
						Ï„mp1                   Î».Object
						Ï„mp2                   Î».Object
						Ï„mp3                   Î».Object
					)
					Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
						defer Î».CatchMulti(
							nil,
							&Î».Catcher{Î».ValueErrorType, func(Î»ex Î».BaseException) {
								var Ï’err Î».Object = Î»ex
								Î».Calm(Ï’self, "report_error", Î».Add(Î».Add(Î».Add(Î».Add(Î».StrLiteral("Error in output template: "), Î».Cal(Î».StrType, Ï’err)), Î».StrLiteral(" (encoding: ")), Î».Cal(Î».BuiltinRepr, Î».Cal(Ï’preferredencoding))), Î».StrLiteral(")")))
								Î»exit, Î»ret = Î».BlockExitReturn, Î».None
								return
							}},
						)
						Ï’template_dict = Î».Cal(Î».DictType, Ï’info_dict)
						Î».SetItem(Ï’template_dict, Î».StrLiteral("epoch"), Î».Cal(Î».IntType, Î».Cal(Î©time.Ï’time)))
						Ï’autonumber_size = Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("autonumber_size"))
						if Ï’autonumber_size == Î».None {
							Ï’autonumber_size = Î».IntLiteral(5)
						}
						Î».SetItem(Ï’template_dict, Î».StrLiteral("autonumber"), Î».Add(Î».Sub(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("autonumber_start"), Î».IntLiteral(1)), Î».IntLiteral(1)), Î».GetAttr(Ï’self, "_num_downloads", nil)))
						if Î».Calm(Ï’template_dict, "get", Î».StrLiteral("resolution")) == Î».None {
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Calm(Ï’template_dict, "get", Î».StrLiteral("width")); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Calm(Ï’template_dict, "get", Î».StrLiteral("height"))
								}
							}()) {
								Î».SetItem(Ï’template_dict, Î».StrLiteral("resolution"), Î».Mod(Î».StrLiteral("%dx%d"), Î».NewTuple(
									Î».GetItem(Ï’template_dict, Î».StrLiteral("width")),
									Î».GetItem(Ï’template_dict, Î».StrLiteral("height")),
								)))
							} else {
								if Î».IsTrue(Î».Calm(Ï’template_dict, "get", Î».StrLiteral("height"))) {
									Î».SetItem(Ï’template_dict, Î».StrLiteral("resolution"), Î».Mod(Î».StrLiteral("%sp"), Î».GetItem(Ï’template_dict, Î».StrLiteral("height"))))
								} else {
									if Î».IsTrue(Î».Calm(Ï’template_dict, "get", Î».StrLiteral("width"))) {
										Î».SetItem(Ï’template_dict, Î».StrLiteral("resolution"), Î».Mod(Î».StrLiteral("%dx?"), Î».GetItem(Ï’template_dict, Î».StrLiteral("width"))))
									}
								}
							}
						}
						Ï’sanitize = Î».NewFunction("<lambda>",
							[]Î».Param{
								{Name: "k"},
								{Name: "v"},
							},
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								var (
									Ï’k = Î»args[0]
									Ï’v = Î»args[1]
								)
								return Î».Call(Ï’sanitize_filename, Î».NewArgs(Î».Cal(Ï’compat_str, Ï’v)), Î».KWArgs{
									{Name: "restricted", Value: Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("restrictfilenames"))},
									{Name: "is_id", Value: func() Î».Object {
										if Î»v := Î».Eq(Ï’k, Î».StrLiteral("id")); Î».IsTrue(Î»v) {
											return Î»v
										} else {
											return Î».Calm(Ï’k, "endswith", Î».StrLiteral("_id"))
										}
									}()},
								})
							})
						Ï’template_dict = Î».Cal(Î».DictType, Î».Cal(Î».NewFunction("<generator>",
							nil,
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
									var (
										Ï’k   Î».Object
										Ï’v   Î».Object
										Ï„mp0 Î».Object
										Ï„mp1 Î».Object
										Ï„mp2 Î».Object
									)
									Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Calm(Ï’template_dict, "items"))
									for {
										if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
											break
										}
										Ï„mp2 = Ï„mp1
										Ï’k = Î».GetItem(Ï„mp2, Î».IntLiteral(0))
										Ï’v = Î».GetItem(Ï„mp2, Î».IntLiteral(1))
										if Î».IsTrue(func() Î».Object {
											if Î»v := Î».NewBool(Ï’v != Î».None); !Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Î».NewBool(!Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’v, Î».NewTuple(
													Î».ListType,
													Î».TupleType,
													Î».DictType,
												))))
											}
										}()) {
											Î»gy.Yield(Î».NewTuple(
												Ï’k,
												func() Î».Object {
													if Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’v, Ï’compat_numeric_types)) {
														return Ï’v
													} else {
														return Î».Cal(Ï’sanitize, Ï’k, Ï’v)
													}
												}(),
											))
										}
									}
									return Î».None
								})
							})))
						Ï’template_dict = Î».Cal(Î©collections.Ï’defaultdict, Î».NewFunction("<lambda>",
							nil,
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								return Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("outtmpl_na_placeholder"), Î».StrLiteral("NA"))
							}), Ï’template_dict)
						Ï’outtmpl = Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("outtmpl"), DEFAULT_OUTTMPL)
						Ï’field_size_compat_map = Î».DictLiteral(map[string]Î».Object{
							"playlist_index": Î».Cal(Î».BuiltinLen, Î».Cal(Î».StrType, Î».GetItem(Ï’template_dict, Î».StrLiteral("n_entries")))),
							"autonumber":     Ï’autonumber_size,
						})
						FIELD_SIZE_COMPAT_RE = Î».StrLiteral("(?<!%)%\\((?P<field>autonumber|playlist_index)\\)s")
						Ï’mobj = Î».Cal(Î©re.Ï’search, FIELD_SIZE_COMPAT_RE, Ï’outtmpl)
						if Î».IsTrue(Ï’mobj) {
							Ï’outtmpl = Î».Cal(Î©re.Ï’sub, FIELD_SIZE_COMPAT_RE, Î».Mod(Î».StrLiteral("%%(\\1)0%dd"), Î».GetItem(Ï’field_size_compat_map, Î».Calm(Ï’mobj, "group", Î».StrLiteral("field")))), Ï’outtmpl)
						}
						Ï„mp2 = Î».Cal(Î».BuiltinIter, Î».GetAttr(Ï’self, "_NUMERIC_FIELDS", nil))
						for {
							if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
								break
							}
							Ï’numeric_field = Ï„mp3
							if !Î».Contains(Ï’template_dict, Ï’numeric_field) {
								FORMAT_RE = Î».StrLiteral("(?x)\n                        (?<!%)\n                        %\n                        \\({0}\\)  # mapping key\n                        (?:[#0\\-+ ]+)?  # conversion flags (optional)\n                        (?:\\d+)?  # minimum field width (optional)\n                        (?:\\.\\d+)?  # precision (optional)\n                        [hlL]?  # length modifier (optional)\n                        [diouxXeEfFgGcrs%]  # conversion type\n                    ")
								Ï’outtmpl = Î».Cal(Î©re.Ï’sub, Î».Calm(FORMAT_RE, "format", Ï’numeric_field), Î».Calm(Î».StrLiteral("%({0})s"), "format", Ï’numeric_field), Ï’outtmpl)
							}
						}
						Ï’sep = Î».Calm(Î».StrLiteral(""), "join", Î».Cal(Î».ListType, Î».Cal(Î».NewFunction("<generator>",
							nil,
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
									var (
										Ï„mp0 Î».Object
										Ï„mp1 Î».Object
									)
									Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».RangeType, Î».IntLiteral(32)))
									for {
										if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
											break
										}
										_ = Ï„mp1
										Î»gy.Yield(Î».Cal(Î©random.Ï’choice, Ï’ascii_letters))
									}
									return Î».None
								})
							}))))
						Ï’outtmpl = Î».Calm(Î».Calm(Ï’outtmpl, "replace", Î».StrLiteral("%%"), Î».Calm(Î».StrLiteral("%{0}%"), "format", Ï’sep)), "replace", Î».StrLiteral("$$"), Î».Calm(Î».StrLiteral("${0}$"), "format", Ï’sep))
						Ï’filename = Î».Mod(Î».Calm(Î».Cal(Ï’expand_path, Ï’outtmpl), "replace", Ï’sep, Î».StrLiteral("")), Ï’template_dict)
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».Lt(Î©sys.Ï’version_info, Î».NewTuple(
								Î».IntLiteral(3),
								Î».IntLiteral(0),
							)); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Eq(Î©sys.Ï’platform, Î».StrLiteral("win32"))
							}
						}()) {
							Ï’filename = Î».Calm(Î».Cal(Î».None, Ï’filename, Î».True), "decode", Î».Cal(Ï’preferredencoding))
						}
						Î»exit, Î»ret = Î».BlockExitReturn, Î».Cal(Ï’sanitize_path, Ï’filename)
						return
						return Î».BlockExitNormally, nil
					}()
					if Ï„mp0 == Î».BlockExitReturn {
						return Ï„mp1
					}
					return Î».None
				})
			YoutubeDL_add_extra_info = Î».NewFunction("add_extra_info",
				[]Î».Param{
					{Name: "info_dict"},
					{Name: "extra_info"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’extra_info = Î»args[1]
						Ï’info_dict  = Î»args[0]
						Ï’key        Î».Object
						Ï’value      Î».Object
						Ï„mp0        Î».Object
						Ï„mp1        Î».Object
						Ï„mp2        Î».Object
					)
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Calm(Ï’extra_info, "items"))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï„mp2 = Ï„mp1
						Ï’key = Î».GetItem(Ï„mp2, Î».IntLiteral(0))
						Ï’value = Î».GetItem(Ï„mp2, Î».IntLiteral(1))
						Î».Calm(Ï’info_dict, "setdefault", Ï’key, Ï’value)
					}
					return Î».None
				})
			YoutubeDL_add_extra_info = Î».Cal(Î».StaticMethodType, YoutubeDL_add_extra_info)
			YoutubeDL_extract_info = Î».NewFunction("extract_info",
				[]Î».Param{
					{Name: "self"},
					{Name: "url"},
					{Name: "download", Def: Î».True},
					{Name: "ie_key", Def: Î».None},
					{Name: "extra_info", Def: Î».DictLiteral(map[Î».Object]Î».Object{})},
					{Name: "process", Def: Î».True},
					{Name: "force_generic_extractor", Def: Î».False},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’download                = Î»args[2]
						Ï’extra_info              = Î»args[4]
						Ï’force_generic_extractor = Î»args[6]
						Ï’ie                      Î».Object
						Ï’ie_key                  = Î»args[3]
						Ï’ies                     Î».Object
						Ï’process                 = Î»args[5]
						Ï’self                    = Î»args[0]
						Ï’url                     = Î»args[1]
						Ï„mp0                     Î».Object
						Ï„mp1                     Î».Object
					)
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».NewBool(!Î».IsTrue(Ï’ie_key)); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Ï’force_generic_extractor
						}
					}()) {
						Ï’ie_key = Î».StrLiteral("Generic")
					}
					if Î».IsTrue(Ï’ie_key) {
						Ï’ies = Î».NewList(Î».Calm(Ï’self, "get_info_extractor", Ï’ie_key))
					} else {
						Ï’ies = Î».GetAttr(Ï’self, "_ies", nil)
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’ies)
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’ie = Ï„mp1
						if !Î».IsTrue(Î».Calm(Ï’ie, "suitable", Ï’url)) {
							continue
						}
						Ï’ie = Î».Calm(Ï’self, "get_info_extractor", Î».Calm(Ï’ie, "ie_key"))
						if !Î».IsTrue(Î».Calm(Ï’ie, "working")) {
							Î».Calm(Ï’self, "report_warning", Î».StrLiteral("The program functionality for this site has been marked as broken, and will probably not work."))
						}
						return Î».Calm(Ï’self, "__extract_info", Ï’url, Ï’ie, Ï’download, Ï’extra_info, Ï’process)
					}
					if Ï„mp1 == Î».AfterLast {
						Î».Calm(Ï’self, "report_error", Î».Mod(Î».StrLiteral("no suitable InfoExtractor for URL %s"), Ï’url))
					}
					return Î».None
				})
			YoutubeDL___handle_extraction_exceptions = Î».NewFunction("__handle_extraction_exceptions",
				[]Î».Param{
					{Name: "func"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’func    = Î»args[0]
						Ï’wrapper Î».Object
					)
					Ï’wrapper = Î».NewFunction("wrapper",
						[]Î».Param{
							{Name: "self"},
						},
						0, true, true,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’args   = Î»args[1]
								Ï’kwargs = Î»args[2]
								Ï’msg    Î».Object
								Ï’self   = Î»args[0]
								Ï„mp0    Î».Object
								Ï„mp1    Î».Object
								Ï„mp2    Î».Object
							)
							Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
								defer Î».CatchMulti(
									nil,
									&Î».Catcher{GeoRestrictedError, func(Î»ex Î».BaseException) {
										var Ï’e Î».Object = Î»ex
										Ï’msg = Î».GetAttr(Ï’e, "msg", nil)
										if Î».IsTrue(Î».GetAttr(Ï’e, "countries", nil)) {
											Ï„mp2 = Î».IAdd(Ï’msg, Î».Mod(Î».StrLiteral("\nThis video is available in %s."), Î».Calm(Î».StrLiteral(", "), "join", Î».Cal(Î».MapIteratorType, Î».GetAttr(Î».None, "short2full", nil), Î».GetAttr(Ï’e, "countries", nil)))))
											Ï’msg = Ï„mp2
										}
										Ï„mp2 = Î».IAdd(Ï’msg, Î».StrLiteral("\nYou might want to use a VPN or a proxy server (with --proxy) to workaround."))
										Ï’msg = Ï„mp2
										Î».Calm(Ï’self, "report_error", Ï’msg)
									}},
									&Î».Catcher{ExtractorError, func(Î»ex Î».BaseException) {
										var Ï’e Î».Object = Î»ex
										Î».Calm(Ï’self, "report_error", Î».Cal(Ï’compat_str, Ï’e), Î».Calm(Ï’e, "format_traceback"))
									}},
									&Î».Catcher{MaxDownloadsReached, func(Î»ex Î».BaseException) {
										panic(Î».Raise(Î»ex))
									}},
									&Î».Catcher{Î».ExceptionType, func(Î»ex Î».BaseException) {
										var Ï’e Î».Object = Î»ex
										if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("ignoreerrors"), Î».False)) {
											Î».Call(Î».GetAttr(Ï’self, "report_error", nil), Î».NewArgs(Î».Cal(Ï’error_to_compat_str, Ï’e)), Î».KWArgs{
												{Name: "tb", Value: Î».Cal(Î».None, Î».Calm(Î».None, "format_exc"))},
											})
										} else {
											panic(Î».Raise(Î»ex))
										}
									}},
								)
								Î»exit, Î»ret = Î».BlockExitReturn, Î».Call(Ï’func, Î».NewArgs(Î».Unpack(
									Ï’self,
									Î».AsStarred(Ï’args),
								)...), Î».KWArgs{
									{Name: "", Value: Ï’kwargs},
								})
								return
								return Î».BlockExitNormally, nil
							}()
							if Ï„mp0 == Î».BlockExitReturn {
								return Ï„mp1
							}
							return Î».None
						})
					return Ï’wrapper
				})
			YoutubeDL___extract_info = Î».NewFunction("__extract_info",
				[]Î».Param{
					{Name: "self"},
					{Name: "url"},
					{Name: "ie"},
					{Name: "download"},
					{Name: "extra_info"},
					{Name: "process"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’download   = Î»args[3]
						Ï’extra_info = Î»args[4]
						Ï’ie         = Î»args[2]
						Ï’ie_result  Î».Object
						Ï’process    = Î»args[5]
						Ï’self       = Î»args[0]
						Ï’url        = Î»args[1]
					)
					Ï’ie_result = Î».Calm(Ï’ie, "extract", Ï’url)
					if Ï’ie_result == Î».None {
						return Î».None
					}
					if Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’ie_result, Î».ListType)) {
						Ï’ie_result = Î».DictLiteral(map[string]Î».Object{
							"_type":   Î».StrLiteral("compat_list"),
							"entries": Ï’ie_result,
						})
					}
					Î».Calm(Ï’self, "add_default_extra_info", Ï’ie_result, Ï’ie, Ï’url)
					if Î».IsTrue(Ï’process) {
						return Î».Calm(Ï’self, "process_ie_result", Ï’ie_result, Ï’download, Ï’extra_info)
					} else {
						return Ï’ie_result
					}
					return Î».None
				})
			YoutubeDL___extract_info = Î».Cal(YoutubeDL___handle_extraction_exceptions, YoutubeDL___extract_info)
			YoutubeDL_add_default_extra_info = Î».NewFunction("add_default_extra_info",
				[]Î».Param{
					{Name: "self"},
					{Name: "ie_result"},
					{Name: "ie"},
					{Name: "url"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ie        = Î»args[2]
						Ï’ie_result = Î»args[1]
						Ï’self      = Î»args[0]
						Ï’url       = Î»args[3]
					)
					Î».Calm(Ï’self, "add_extra_info", Ï’ie_result, Î».DictLiteral(map[string]Î».Object{
						"extractor":            Î».GetAttr(Ï’ie, "IE_NAME", nil),
						"webpage_url":          Ï’url,
						"webpage_url_basename": Î».Cal(Ï’url_basename, Ï’url),
						"extractor_key":        Î».Calm(Ï’ie, "ie_key"),
					}))
					return Î».None
				})
			YoutubeDL_process_ie_result = Î».NewFunction("process_ie_result",
				[]Î».Param{
					{Name: "self"},
					{Name: "ie_result"},
					{Name: "download", Def: Î».True},
					{Name: "extra_info", Def: Î».DictLiteral(map[Î».Object]Î».Object{})},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’_fixup           Î».Object
						Ï’download         = Î»args[2]
						Ï’extra_info       = Î»args[3]
						Ï’extract_flat     Î».Object
						Ï’f                Î».Object
						Ï’force_properties Î».Object
						Ï’ie_result        = Î»args[1]
						Ï’info             Î».Object
						Ï’new_result       Î».Object
						Ï’result_type      Î».Object
						Ï’self             = Î»args[0]
						Ï’webpage_url      Î».Object
						Ï„mp0              Î».Object
						Ï„mp1              Î».Object
						Ï„mp2              Î».Object
					)
					Ï’result_type = Î».Calm(Ï’ie_result, "get", Î».StrLiteral("_type"), Î».StrLiteral("video"))
					if Î».Contains(Î».NewTuple(
						Î».StrLiteral("url"),
						Î».StrLiteral("url_transparent"),
					), Ï’result_type) {
						Î».SetItem(Ï’ie_result, Î».StrLiteral("url"), Î».Cal(Ï’sanitize_url, Î».GetItem(Ï’ie_result, Î».StrLiteral("url"))))
						Ï’extract_flat = Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("extract_flat"), Î».False)
						if Î».IsTrue(func() Î».Object {
							if Î»v := func() Î».Object {
								if Î»v := Î».Eq(Ï’extract_flat, Î».StrLiteral("in_playlist")); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».NewBool(Î».Contains(Ï’extra_info, Î».StrLiteral("playlist")))
								}
							}(); Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».NewBool(Ï’extract_flat == Î».True)
							}
						}()) {
							Î».Call(Î».GetAttr(Ï’self, "__forced_printings", nil), Î».NewArgs(
								Ï’ie_result,
								Î».Calm(Ï’self, "prepare_filename", Ï’ie_result),
							), Î».KWArgs{
								{Name: "incomplete", Value: Î».True},
							})
							return Ï’ie_result
						}
					}
					if Î».IsTrue(Î».Eq(Ï’result_type, Î».StrLiteral("video"))) {
						Î».Calm(Ï’self, "add_extra_info", Ï’ie_result, Ï’extra_info)
						return Î».Call(Î».GetAttr(Ï’self, "process_video_result", nil), Î».NewArgs(Ï’ie_result), Î».KWArgs{
							{Name: "download", Value: Ï’download},
						})
					} else {
						if Î».IsTrue(Î».Eq(Ï’result_type, Î».StrLiteral("url"))) {
							return Î».Call(Î».GetAttr(Ï’self, "extract_info", nil), Î».NewArgs(
								Î».GetItem(Ï’ie_result, Î».StrLiteral("url")),
								Ï’download,
							), Î».KWArgs{
								{Name: "ie_key", Value: Î».Calm(Ï’ie_result, "get", Î».StrLiteral("ie_key"))},
								{Name: "extra_info", Value: Ï’extra_info},
							})
						} else {
							if Î».IsTrue(Î».Eq(Ï’result_type, Î».StrLiteral("url_transparent"))) {
								Ï’info = Î».Call(Î».GetAttr(Ï’self, "extract_info", nil), Î».NewArgs(Î».GetItem(Ï’ie_result, Î».StrLiteral("url"))), Î».KWArgs{
									{Name: "ie_key", Value: Î».Calm(Ï’ie_result, "get", Î».StrLiteral("ie_key"))},
									{Name: "extra_info", Value: Ï’extra_info},
									{Name: "download", Value: Î».False},
									{Name: "process", Value: Î».False},
								})
								if !Î».IsTrue(Ï’info) {
									return Ï’info
								}
								Ï’force_properties = Î».Cal(Î».DictType, Î».Cal(Î».NewFunction("<generator>",
									nil,
									0, false, false,
									func(Î»args []Î».Object) Î».Object {
										return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
											var (
												Ï’k   Î».Object
												Ï’v   Î».Object
												Ï„mp0 Î».Object
												Ï„mp1 Î».Object
												Ï„mp2 Î».Object
											)
											Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Calm(Ï’ie_result, "items"))
											for {
												if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
													break
												}
												Ï„mp2 = Ï„mp1
												Ï’k = Î».GetItem(Ï„mp2, Î».IntLiteral(0))
												Ï’v = Î».GetItem(Ï„mp2, Î».IntLiteral(1))
												if Ï’v != Î».None {
													Î»gy.Yield(Î».NewTuple(
														Ï’k,
														Ï’v,
													))
												}
											}
											return Î».None
										})
									})))
								Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».NewTuple(
									Î».StrLiteral("_type"),
									Î».StrLiteral("url"),
									Î».StrLiteral("id"),
									Î».StrLiteral("extractor"),
									Î».StrLiteral("extractor_key"),
									Î».StrLiteral("ie_key"),
								))
								for {
									if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
										break
									}
									Ï’f = Ï„mp1
									if Î».Contains(Ï’force_properties, Ï’f) {
										Î».DelItem(Ï’force_properties, Ï’f)
									}
								}
								Ï’new_result = Î».Calm(Ï’info, "copy")
								Î».Calm(Ï’new_result, "update", Ï’force_properties)
								if Î».IsTrue(Î».Eq(Î».Calm(Ï’new_result, "get", Î».StrLiteral("_type")), Î».StrLiteral("url"))) {
									Î».SetItem(Ï’new_result, Î».StrLiteral("_type"), Î».StrLiteral("url_transparent"))
								}
								return Î».Call(Î».GetAttr(Ï’self, "process_ie_result", nil), Î».NewArgs(Ï’new_result), Î».KWArgs{
									{Name: "download", Value: Ï’download},
									{Name: "extra_info", Value: Ï’extra_info},
								})
							} else {
								if Î».Contains(Î».NewTuple(
									Î».StrLiteral("playlist"),
									Î».StrLiteral("multi_video"),
								), Ï’result_type) {
									panic(Î».Raise(Î».Cal(Î».ExceptionType, Î».StrLiteral("Playlists and multi video results are not supported!"))))
									Ï’webpage_url = Î».GetItem(Ï’ie_result, Î».StrLiteral("webpage_url"))
									if Î».Contains(Î».GetAttr(Ï’self, "_playlist_urls", nil), Ï’webpage_url) {
										Î».Calm(Ï’self, "to_screen", func() Î».Object {
											if Î»v := Î».Mod(Î».StrLiteral("[download] Skipping already downloaded playlist: %s"), Î».Calm(Ï’ie_result, "get", Î».StrLiteral("title"))); Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Î».Calm(Ï’ie_result, "get", Î».StrLiteral("id"))
											}
										}())
										return Î».None
									}
									Ï„mp0 = Î».IAdd(Î».GetAttr(Ï’self, "_playlist_level", nil), Î».IntLiteral(1))
									Î».SetAttr(Ï’self, "_playlist_level", Ï„mp0)
									Î».Calm(Î».GetAttr(Ï’self, "_playlist_urls", nil), "add", Ï’webpage_url)
									Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
										defer func() {
											Ï„mp2 = Î».ISub(Î».GetAttr(Ï’self, "_playlist_level", nil), Î».IntLiteral(1))
											Î».SetAttr(Ï’self, "_playlist_level", Ï„mp2)
											if !Î».IsTrue(Î».GetAttr(Ï’self, "_playlist_level", nil)) {
												Î».Calm(Î».GetAttr(Ï’self, "_playlist_urls", nil), "clear")
											}
										}()
										Î»exit, Î»ret = Î».BlockExitReturn, Î».Calm(Ï’self, "__process_playlist", Ï’ie_result, Ï’download)
										return
										return Î».BlockExitNormally, nil
									}()
									if Ï„mp0 == Î».BlockExitReturn {
										return Ï„mp1
									}
								} else {
									if Î».IsTrue(Î».Eq(Ï’result_type, Î».StrLiteral("compat_list"))) {
										Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("Extractor %s returned a compat_list result. It needs to be updated."), Î».Calm(Ï’ie_result, "get", Î».StrLiteral("extractor"))))
										Ï’_fixup = Î».NewFunction("_fixup",
											[]Î».Param{
												{Name: "r"},
											},
											0, false, false,
											func(Î»args []Î».Object) Î».Object {
												var (
													Ï’r = Î»args[0]
												)
												Î».Calm(Ï’self, "add_extra_info", Ï’r, Î».DictLiteral(map[string]Î».Object{
													"extractor":            Î».GetItem(Ï’ie_result, Î».StrLiteral("extractor")),
													"webpage_url":          Î».GetItem(Ï’ie_result, Î».StrLiteral("webpage_url")),
													"webpage_url_basename": Î».Cal(Ï’url_basename, Î».GetItem(Ï’ie_result, Î».StrLiteral("webpage_url"))),
													"extractor_key":        Î».GetItem(Ï’ie_result, Î».StrLiteral("extractor_key")),
												}))
												return Ï’r
											})
										Î».SetItem(Ï’ie_result, Î».StrLiteral("entries"), Î».Cal(Î».ListType, Î».Cal(Î».NewFunction("<generator>",
											nil,
											0, false, false,
											func(Î»args []Î».Object) Î».Object {
												return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
													var (
														Ï’r   Î».Object
														Ï„mp0 Î».Object
														Ï„mp1 Î».Object
													)
													Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».GetItem(Ï’ie_result, Î».StrLiteral("entries")))
													for {
														if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
															break
														}
														Ï’r = Ï„mp1
														Î»gy.Yield(Î».Calm(Ï’self, "process_ie_result", Î».Cal(Ï’_fixup, Ï’r), Ï’download, Ï’extra_info))
													}
													return Î».None
												})
											}))))
										return Ï’ie_result
									} else {
										panic(Î».Raise(Î».Cal(Î».ExceptionType, Î».Mod(Î».StrLiteral("Invalid result type: %s"), Ï’result_type))))
									}
								}
							}
						}
					}
					return Î».None
				})
			YoutubeDL__default_format_spec = Î».NewFunction("_default_format_spec",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
					{Name: "download", Def: Î».True},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’can_merge       Î».Object
						Ï’download        = Î»args[2]
						Ï’info_dict       = Î»args[1]
						Ï’prefer_best     Î».Object
						Ï’req_format_list Î».Object
						Ï’self            = Î»args[0]
					)
					Ï’can_merge = Î».NewFunction("can_merge",
						nil,
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’merger Î».Object
							)
							Ï’merger = Î».Cal(Î».None, Ï’self)
							return func() Î».Object {
								if Î»v := Î».GetAttr(Ï’merger, "available", nil); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Calm(Ï’merger, "can_merge")
								}
							}()
						})
					Ï’prefer_best = Î».NewFunction("prefer_best",
						nil,
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("simulate"), Î».False)) {
								return Î».False
							}
							if !Î».IsTrue(Ï’download) {
								return Î».False
							}
							if Î».IsTrue(Î».Eq(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("outtmpl"), DEFAULT_OUTTMPL), Î».StrLiteral("-"))) {
								return Î».True
							}
							if Î».IsTrue(Î».Calm(Ï’info_dict, "get", Î».StrLiteral("is_live"))) {
								return Î».True
							}
							if !Î».IsTrue(Î».Cal(Ï’can_merge)) {
								return Î».True
							}
							return Î».False
						})
					Ï’req_format_list = Î».NewList(
						Î».StrLiteral("bestvideo+bestaudio"),
						Î».StrLiteral("best"),
					)
					if Î».IsTrue(Î».Cal(Ï’prefer_best)) {
						Î».Calm(Ï’req_format_list, "reverse")
					}
					return Î».Calm(Î».StrLiteral("/"), "join", Ï’req_format_list)
				})
			YoutubeDL__calc_headers = Î».NewFunction("_calc_headers",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’add_headers        Î».Object
						Ï’cookies            Î».Object
						Ï’info_dict          = Î»args[1]
						Ï’res                Î».Object
						Ï’self               = Î»args[0]
						Ï’x_forwarded_for_ip Î».Object
					)
					Ï’res = Î».Calm(Ï’std_headers, "copy")
					Ï’add_headers = Î».Calm(Ï’info_dict, "get", Î».StrLiteral("http_headers"))
					if Î».IsTrue(Ï’add_headers) {
						Î».Calm(Ï’res, "update", Ï’add_headers)
					}
					Ï’cookies = Î».Calm(Ï’self, "_calc_cookies", Ï’info_dict)
					if Î».IsTrue(Ï’cookies) {
						Î».SetItem(Ï’res, Î».StrLiteral("Cookie"), Ï’cookies)
					}
					if !Î».Contains(Ï’res, Î».StrLiteral("X-Forwarded-For")) {
						Ï’x_forwarded_for_ip = Î».Calm(Ï’info_dict, "get", Î».StrLiteral("__x_forwarded_for_ip"))
						if Î».IsTrue(Ï’x_forwarded_for_ip) {
							Î».SetItem(Ï’res, Î».StrLiteral("X-Forwarded-For"), Ï’x_forwarded_for_ip)
						}
					}
					return Ï’res
				})
			YoutubeDL__calc_cookies = Î».NewFunction("_calc_cookies",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’info_dict = Î»args[1]
						Ï’pr        Î».Object
						Ï’self      = Î»args[0]
					)
					Ï’pr = Î».Cal(Ï’sanitized_Request, Î».GetItem(Ï’info_dict, Î».StrLiteral("url")))
					Î».Calm(Î».GetAttr(Ï’self, "cookiejar", nil), "add_cookie_header", Ï’pr)
					return Î».Calm(Ï’pr, "get_header", Î».StrLiteral("Cookie"))
				})
			YoutubeDL_process_video_result = Î».NewFunction("process_video_result",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
					{Name: "download", Def: Î».True},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ambiguous_formats       Î».Object
						Ï’automatic_captions      Î».Object
						Ï’cc                      Î».Object
						Ï’cc_kind                 Î».Object
						Ï’ctx                     Î».Object
						Ï’download                = Î»args[2]
						Ï’field                   Î».Object
						Ï’format                  Î».Object
						Ï’format_id               Î».Object
						Ï’format_selector         Î».Object
						Ï’formats                 Î».Object
						Ï’formats_dict            Î».Object
						Ï’formats_to_download     Î».Object
						Ï’full_format_info        Î».Object
						Ï’i                       Î».Object
						Ï’incomplete_formats      Î».Object
						Ï’info_dict               = Î»args[1]
						Ï’is_wellformed           Î».Object
						Ï’new_info                Î».Object
						Ï’report_force_conversion Î».Object
						Ï’req_format              Î».Object
						Ï’sanitize_numeric_fields Î».Object
						Ï’sanitize_string_field   Î».Object
						Ï’self                    = Î»args[0]
						Ï’subtitle                Î».Object
						Ï’subtitle_format         Î».Object
						Ï’subtitles               Î».Object
						Ï’t                       Î».Object
						Ï’thumbnail               Î».Object
						Ï’thumbnails              Î».Object
						Ï„mp0                     Î».Object
						Ï„mp1                     Î».Object
						Ï„mp2                     Î».Object
						Ï„mp3                     Î».Object
						Ï„mp4                     Î».Object
						Ï„mp5                     Î».Object
					)
					if !Î».IsTrue(Î».Eq(Î».Calm(Ï’info_dict, "get", Î».StrLiteral("_type"), Î».StrLiteral("video")), Î».StrLiteral("video"))) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					if !Î».Contains(Ï’info_dict, Î».StrLiteral("id")) {
						panic(Î».Raise(Î».Cal(ExtractorError, Î».StrLiteral("Missing \"id\" field in extractor result"))))
					}
					if !Î».Contains(Ï’info_dict, Î».StrLiteral("title")) {
						panic(Î».Raise(Î».Cal(ExtractorError, Î».StrLiteral("Missing \"title\" field in extractor result"))))
					}
					Ï’report_force_conversion = Î».NewFunction("report_force_conversion",
						[]Î».Param{
							{Name: "field"},
							{Name: "field_not"},
							{Name: "conversion"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’conversion = Î»args[2]
								Ï’field      = Î»args[0]
								Ï’field_not  = Î»args[1]
							)
							Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("\"%s\" field is not %s - forcing %s conversion, there is an error in extractor"), Î».NewTuple(
								Ï’field,
								Ï’field_not,
								Ï’conversion,
							)))
							return Î».None
						})
					Ï’sanitize_string_field = Î».NewFunction("sanitize_string_field",
						[]Î».Param{
							{Name: "info"},
							{Name: "string_field"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’field        Î».Object
								Ï’info         = Î»args[0]
								Ï’string_field = Î»args[1]
							)
							Ï’field = Î».Calm(Ï’info, "get", Ï’string_field)
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».NewBool(Ï’field == Î».None); Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Cal(Î».BuiltinIsInstance, Ï’field, Ï’compat_str)
								}
							}()) {
								return Î».None
							}
							Î».Cal(Ï’report_force_conversion, Ï’string_field, Î».StrLiteral("a string"), Î».StrLiteral("string"))
							Î».SetItem(Ï’info, Ï’string_field, Î».Cal(Ï’compat_str, Ï’field))
							return Î».None
						})
					Ï’sanitize_numeric_fields = Î».NewFunction("sanitize_numeric_fields",
						[]Î».Param{
							{Name: "info"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’field         Î».Object
								Ï’info          = Î»args[0]
								Ï’numeric_field Î».Object
								Ï„mp0           Î».Object
								Ï„mp1           Î».Object
							)
							Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».GetAttr(Ï’self, "_NUMERIC_FIELDS", nil))
							for {
								if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
									break
								}
								Ï’numeric_field = Ï„mp1
								Ï’field = Î».Calm(Ï’info, "get", Ï’numeric_field)
								if Î».IsTrue(func() Î».Object {
									if Î»v := Î».NewBool(Ï’field == Î».None); Î».IsTrue(Î»v) {
										return Î»v
									} else {
										return Î».Cal(Î».BuiltinIsInstance, Ï’field, Ï’compat_numeric_types)
									}
								}()) {
									continue
								}
								Î».Cal(Ï’report_force_conversion, Ï’numeric_field, Î».StrLiteral("numeric"), Î».StrLiteral("int"))
								Î».SetItem(Ï’info, Ï’numeric_field, Î».Cal(Ï’int_or_none, Ï’field))
							}
							return Î».None
						})
					Î».Cal(Ï’sanitize_string_field, Ï’info_dict, Î».StrLiteral("id"))
					Î».Cal(Ï’sanitize_numeric_fields, Ï’info_dict)
					if !Î».Contains(Ï’info_dict, Î».StrLiteral("playlist")) {
						Î».SetItem(Ï’info_dict, Î».StrLiteral("playlist"), Î».None)
						Î».SetItem(Ï’info_dict, Î».StrLiteral("playlist_index"), Î».None)
					}
					Ï’thumbnails = Î».Calm(Ï’info_dict, "get", Î».StrLiteral("thumbnails"))
					if Ï’thumbnails == Î».None {
						Ï’thumbnail = Î».Calm(Ï’info_dict, "get", Î».StrLiteral("thumbnail"))
						if Î».IsTrue(Ï’thumbnail) {
							Ï„mp0 = Î».NewList(Î».DictLiteral(map[string]Î».Object{
								"url": Ï’thumbnail,
							}))
							Î».SetItem(Ï’info_dict, Î».StrLiteral("thumbnails"), Ï„mp0)
							Ï’thumbnails = Ï„mp0
						}
					}
					if Î».IsTrue(Ï’thumbnails) {
						Î».Call(Î».GetAttr(Ï’thumbnails, "sort", nil), nil, Î».KWArgs{
							{Name: "key", Value: Î».NewFunction("<lambda>",
								[]Î».Param{
									{Name: "t"},
								},
								0, false, false,
								func(Î»args []Î».Object) Î».Object {
									var (
										Ï’t = Î»args[0]
									)
									return Î».NewTuple(
										func() Î».Object {
											if Î».Calm(Ï’t, "get", Î».StrLiteral("preference")) != Î».None {
												return Î».Calm(Ï’t, "get", Î».StrLiteral("preference"))
											} else {
												return Î».Neg(Î».IntLiteral(1))
											}
										}(),
										func() Î».Object {
											if Î».Calm(Ï’t, "get", Î».StrLiteral("width")) != Î».None {
												return Î».Calm(Ï’t, "get", Î».StrLiteral("width"))
											} else {
												return Î».Neg(Î».IntLiteral(1))
											}
										}(),
										func() Î».Object {
											if Î».Calm(Ï’t, "get", Î».StrLiteral("height")) != Î».None {
												return Î».Calm(Ï’t, "get", Î».StrLiteral("height"))
											} else {
												return Î».Neg(Î».IntLiteral(1))
											}
										}(),
										func() Î».Object {
											if Î».Calm(Ï’t, "get", Î».StrLiteral("id")) != Î».None {
												return Î».Calm(Ï’t, "get", Î».StrLiteral("id"))
											} else {
												return Î».StrLiteral("")
											}
										}(),
										Î».Calm(Ï’t, "get", Î».StrLiteral("url")),
									)
								})},
						})
						Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».EnumerateIteratorType, Ï’thumbnails))
						for {
							if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
								break
							}
							Ï„mp2 = Ï„mp1
							Ï’i = Î».GetItem(Ï„mp2, Î».IntLiteral(0))
							Ï’t = Î».GetItem(Ï„mp2, Î».IntLiteral(1))
							Î».SetItem(Ï’t, Î».StrLiteral("url"), Î».Cal(Ï’sanitize_url, Î».GetItem(Ï’t, Î».StrLiteral("url"))))
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Calm(Ï’t, "get", Î».StrLiteral("width")); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Calm(Ï’t, "get", Î».StrLiteral("height"))
								}
							}()) {
								Î».SetItem(Ï’t, Î».StrLiteral("resolution"), Î».Mod(Î».StrLiteral("%dx%d"), Î».NewTuple(
									Î».GetItem(Ï’t, Î».StrLiteral("width")),
									Î».GetItem(Ï’t, Î».StrLiteral("height")),
								)))
							}
							if Î».Calm(Ï’t, "get", Î».StrLiteral("id")) == Î».None {
								Î».SetItem(Ï’t, Î».StrLiteral("id"), Î».Mod(Î».StrLiteral("%d"), Ï’i))
							}
						}
					}
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("list_thumbnails"))) {
						Î».Calm(Ï’self, "list_thumbnails", Ï’info_dict)
						return Î».None
					}
					Ï’thumbnail = Î».Calm(Ï’info_dict, "get", Î».StrLiteral("thumbnail"))
					if Î».IsTrue(Ï’thumbnail) {
						Î».SetItem(Ï’info_dict, Î».StrLiteral("thumbnail"), Î».Cal(Ï’sanitize_url, Ï’thumbnail))
					} else {
						if Î».IsTrue(Ï’thumbnails) {
							Î».SetItem(Ï’info_dict, Î».StrLiteral("thumbnail"), Î».GetItem(Î».GetItem(Ï’thumbnails, Î».Neg(Î».IntLiteral(1))), Î».StrLiteral("url")))
						}
					}
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».NewBool(!Î».Contains(Ï’info_dict, Î».StrLiteral("display_id"))); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(Î».Contains(Ï’info_dict, Î».StrLiteral("id")))
						}
					}()) {
						Î».SetItem(Ï’info_dict, Î».StrLiteral("display_id"), Î».GetItem(Ï’info_dict, Î».StrLiteral("id")))
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».NewTuple(
						Î».StrLiteral("chapter"),
						Î».StrLiteral("season"),
						Î».StrLiteral("episode"),
					))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’field = Ï„mp1
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».NewBool(Î».Calm(Ï’info_dict, "get", Î».Mod(Î».StrLiteral("%s_number"), Ï’field)) != Î».None); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».NewBool(!Î».IsTrue(Î».Calm(Ï’info_dict, "get", Ï’field)))
							}
						}()) {
							Î».SetItem(Ï’info_dict, Ï’field, Î».Mod(Î».StrLiteral("%s %d"), Î».NewTuple(
								Î».Calm(Ï’field, "capitalize"),
								Î».GetItem(Ï’info_dict, Î».Mod(Î».StrLiteral("%s_number"), Ï’field)),
							)))
						}
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».NewTuple(
						Î».StrLiteral("subtitles"),
						Î».StrLiteral("automatic_captions"),
					))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’cc_kind = Ï„mp1
						Ï’cc = Î».Calm(Ï’info_dict, "get", Ï’cc_kind)
						if Î».IsTrue(Ï’cc) {
							Ï„mp2 = Î».Cal(Î».BuiltinIter, Î».Calm(Ï’cc, "items"))
							for {
								if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
									break
								}
								Ï„mp4 = Ï„mp3
								_ = Î».GetItem(Ï„mp4, Î».IntLiteral(0))
								Ï’subtitle = Î».GetItem(Ï„mp4, Î».IntLiteral(1))
								Ï„mp4 = Î».Cal(Î».BuiltinIter, Ï’subtitle)
								for {
									if Ï„mp5 = Î».NextDefault(Ï„mp4, Î».AfterLast); Ï„mp5 == Î».AfterLast {
										break
									}
									Ï’subtitle_format = Ï„mp5
									if Î».IsTrue(Î».Calm(Ï’subtitle_format, "get", Î».StrLiteral("url"))) {
										Î».SetItem(Ï’subtitle_format, Î».StrLiteral("url"), Î».Cal(Ï’sanitize_url, Î».GetItem(Ï’subtitle_format, Î».StrLiteral("url"))))
									}
									if Î».Calm(Ï’subtitle_format, "get", Î».StrLiteral("ext")) == Î».None {
										Î».SetItem(Ï’subtitle_format, Î».StrLiteral("ext"), Î».Calm(Î».Cal(Ï’determine_ext, Î».GetItem(Ï’subtitle_format, Î».StrLiteral("url"))), "lower"))
									}
								}
							}
						}
					}
					Ï’automatic_captions = Î».Calm(Ï’info_dict, "get", Î».StrLiteral("automatic_captions"))
					Ï’subtitles = Î».Calm(Ï’info_dict, "get", Î».StrLiteral("subtitles"))
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("listsubtitles"), Î».False)) {
						if Î».Contains(Ï’info_dict, Î».StrLiteral("automatic_captions")) {
							Î».Calm(Ï’self, "list_subtitles", Î».GetItem(Ï’info_dict, Î».StrLiteral("id")), Ï’automatic_captions, Î».StrLiteral("automatic captions"))
						}
						Î».Calm(Ï’self, "list_subtitles", Î».GetItem(Ï’info_dict, Î».StrLiteral("id")), Ï’subtitles, Î».StrLiteral("subtitles"))
						return Î».None
					}
					Î».SetItem(Ï’info_dict, Î».StrLiteral("requested_subtitles"), Î».Calm(Ï’self, "process_subtitles", Î».GetItem(Ï’info_dict, Î».StrLiteral("id")), Ï’subtitles, Ï’automatic_captions))
					if Î».Calm(Ï’info_dict, "get", Î».StrLiteral("formats")) == Î».None {
						Ï’formats = Î».NewList(Ï’info_dict)
					} else {
						Ï’formats = Î».GetItem(Ï’info_dict, Î».StrLiteral("formats"))
					}
					if !Î».IsTrue(Ï’formats) {
						panic(Î».Raise(Î».Cal(ExtractorError, Î».StrLiteral("No video formats found!"))))
					}
					Ï’is_wellformed = Î».NewFunction("is_wellformed",
						[]Î».Param{
							{Name: "f"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’f   = Î»args[0]
								Ï’url Î».Object
							)
							Ï’url = Î».Calm(Ï’f, "get", Î».StrLiteral("url"))
							if !Î».IsTrue(Ï’url) {
								Î».Calm(Ï’self, "report_warning", Î».StrLiteral("\"url\" field is missing or empty - skipping format, there is an error in extractor"))
								return Î».False
							}
							if Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’url, Î».BytesType)) {
								Î».Cal(Ï’sanitize_string_field, Ï’f, Î».StrLiteral("url"))
							}
							return Î».True
						})
					Ï’formats = Î».Cal(Î».ListType, Î».Cal(Î».FilterIteratorType, Ï’is_wellformed, Ï’formats))
					Ï’formats_dict = Î».DictLiteral(map[Î».Object]Î».Object{})
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».EnumerateIteratorType, Ï’formats))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï„mp2 = Ï„mp1
						Ï’i = Î».GetItem(Ï„mp2, Î».IntLiteral(0))
						Ï’format = Î».GetItem(Ï„mp2, Î».IntLiteral(1))
						Î».Cal(Ï’sanitize_string_field, Ï’format, Î».StrLiteral("format_id"))
						Î».Cal(Ï’sanitize_numeric_fields, Ï’format)
						Î».SetItem(Ï’format, Î».StrLiteral("url"), Î».Cal(Ï’sanitize_url, Î».GetItem(Ï’format, Î».StrLiteral("url"))))
						if !Î».IsTrue(Î».Calm(Ï’format, "get", Î».StrLiteral("format_id"))) {
							Î».SetItem(Ï’format, Î».StrLiteral("format_id"), Î».Cal(Ï’compat_str, Ï’i))
						} else {
							Î».SetItem(Ï’format, Î».StrLiteral("format_id"), Î».Cal(Î©re.Ï’sub, Î».StrLiteral("[\\s,/+\\[\\]()]"), Î».StrLiteral("_"), Î».GetItem(Ï’format, Î».StrLiteral("format_id"))))
						}
						Ï’format_id = Î».GetItem(Ï’format, Î».StrLiteral("format_id"))
						if !Î».Contains(Ï’formats_dict, Ï’format_id) {
							Î».SetItem(Ï’formats_dict, Ï’format_id, Î».NewList())
						}
						Î».Calm(Î».GetItem(Ï’formats_dict, Ï’format_id), "append", Ï’format)
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Calm(Ï’formats_dict, "items"))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï„mp2 = Ï„mp1
						Ï’format_id = Î».GetItem(Ï„mp2, Î».IntLiteral(0))
						Ï’ambiguous_formats = Î».GetItem(Ï„mp2, Î».IntLiteral(1))
						if Î».IsTrue(Î».Gt(Î».Cal(Î».BuiltinLen, Ï’ambiguous_formats), Î».IntLiteral(1))) {
							Ï„mp2 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».EnumerateIteratorType, Ï’ambiguous_formats))
							for {
								if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
									break
								}
								Ï„mp4 = Ï„mp3
								Ï’i = Î».GetItem(Ï„mp4, Î».IntLiteral(0))
								Ï’format = Î».GetItem(Ï„mp4, Î».IntLiteral(1))
								Î».SetItem(Ï’format, Î».StrLiteral("format_id"), Î».Mod(Î».StrLiteral("%s-%d"), Î».NewTuple(
									Ï’format_id,
									Ï’i,
								)))
							}
						}
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».EnumerateIteratorType, Ï’formats))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï„mp2 = Ï„mp1
						Ï’i = Î».GetItem(Ï„mp2, Î».IntLiteral(0))
						Ï’format = Î».GetItem(Ï„mp2, Î».IntLiteral(1))
						if Î».Calm(Ï’format, "get", Î».StrLiteral("format")) == Î».None {
							Î».SetItem(Ï’format, Î».StrLiteral("format"), Î».Call(Î».GetAttr(Î».StrLiteral("{id} - {res}{note}"), "format", nil), nil, Î».KWArgs{
								{Name: "id", Value: Î».GetItem(Ï’format, Î».StrLiteral("format_id"))},
								{Name: "res", Value: Î».Calm(Ï’self, "format_resolution", Ï’format)},
								{Name: "note", Value: func() Î».Object {
									if Î».Calm(Ï’format, "get", Î».StrLiteral("format_note")) != Î».None {
										return Î».Calm(Î».StrLiteral(" ({0})"), "format", Î».GetItem(Ï’format, Î».StrLiteral("format_note")))
									} else {
										return Î».StrLiteral("")
									}
								}()},
							}))
						}
						if Î».Calm(Ï’format, "get", Î».StrLiteral("ext")) == Î».None {
							Î».SetItem(Ï’format, Î».StrLiteral("ext"), Î».Calm(Î».Cal(Ï’determine_ext, Î».GetItem(Ï’format, Î».StrLiteral("url"))), "lower"))
						}
						if Î».Calm(Ï’format, "get", Î».StrLiteral("protocol")) == Î».None {
							Î».SetItem(Ï’format, Î».StrLiteral("protocol"), Î».Cal(Ï’determine_protocol, Ï’format))
						}
						Ï’full_format_info = Î».Calm(Ï’info_dict, "copy")
						Î».Calm(Ï’full_format_info, "update", Ï’format)
						Î».SetItem(Ï’format, Î».StrLiteral("http_headers"), Î».Calm(Ï’self, "_calc_headers", Ï’full_format_info))
					}
					if Î».Contains(Ï’info_dict, Î».StrLiteral("__x_forwarded_for_ip")) {
						Î».DelItem(Ï’info_dict, Î».StrLiteral("__x_forwarded_for_ip"))
					}
					if Î».GetItem(Ï’formats, Î».IntLiteral(0)) != Ï’info_dict {
						Î».SetItem(Ï’info_dict, Î».StrLiteral("formats"), Ï’formats)
					}
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("listformats"))) {
						Î».Calm(Ï’self, "list_formats", Ï’info_dict)
						return Î».None
					}
					Ï’req_format = Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("format"))
					if Ï’req_format == Î».None {
						Ï’req_format = Î».Call(Î».GetAttr(Ï’self, "_default_format_spec", nil), Î».NewArgs(Ï’info_dict), Î».KWArgs{
							{Name: "download", Value: Ï’download},
						})
						if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("verbose"))) {
							Î».Calm(Ï’self, "_write_string", Î».Mod(Î».StrLiteral("[debug] Default format spec: %s\n"), Ï’req_format))
						}
					}
					Ï’format_selector = Î».Calm(Ï’self, "build_format_selector", Ï’req_format)
					Ï’incomplete_formats = func() Î».Object {
						if Î»v := Î».Cal(Î».BuiltinAll, Î».Cal(Î».NewFunction("<generator>",
							nil,
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
									var (
										Ï’f   Î».Object
										Ï„mp0 Î».Object
										Ï„mp1 Î».Object
									)
									Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’formats)
									for {
										if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
											break
										}
										Ï’f = Ï„mp1
										Î»gy.Yield(func() Î».Object {
											if Î»v := Î».Ne(Î».Calm(Ï’f, "get", Î».StrLiteral("vcodec")), Î».StrLiteral("none")); !Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Î».Eq(Î».Calm(Ï’f, "get", Î».StrLiteral("acodec")), Î».StrLiteral("none"))
											}
										}())
									}
									return Î».None
								})
							}))); Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Cal(Î».BuiltinAll, Î».Cal(Î».NewFunction("<generator>",
								nil,
								0, false, false,
								func(Î»args []Î».Object) Î».Object {
									return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
										var (
											Ï’f   Î».Object
											Ï„mp0 Î».Object
											Ï„mp1 Î».Object
										)
										Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’formats)
										for {
											if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
												break
											}
											Ï’f = Ï„mp1
											Î»gy.Yield(func() Î».Object {
												if Î»v := Î».Eq(Î».Calm(Ï’f, "get", Î».StrLiteral("vcodec")), Î».StrLiteral("none")); !Î».IsTrue(Î»v) {
													return Î»v
												} else {
													return Î».Ne(Î».Calm(Ï’f, "get", Î».StrLiteral("acodec")), Î».StrLiteral("none"))
												}
											}())
										}
										return Î».None
									})
								})))
						}
					}()
					Ï’ctx = Î».DictLiteral(map[string]Î».Object{
						"formats":            Ï’formats,
						"incomplete_formats": Ï’incomplete_formats,
					})
					Ï’formats_to_download = Î».Cal(Î».ListType, Î».Cal(Ï’format_selector, Ï’ctx))
					if !Î».IsTrue(Ï’formats_to_download) {
						panic(Î».Raise(Î».Call(ExtractorError, Î».NewArgs(Î».StrLiteral("requested format not available")), Î».KWArgs{
							{Name: "expected", Value: Î».True},
						})))
					}
					if Î».IsTrue(Ï’download) {
						if Î».IsTrue(Î».Gt(Î».Cal(Î».BuiltinLen, Ï’formats_to_download), Î».IntLiteral(1))) {
							Î».Calm(Ï’self, "to_screen", Î».Mod(Î».StrLiteral("[info] %s: downloading video in %s formats"), Î».NewTuple(
								Î».GetItem(Ï’info_dict, Î».StrLiteral("id")),
								Î».Cal(Î».BuiltinLen, Ï’formats_to_download),
							)))
						}
						Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’formats_to_download)
						for {
							if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
								break
							}
							Ï’format = Ï„mp1
							Ï’new_info = Î».Cal(Î».DictType, Ï’info_dict)
							Î».Calm(Ï’new_info, "update", Ï’format)
							Î».Calm(Ï’self, "process_info", Ï’new_info)
						}
					}
					Î».Calm(Ï’info_dict, "update", Î».GetItem(Ï’formats_to_download, Î».Neg(Î».IntLiteral(1))))
					return Ï’info_dict
				})
			YoutubeDL_process_subtitles = Î».NewFunction("process_subtitles",
				[]Î».Param{
					{Name: "self"},
					{Name: "video_id"},
					{Name: "normal_subtitles"},
					{Name: "automatic_captions"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’automatic_captions = Î»args[3]
						Ï’available_subs     Î».Object
						Ï’cap_info           Î».Object
						Ï’ext                Î».Object
						Ï’f                  Î».Object
						Ï’formats            Î».Object
						Ï’formats_preference Î».Object
						Ï’formats_query      Î».Object
						Ï’lang               Î».Object
						Ï’matches            Î».Object
						Ï’normal_subtitles   = Î»args[2]
						Ï’requested_langs    Î».Object
						Ï’self               = Î»args[0]
						Ï’subs               Î».Object
						Ï’video_id           = Î»args[1]
						Ï„mp0                Î».Object
						Ï„mp1                Î».Object
						Ï„mp2                Î».Object
						Ï„mp3                Î».Object
					)
					Ï’available_subs = Î».DictLiteral(map[Î».Object]Î».Object{})
					if Î».IsTrue(func() Î».Object {
						if Î»v := Ï’normal_subtitles; !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("writesubtitles"))
						}
					}()) {
						Î».Calm(Ï’available_subs, "update", Ï’normal_subtitles)
					}
					if Î».IsTrue(func() Î».Object {
						if Î»v := Ï’automatic_captions; !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("writeautomaticsub"))
						}
					}()) {
						Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Calm(Ï’automatic_captions, "items"))
						for {
							if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
								break
							}
							Ï„mp2 = Ï„mp1
							Ï’lang = Î».GetItem(Ï„mp2, Î».IntLiteral(0))
							Ï’cap_info = Î».GetItem(Ï„mp2, Î».IntLiteral(1))
							if !Î».Contains(Ï’available_subs, Ï’lang) {
								Î».SetItem(Ï’available_subs, Ï’lang, Ï’cap_info)
							}
						}
					}
					if Î».IsTrue(func() Î».Object {
						if Î»v := func() Î».Object {
							if Î»v := Î».NewBool(!Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("writesubtitles")))); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».NewBool(!Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("writeautomaticsub"))))
							}
						}(); Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(!Î».IsTrue(Ï’available_subs))
						}
					}()) {
						return Î».None
					}
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("allsubtitles"), Î».False)) {
						Ï’requested_langs = Î».Calm(Ï’available_subs, "keys")
					} else {
						if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("subtitleslangs"), Î».False)) {
							Ï’requested_langs = Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("subtitleslangs"))
						} else {
							if Î».Contains(Ï’available_subs, Î».StrLiteral("en")) {
								Ï’requested_langs = Î».NewList(Î».StrLiteral("en"))
							} else {
								Ï’requested_langs = Î».NewList(Î».GetItem(Î».Cal(Î».ListType, Î».Calm(Ï’available_subs, "keys")), Î».IntLiteral(0)))
							}
						}
					}
					Ï’formats_query = Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("subtitlesformat"), Î».StrLiteral("best"))
					Ï’formats_preference = func() Î».Object {
						if Î».IsTrue(Ï’formats_query) {
							return Î».Calm(Ï’formats_query, "split", Î».StrLiteral("/"))
						} else {
							return Î».NewList()
						}
					}()
					Ï’subs = Î».DictLiteral(map[Î».Object]Î».Object{})
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’requested_langs)
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’lang = Ï„mp1
						Ï’formats = Î».Calm(Ï’available_subs, "get", Ï’lang)
						if Ï’formats == Î».None {
							Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("%s subtitles not available for %s"), Î».NewTuple(
								Ï’lang,
								Ï’video_id,
							)))
							continue
						}
						Ï„mp2 = Î».Cal(Î».BuiltinIter, Ï’formats_preference)
						for {
							if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
								break
							}
							Ï’ext = Ï„mp3
							if Î».IsTrue(Î».Eq(Ï’ext, Î».StrLiteral("best"))) {
								Ï’f = Î».GetItem(Ï’formats, Î».Neg(Î».IntLiteral(1)))
								break
							}
							Ï’matches = Î».Cal(Î».ListType, Î».Cal(Î».FilterIteratorType, Î».NewFunction("<lambda>",
								[]Î».Param{
									{Name: "f"},
								},
								0, false, false,
								func(Î»args []Î».Object) Î».Object {
									var (
										Ï’f = Î»args[0]
									)
									return Î».Eq(Î».GetItem(Ï’f, Î».StrLiteral("ext")), Ï’ext)
								}), Ï’formats))
							if Î».IsTrue(Ï’matches) {
								Ï’f = Î».GetItem(Ï’matches, Î».Neg(Î».IntLiteral(1)))
								break
							}
						}
						if Ï„mp3 == Î».AfterLast {
							Ï’f = Î».GetItem(Ï’formats, Î».Neg(Î».IntLiteral(1)))
							Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("No subtitle format found matching \"%s\" for language %s, using %s"), Î».NewTuple(
								Ï’formats_query,
								Ï’lang,
								Î».GetItem(Ï’f, Î».StrLiteral("ext")),
							)))
						}
						Î».SetItem(Ï’subs, Ï’lang, Ï’f)
					}
					return Ï’subs
				})
			YoutubeDL___forced_printings = Î».NewFunction("__forced_printings",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
					{Name: "filename"},
					{Name: "incomplete"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’f               Î».Object
						Ï’filename        = Î»args[2]
						Ï’incomplete      = Î»args[3]
						Ï’info_dict       = Î»args[1]
						Ï’print_mandatory Î».Object
						Ï’print_optional  Î».Object
						Ï’self            = Î»args[0]
						Ï„mp0             Î».Object
						Ï„mp1             Î».Object
					)
					Ï’print_mandatory = Î».NewFunction("print_mandatory",
						[]Î».Param{
							{Name: "field"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’field = Î»args[0]
							)
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».Mod(Î».StrLiteral("force%s"), Ï’field), Î».False); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return func() Î».Object {
										if Î»v := Î».NewBool(!Î».IsTrue(Ï’incomplete)); Î».IsTrue(Î»v) {
											return Î»v
										} else {
											return Î».NewBool(Î».Calm(Ï’info_dict, "get", Ï’field) != Î».None)
										}
									}()
								}
							}()) {
								Î».Calm(Ï’self, "to_stdout", Î».GetItem(Ï’info_dict, Ï’field))
							}
							return Î».None
						})
					Ï’print_optional = Î».NewFunction("print_optional",
						[]Î».Param{
							{Name: "field"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’field = Î»args[0]
							)
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».Mod(Î».StrLiteral("force%s"), Ï’field), Î».False); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».NewBool(Î».Calm(Ï’info_dict, "get", Ï’field) != Î».None)
								}
							}()) {
								Î».Calm(Ï’self, "to_stdout", Î».GetItem(Ï’info_dict, Ï’field))
							}
							return Î».None
						})
					Î».Cal(Ï’print_mandatory, Î».StrLiteral("title"))
					Î».Cal(Ï’print_mandatory, Î».StrLiteral("id"))
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("forceurl"), Î».False); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(!Î».IsTrue(Ï’incomplete))
						}
					}()) {
						if Î».Calm(Ï’info_dict, "get", Î».StrLiteral("requested_formats")) != Î».None {
							Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».GetItem(Ï’info_dict, Î».StrLiteral("requested_formats")))
							for {
								if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
									break
								}
								Ï’f = Ï„mp1
								Î».Calm(Ï’self, "to_stdout", Î».Add(Î».GetItem(Ï’f, Î».StrLiteral("url")), Î».Calm(Ï’f, "get", Î».StrLiteral("play_path"), Î».StrLiteral(""))))
							}
						} else {
							Î».Calm(Ï’self, "to_stdout", Î».Add(Î».GetItem(Ï’info_dict, Î».StrLiteral("url")), Î».Calm(Ï’info_dict, "get", Î».StrLiteral("play_path"), Î».StrLiteral(""))))
						}
					}
					Î».Cal(Ï’print_optional, Î».StrLiteral("thumbnail"))
					Î».Cal(Ï’print_optional, Î».StrLiteral("description"))
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("forcefilename"), Î».False); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(Ï’filename != Î».None)
						}
					}()) {
						Î».Calm(Ï’self, "to_stdout", Ï’filename)
					}
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("forceduration"), Î».False); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(Î».Calm(Ï’info_dict, "get", Î».StrLiteral("duration")) != Î».None)
						}
					}()) {
						Î».Calm(Ï’self, "to_stdout", Î».Cal(Î».None, Î».GetItem(Ï’info_dict, Î».StrLiteral("duration"))))
					}
					Î».Cal(Ï’print_mandatory, Î».StrLiteral("format"))
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("forcejson"), Î».False)) {
						Î».Calm(Ï’self, "to_stdout", Î».Cal(Î©json.Ï’dumps, Ï’info_dict))
					}
					return Î».None
				})
			YoutubeDL_process_info = Î».NewFunction("process_info",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						INSTALL_FFMPEG_MESSAGE   Î».Object
						Ï’annofile                Î».Object
						Ï’annofn                  Î».Object
						Ï’compatible_formats      Î».Object
						Ï’descfile                Î».Object
						Ï’descfn                  Î».Object
						Ï’dl                      Î».Object
						Ï’downloaded              Î».Object
						Ï’ensure_dir_exists       Î».Object
						Ï’f                       Î».Object
						Ï’filename                Î».Object
						Ï’filename_real_ext       Î».Object
						Ï’filename_wo_ext         Î».Object
						Ï’fixup_policy            Î».Object
						Ï’fixup_pp                Î».Object
						Ï’fname                   Î».Object
						Ï’ie                      Î».Object
						Ï’info_dict               = Î»args[1]
						Ï’infofn                  Î».Object
						Ï’max_downloads           Î».Object
						Ï’merger                  Î».Object
						Ï’new_info                Î».Object
						Ï’partial_success         Î».Object
						Ï’postprocessors          Î».Object
						Ï’reason                  Î».Object
						Ï’requested_formats       Î».Object
						Ï’self                    = Î»args[0]
						Ï’stretched_pp            Î».Object
						Ï’stretched_ratio         Î».Object
						Ï’sub_data                Î».Object
						Ï’sub_filename            Î».Object
						Ï’sub_format              Î».Object
						Ï’sub_info                Î».Object
						Ï’sub_lang                Î».Object
						Ï’subfile                 Î».Object
						Ï’subtitles               Î».Object
						Ï’subtitles_are_requested Î».Object
						Ï’success                 Î».Object
						Ï„mp0                     Î».Object
						Ï„mp1                     Î».Object
						Ï„mp2                     Î».Object
						Ï„mp3                     Î».Object
						Ï„mp4                     Î».Object
						Ï„mp5                     Î».Object
						Ï„mp6                     Î».Object
						Ï„mp7                     Î».Object
					)
					_ = Ï„mp6
					_ = Ï„mp7
					if !Î».IsTrue(Î».Eq(Î».Calm(Ï’info_dict, "get", Î».StrLiteral("_type"), Î».StrLiteral("video")), Î».StrLiteral("video"))) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					Ï’max_downloads = Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("max_downloads"))
					if Ï’max_downloads != Î».None {
						if Î».IsTrue(Î».Ge(Î».GetAttr(Ï’self, "_num_downloads", nil), Î».Cal(Î».IntType, Ï’max_downloads))) {
							panic(Î».Raise(Î».Cal(MaxDownloadsReached)))
						}
					}
					Î».SetItem(Ï’info_dict, Î».StrLiteral("fulltitle"), Î».GetItem(Ï’info_dict, Î».StrLiteral("title")))
					if !Î».Contains(Ï’info_dict, Î».StrLiteral("format")) {
						Î».SetItem(Ï’info_dict, Î».StrLiteral("format"), Î».GetItem(Ï’info_dict, Î».StrLiteral("ext")))
					}
					Ï’reason = Î».Call(Î».GetAttr(Ï’self, "_match_entry", nil), Î».NewArgs(Ï’info_dict), Î».KWArgs{
						{Name: "incomplete", Value: Î».False},
					})
					if Ï’reason != Î».None {
						Î».Calm(Ï’self, "to_screen", Î».Add(Î».StrLiteral("[download] "), Ï’reason))
						return Î».None
					}
					Ï„mp0 = Î».IAdd(Î».GetAttr(Ï’self, "_num_downloads", nil), Î».IntLiteral(1))
					Î».SetAttr(Ï’self, "_num_downloads", Ï„mp0)
					Ï„mp0 = Î».Calm(Ï’self, "prepare_filename", Ï’info_dict)
					Î».SetItem(Ï’info_dict, Î».StrLiteral("_filename"), Ï„mp0)
					Ï’filename = Ï„mp0
					Î».Call(Î».GetAttr(Ï’self, "__forced_printings", nil), Î».NewArgs(
						Ï’info_dict,
						Ï’filename,
					), Î».KWArgs{
						{Name: "incomplete", Value: Î».False},
					})
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("simulate"), Î».False)) {
						return Î».None
					}
					if Ï’filename == Î».None {
						return Î».None
					}
					Ï’ensure_dir_exists = Î».NewFunction("ensure_dir_exists",
						[]Î».Param{
							{Name: "path"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’dn   Î».Object
								Ï’path = Î»args[0]
								Ï„mp0  Î».Object
								Ï„mp1  Î».Object
							)
							Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
								defer Î».CatchMulti(
									nil,
									&Î».Catcher{Î».NewTuple(
										Î».OSErrorType,
										Î».OSErrorType,
									), func(Î»ex Î».BaseException) {
										var Ï’err Î».Object = Î»ex
										if Î».IsTrue(func() Î».Object {
											if Î»v := Î».Cal(Î».BuiltinIsInstance, Ï’err, Î».OSErrorType); !Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Î».Eq(Î».GetAttr(Ï’err, "errno", nil), Î».GetAttr(Î».None, "EEXIST", nil))
											}
										}()) {
											Î»exit, Î»ret = Î».BlockExitReturn, Î».True
											return
										}
										Î».Calm(Ï’self, "report_error", Î».Add(Î».StrLiteral("unable to create directory "), Î».Cal(Ï’error_to_compat_str, Ï’err)))
										Î»exit, Î»ret = Î».BlockExitReturn, Î».False
										return
									}},
								)
								Ï’dn = Î».Cal(Î».None, Ï’path)
								if Î».IsTrue(func() Î».Object {
									if Î»v := Ï’dn; !Î».IsTrue(Î»v) {
										return Î»v
									} else {
										return Î».NewBool(!Î».IsTrue(Î».Cal(Î».None, Ï’dn)))
									}
								}()) {
									Î».Cal(Î».None, Ï’dn)
								}
								Î»exit, Î»ret = Î».BlockExitReturn, Î».True
								return
								return Î».BlockExitNormally, nil
							}()
							if Ï„mp0 == Î».BlockExitReturn {
								return Ï„mp1
							}
							return Î».None
						})
					if !Î».IsTrue(Î».Cal(Ï’ensure_dir_exists, Î».Cal(Ï’sanitize_path, Î».Cal(Î».None, Ï’filename)))) {
						return Î».None
					}
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("writedescription"), Î».False)) {
						Ï’descfn = Î».Cal(Î».None, Ï’filename, Î».StrLiteral("description"), Î».Calm(Ï’info_dict, "get", Î».StrLiteral("ext")))
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("nooverwrites"), Î».False); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Cal(Î».None, Î».Cal(Î».None, Ï’descfn))
							}
						}()) {
							Î».Calm(Ï’self, "to_screen", Î».StrLiteral("[info] Video description is already present"))
						} else {
							if Î».Calm(Ï’info_dict, "get", Î».StrLiteral("description")) == Î».None {
								Î».Calm(Ï’self, "report_warning", Î».StrLiteral("There's no description to write."))
							} else {
								Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
									defer Î».CatchMulti(
										nil,
										&Î».Catcher{Î».NewTuple(
											Î».OSErrorType,
											Î».OSErrorType,
										), func(Î»ex Î».BaseException) {
											Î».Calm(Ï’self, "report_error", Î».Add(Î».StrLiteral("Cannot write description file "), Ï’descfn))
											Î»exit, Î»ret = Î».BlockExitReturn, Î».None
											return
										}},
									)
									Î».Calm(Ï’self, "to_screen", Î».Add(Î».StrLiteral("[info] Writing video description to: "), Ï’descfn))
									Ï„mp2 = Î».Call(Î».None, Î».NewArgs(
										Î».Cal(Î».None, Ï’descfn),
										Î».StrLiteral("w"),
									), Î».KWArgs{
										{Name: "encoding", Value: Î».StrLiteral("utf-8")},
									})
									Ï„mp3 = Î».GetAttr(Ï„mp2, "__exit__", nil)
									Ï’descfile = Î».Calm(Ï„mp2, "__enter__")
									Ï„mp4, Ï„mp5 = func() (Î»exit Î».Object, Î»ret Î».Object) {
										defer Î».Catch(Î».BaseExceptionType, func(Î»ex Î».BaseException) {
											if ret := Î».Cal(Ï„mp3, Î»ex.Type(), Î»ex, Î».StrLiteral("..todo..traceback..")); Î».IsTrue(ret) {
												panic(Î».Raise(Î»ex))
											}
										}, func() {
											Î».Cal(Ï„mp3, Î».None, Î».None, Î».None)
										})
										Î».Calm(Ï’descfile, "write", Î».GetItem(Ï’info_dict, Î».StrLiteral("description")))
										return Î».BlockExitNormally, nil
									}()
									return Î».BlockExitNormally, nil
								}()
								if Ï„mp0 == Î».BlockExitReturn {
									return Ï„mp1
								}
							}
						}
					}
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("writeannotations"), Î».False)) {
						Ï’annofn = Î».Cal(Î».None, Ï’filename, Î».StrLiteral("annotations.xml"), Î».Calm(Ï’info_dict, "get", Î».StrLiteral("ext")))
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("nooverwrites"), Î».False); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Cal(Î».None, Î».Cal(Î».None, Ï’annofn))
							}
						}()) {
							Î».Calm(Ï’self, "to_screen", Î».StrLiteral("[info] Video annotations are already present"))
						} else {
							if !Î».IsTrue(Î».Calm(Ï’info_dict, "get", Î».StrLiteral("annotations"))) {
								Î».Calm(Ï’self, "report_warning", Î».StrLiteral("There are no annotations to write."))
							} else {
								Ï„mp1, Ï„mp0 = func() (Î»exit Î».Object, Î»ret Î».Object) {
									defer Î».CatchMulti(
										nil,
										&Î».Catcher{Î».NewTuple(
											Î».KeyErrorType,
											Î».TypeErrorType,
										), func(Î»ex Î».BaseException) {
											Î».Calm(Ï’self, "report_warning", Î».StrLiteral("There are no annotations to write."))
										}},
										&Î».Catcher{Î».NewTuple(
											Î».OSErrorType,
											Î».OSErrorType,
										), func(Î»ex Î».BaseException) {
											Î».Calm(Ï’self, "report_error", Î».Add(Î».StrLiteral("Cannot write annotations file: "), Ï’annofn))
											Î»exit, Î»ret = Î».BlockExitReturn, Î».None
											return
										}},
									)
									Î».Calm(Ï’self, "to_screen", Î».Add(Î».StrLiteral("[info] Writing video annotations to: "), Ï’annofn))
									Ï„mp3 = Î».Call(Î».None, Î».NewArgs(
										Î».Cal(Î».None, Ï’annofn),
										Î».StrLiteral("w"),
									), Î».KWArgs{
										{Name: "encoding", Value: Î».StrLiteral("utf-8")},
									})
									Ï„mp2 = Î».GetAttr(Ï„mp3, "__exit__", nil)
									Ï’annofile = Î».Calm(Ï„mp3, "__enter__")
									Ï„mp5, Ï„mp4 = func() (Î»exit Î».Object, Î»ret Î».Object) {
										defer Î».Catch(Î».BaseExceptionType, func(Î»ex Î».BaseException) {
											if ret := Î».Cal(Ï„mp2, Î»ex.Type(), Î»ex, Î».StrLiteral("..todo..traceback..")); Î».IsTrue(ret) {
												panic(Î».Raise(Î»ex))
											}
										}, func() {
											Î».Cal(Ï„mp2, Î».None, Î».None, Î».None)
										})
										Î».Calm(Ï’annofile, "write", Î».GetItem(Ï’info_dict, Î».StrLiteral("annotations")))
										return Î».BlockExitNormally, nil
									}()
									return Î».BlockExitNormally, nil
								}()
								if Ï„mp1 == Î».BlockExitReturn {
									return Ï„mp0
								}
							}
						}
					}
					Ï’subtitles_are_requested = Î».Cal(Î».BuiltinAny, Î».NewList(
						Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("writesubtitles"), Î».False),
						Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("writeautomaticsub")),
					))
					if Î».IsTrue(func() Î».Object {
						if Î»v := Ï’subtitles_are_requested; !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Calm(Ï’info_dict, "get", Î».StrLiteral("requested_subtitles"))
						}
					}()) {
						Ï’subtitles = Î».GetItem(Ï’info_dict, Î».StrLiteral("requested_subtitles"))
						Ï’ie = Î».Calm(Ï’self, "get_info_extractor", Î».GetItem(Ï’info_dict, Î».StrLiteral("extractor_key")))
						Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Calm(Ï’subtitles, "items"))
						for {
							if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
								break
							}
							Ï„mp2 = Ï„mp1
							Ï’sub_lang = Î».GetItem(Ï„mp2, Î».IntLiteral(0))
							Ï’sub_info = Î».GetItem(Ï„mp2, Î».IntLiteral(1))
							Ï’sub_format = Î».GetItem(Ï’sub_info, Î».StrLiteral("ext"))
							Ï’sub_filename = Î».Cal(Î».None, Ï’filename, Ï’sub_lang, Ï’sub_format, Î».Calm(Ï’info_dict, "get", Î».StrLiteral("ext")))
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("nooverwrites"), Î».False); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Cal(Î».None, Î».Cal(Î».None, Ï’sub_filename))
								}
							}()) {
								Î».Calm(Ï’self, "to_screen", Î».Mod(Î».StrLiteral("[info] Video subtitle %s.%s is already present"), Î».NewTuple(
									Ï’sub_lang,
									Ï’sub_format,
								)))
							} else {
								Î».Calm(Ï’self, "to_screen", Î».Add(Î».StrLiteral("[info] Writing video subtitles to: "), Ï’sub_filename))
								if Î».Calm(Ï’sub_info, "get", Î».StrLiteral("data")) != Î».None {
									Ï„mp2, Ï„mp3 = func() (Î»exit Î».Object, Î»ret Î».Object) {
										defer Î».CatchMulti(
											nil,
											&Î».Catcher{Î».NewTuple(
												Î».OSErrorType,
												Î».OSErrorType,
											), func(Î»ex Î».BaseException) {
												Î».Calm(Ï’self, "report_error", Î».Add(Î».StrLiteral("Cannot write subtitles file "), Ï’sub_filename))
												Î»exit, Î»ret = Î».BlockExitReturn, Î».None
												return
											}},
										)
										Ï„mp4 = Î».Call(Î».None, Î».NewArgs(
											Î».Cal(Î».None, Ï’sub_filename),
											Î».StrLiteral("w"),
										), Î».KWArgs{
											{Name: "encoding", Value: Î».StrLiteral("utf-8")},
											{Name: "newline", Value: Î».StrLiteral("")},
										})
										Ï„mp5 = Î».GetAttr(Ï„mp4, "__exit__", nil)
										Ï’subfile = Î».Calm(Ï„mp4, "__enter__")
										Ï„mp6, Ï„mp7 = func() (Î»exit Î».Object, Î»ret Î».Object) {
											defer Î».Catch(Î».BaseExceptionType, func(Î»ex Î».BaseException) {
												if ret := Î».Cal(Ï„mp5, Î»ex.Type(), Î»ex, Î».StrLiteral("..todo..traceback..")); Î».IsTrue(ret) {
													panic(Î».Raise(Î»ex))
												}
											}, func() {
												Î».Cal(Ï„mp5, Î».None, Î».None, Î».None)
											})
											Î».Calm(Ï’subfile, "write", Î».GetItem(Ï’sub_info, Î».StrLiteral("data")))
											return Î».BlockExitNormally, nil
										}()
										return Î».BlockExitNormally, nil
									}()
									if Ï„mp2 == Î».BlockExitReturn {
										return Ï„mp3
									}
								} else {
									Ï„mp3, Ï„mp2 = func() (Î»exit Î».Object, Î»ret Î».Object) {
										defer Î».CatchMulti(
											nil,
											&Î».Catcher{Î».NewTuple(
												ExtractorError,
												Î».OSErrorType,
												Î».OSErrorType,
												Î».ValueErrorType,
											), func(Î»ex Î».BaseException) {
												var Ï’err Î».Object = Î»ex
												Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("Unable to download subtitle for \"%s\": %s"), Î».NewTuple(
													Ï’sub_lang,
													Î».Cal(Ï’error_to_compat_str, Ï’err),
												)))
												Î»exit = Î».BlockExitContinue
												return
											}},
										)
										Ï’sub_data = Î».Calm(Î».Call(Î».GetAttr(Ï’ie, "_request_webpage", nil), Î».NewArgs(
											Î».GetItem(Ï’sub_info, Î».StrLiteral("url")),
											Î».GetItem(Ï’info_dict, Î».StrLiteral("id")),
										), Î».KWArgs{
											{Name: "note", Value: Î».False},
										}), "read")
										Ï„mp5 = Î».Cal(Î».None, Î».Cal(Î».None, Ï’sub_filename), Î».StrLiteral("wb"))
										Ï„mp4 = Î».GetAttr(Ï„mp5, "__exit__", nil)
										Ï’subfile = Î».Calm(Ï„mp5, "__enter__")
										Ï„mp7, Ï„mp6 = func() (Î»exit Î».Object, Î»ret Î».Object) {
											defer Î».Catch(Î».BaseExceptionType, func(Î»ex Î».BaseException) {
												if ret := Î».Cal(Ï„mp4, Î»ex.Type(), Î»ex, Î».StrLiteral("..todo..traceback..")); Î».IsTrue(ret) {
													panic(Î».Raise(Î»ex))
												}
											}, func() {
												Î».Cal(Ï„mp4, Î».None, Î».None, Î».None)
											})
											Î».Calm(Ï’subfile, "write", Ï’sub_data)
											return Î».BlockExitNormally, nil
										}()
										return Î».BlockExitNormally, nil
									}()
									if Ï„mp3 == Î».BlockExitContinue {
										continue
									}
								}
							}
						}
					}
					if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("writeinfojson"), Î».False)) {
						Ï’infofn = Î».Cal(Î».None, Ï’filename, Î».StrLiteral("info.json"), Î».Calm(Ï’info_dict, "get", Î».StrLiteral("ext")))
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("nooverwrites"), Î».False); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Cal(Î».None, Î».Cal(Î».None, Ï’infofn))
							}
						}()) {
							Î».Calm(Ï’self, "to_screen", Î».StrLiteral("[info] Video description metadata is already present"))
						} else {
							Î».Calm(Ï’self, "to_screen", Î».Add(Î».StrLiteral("[info] Writing video description metadata as JSON to: "), Ï’infofn))
							Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
								defer Î».CatchMulti(
									nil,
									&Î».Catcher{Î».NewTuple(
										Î».OSErrorType,
										Î».OSErrorType,
									), func(Î»ex Î».BaseException) {
										Î».Calm(Ï’self, "report_error", Î».Add(Î».StrLiteral("Cannot write metadata to JSON file "), Ï’infofn))
										Î»exit, Î»ret = Î».BlockExitReturn, Î».None
										return
									}},
								)
								Î».Cal(Î».None, Î».Calm(Ï’self, "filter_requested_info", Ï’info_dict), Ï’infofn)
								return Î».BlockExitNormally, nil
							}()
							if Ï„mp0 == Î».BlockExitReturn {
								return Ï„mp1
							}
						}
					}
					Î».Calm(Ï’self, "_write_thumbnails", Ï’info_dict, Ï’filename)
					if !Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("skip_download"), Î».False)) {
						Ï„mp1, Ï„mp0 = func() (Î»exit Î».Object, Î»ret Î».Object) {
							defer Î».CatchMulti(
								nil,
								&Î».Catcher{Î».NewTuple(
									Î©error.URLError,
									Î».GetAttr(Ï’compat_http_client, "HTTPException", nil),
									Î©socket.Ï’error,
								), func(Î»ex Î».BaseException) {
									var Ï’err Î».Object = Î»ex
									Î».Calm(Ï’self, "report_error", Î».Mod(Î».StrLiteral("unable to download video data: %s"), Î».Cal(Ï’error_to_compat_str, Ï’err)))
									Î»exit, Î»ret = Î».BlockExitReturn, Î».None
									return
								}},
								&Î».Catcher{Î».NewTuple(
									Î».OSErrorType,
									Î».OSErrorType,
								), func(Î»ex Î».BaseException) {
									var Ï’err Î».Object = Î»ex
									panic(Î».Raise(Î».Cal(UnavailableVideoError, Ï’err)))
								}},
								&Î».Catcher{Î».NewTuple(Î».None), func(Î»ex Î».BaseException) {
									var Ï’err Î».Object = Î»ex
									Î».Calm(Ï’self, "report_error", Î».Mod(Î».StrLiteral("content too short (expected %s bytes and served %s)"), Î».NewTuple(
										Î».GetAttr(Ï’err, "expected", nil),
										Î».GetAttr(Ï’err, "downloaded", nil),
									)))
									Î»exit, Î»ret = Î».BlockExitReturn, Î».None
									return
								}},
							)
							Ï’dl = Î».NewFunction("dl",
								[]Î».Param{
									{Name: "name"},
									{Name: "info"},
								},
								0, false, false,
								func(Î»args []Î».Object) Î».Object {
									var (
										Ï’fd   Î».Object
										Ï’info = Î»args[1]
										Ï’name = Î»args[0]
										Ï’ph   Î».Object
										Ï„mp0  Î».Object
										Ï„mp1  Î».Object
									)
									Ï’fd = Î».Cal(Î».Cal(Î».None, Ï’info, Î».GetAttr(Ï’self, "params", nil)), Ï’self, Î».GetAttr(Ï’self, "params", nil))
									Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».GetAttr(Ï’self, "_progress_hooks", nil))
									for {
										if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
											break
										}
										Ï’ph = Ï„mp1
										Î».Calm(Ï’fd, "add_progress_hook", Ï’ph)
									}
									if Î».IsTrue(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("verbose"))) {
										Î».Calm(Ï’self, "to_screen", Î».Mod(Î».StrLiteral("[debug] Invoking downloader on %r"), Î».Calm(Ï’info, "get", Î».StrLiteral("url"))))
									}
									return Î».Calm(Ï’fd, "download", Ï’name, Ï’info)
								})
							if Î».Calm(Ï’info_dict, "get", Î».StrLiteral("requested_formats")) != Î».None {
								Ï’downloaded = Î».NewList()
								Ï’success = Î».True
								Ï’merger = Î».Cal(Î».None, Ï’self)
								if !Î».IsTrue(Î».GetAttr(Ï’merger, "available", nil)) {
									Ï’postprocessors = Î».NewList()
									Î».Calm(Ï’self, "report_warning", Î».StrLiteral("You have requested multiple formats but ffmpeg or avconv are not installed. The formats won't be merged."))
								} else {
									Ï’postprocessors = Î».NewList(Ï’merger)
								}
								Ï’compatible_formats = Î».NewFunction("compatible_formats",
									[]Î».Param{
										{Name: "formats"},
									},
									0, false, false,
									func(Î»args []Î».Object) Î».Object {
										var (
											COMPATIBLE_EXTS Î».Object
											Ï’audio          Î».Object
											Ï’audio_ext      Î».Object
											Ï’exts           Î».Object
											Ï’formats        = Î»args[0]
											Ï’video          Î».Object
											Ï’video_ext      Î».Object
											Ï„mp0            Î».Object
											Ï„mp1            Î».Object
										)
										Ï„mp0 = Ï’formats
										Ï’video = Î».GetItem(Ï„mp0, Î».IntLiteral(0))
										Ï’audio = Î».GetItem(Ï„mp0, Î».IntLiteral(1))
										Ï„mp0 = Î».NewTuple(
											Î».Calm(Ï’video, "get", Î».StrLiteral("ext")),
											Î».Calm(Ï’audio, "get", Î».StrLiteral("ext")),
										)
										Ï’video_ext = Î».GetItem(Ï„mp0, Î».IntLiteral(0))
										Ï’audio_ext = Î».GetItem(Ï„mp0, Î».IntLiteral(1))
										if Î».IsTrue(func() Î».Object {
											if Î»v := Ï’video_ext; !Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Ï’audio_ext
											}
										}()) {
											COMPATIBLE_EXTS = Î».NewTuple(
												Î».NewTuple(
													Î».StrLiteral("mp3"),
													Î».StrLiteral("mp4"),
													Î».StrLiteral("m4a"),
													Î».StrLiteral("m4p"),
													Î».StrLiteral("m4b"),
													Î».StrLiteral("m4r"),
													Î».StrLiteral("m4v"),
													Î».StrLiteral("ismv"),
													Î».StrLiteral("isma"),
												),
												Î».StrLiteral("webm"),
											)
											Ï„mp0 = Î».Cal(Î».BuiltinIter, COMPATIBLE_EXTS)
											for {
												if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
													break
												}
												Ï’exts = Ï„mp1
												if Î».IsTrue(func() Î».Object {
													if Î»v := Î».NewBool(Î».Contains(Ï’exts, Ï’video_ext)); !Î».IsTrue(Î»v) {
														return Î»v
													} else {
														return Î».NewBool(Î».Contains(Ï’exts, Ï’audio_ext))
													}
												}()) {
													return Î».True
												}
											}
										}
										return Î».False
									})
								Ï’filename_real_ext = Î».GetItem(Î».GetItem(Î».Cal(Î».None, Ï’filename), Î».IntLiteral(1)), Î».NewSlice(Î».IntLiteral(1), Î».None, Î».None))
								Ï’filename_wo_ext = func() Î».Object {
									if Î».IsTrue(Î».Eq(Ï’filename_real_ext, Î».GetItem(Ï’info_dict, Î».StrLiteral("ext")))) {
										return Î».GetItem(Î».Cal(Î».None, Ï’filename), Î».IntLiteral(0))
									} else {
										return Ï’filename
									}
								}()
								Ï’requested_formats = Î».GetItem(Ï’info_dict, Î».StrLiteral("requested_formats"))
								if Î».IsTrue(func() Î».Object {
									if Î»v := Î».NewBool(Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("merge_output_format")) == Î».None); !Î».IsTrue(Î»v) {
										return Î»v
									} else {
										return Î».NewBool(!Î».IsTrue(Î».Cal(Ï’compatible_formats, Ï’requested_formats)))
									}
								}()) {
									Î».SetItem(Ï’info_dict, Î».StrLiteral("ext"), Î».StrLiteral("mkv"))
									Î».Calm(Ï’self, "report_warning", Î».StrLiteral("Requested formats are incompatible for merge and will be merged into mkv."))
								}
								Ï’filename = Î».Mod(Î».StrLiteral("%s.%s"), Î».NewTuple(
									Ï’filename_wo_ext,
									Î».GetItem(Ï’info_dict, Î».StrLiteral("ext")),
								))
								if Î».IsTrue(Î».Cal(Î».None, Î».Cal(Î».None, Ï’filename))) {
									Î».Calm(Ï’self, "to_screen", Î».Mod(Î».StrLiteral("[download] %s has already been downloaded and merged"), Ï’filename))
								} else {
									Ï„mp2 = Î».Cal(Î».BuiltinIter, Ï’requested_formats)
									for {
										if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
											break
										}
										Ï’f = Ï„mp3
										Ï’new_info = Î».Cal(Î».DictType, Ï’info_dict)
										Î».Calm(Ï’new_info, "update", Ï’f)
										Ï’fname = Î».Cal(Î».None, Î».Calm(Ï’self, "prepare_filename", Ï’new_info), Î».Mod(Î».StrLiteral("f%s"), Î».GetItem(Ï’f, Î».StrLiteral("format_id"))), Î».GetItem(Ï’new_info, Î».StrLiteral("ext")))
										if !Î».IsTrue(Î».Cal(Ï’ensure_dir_exists, Ï’fname)) {
											Î»exit, Î»ret = Î».BlockExitReturn, Î».None
											return
										}
										Î».Calm(Ï’downloaded, "append", Ï’fname)
										Ï’partial_success = Î».Cal(Ï’dl, Ï’fname, Ï’new_info)
										Ï’success = func() Î».Object {
											if Î»v := Ï’success; !Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Ï’partial_success
											}
										}()
									}
									Î».SetItem(Ï’info_dict, Î».StrLiteral("__postprocessors"), Ï’postprocessors)
									Î».SetItem(Ï’info_dict, Î».StrLiteral("__files_to_merge"), Ï’downloaded)
								}
							} else {
								Ï’success = Î».Cal(Ï’dl, Ï’filename, Ï’info_dict)
							}
							return Î».BlockExitNormally, nil
						}()
						if Ï„mp1 == Î».BlockExitReturn {
							return Ï„mp0
						}
						if Î».IsTrue(func() Î».Object {
							if Î»v := Ï’success; !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Ne(Ï’filename, Î».StrLiteral("-"))
							}
						}()) {
							Ï’fixup_policy = Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("fixup"))
							if Ï’fixup_policy == Î».None {
								Ï’fixup_policy = Î».StrLiteral("detect_or_warn")
							}
							INSTALL_FFMPEG_MESSAGE = Î».StrLiteral("Install ffmpeg or avconv to fix this automatically.")
							Ï’stretched_ratio = Î».Calm(Ï’info_dict, "get", Î».StrLiteral("stretched_ratio"))
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».NewBool(Ï’stretched_ratio != Î».None); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Ne(Ï’stretched_ratio, Î».IntLiteral(1))
								}
							}()) {
								if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».StrLiteral("warn"))) {
									Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("%s: Non-uniform pixel ratio (%s)"), Î».NewTuple(
										Î».GetItem(Ï’info_dict, Î».StrLiteral("id")),
										Ï’stretched_ratio,
									)))
								} else {
									if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».StrLiteral("detect_or_warn"))) {
										Ï’stretched_pp = Î».Cal(Î».None, Ï’self)
										if Î».IsTrue(Î».GetAttr(Ï’stretched_pp, "available", nil)) {
											Î».Calm(Ï’info_dict, "setdefault", Î».StrLiteral("__postprocessors"), Î».NewList())
											Î».Calm(Î».GetItem(Ï’info_dict, Î».StrLiteral("__postprocessors")), "append", Ï’stretched_pp)
										} else {
											Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("%s: Non-uniform pixel ratio (%s). %s"), Î».NewTuple(
												Î».GetItem(Ï’info_dict, Î».StrLiteral("id")),
												Ï’stretched_ratio,
												INSTALL_FFMPEG_MESSAGE,
											)))
										}
									} else {
										if !Î».Contains(Î».NewTuple(
											Î».StrLiteral("ignore"),
											Î».StrLiteral("never"),
										), Ï’fixup_policy) {
											panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
										}
									}
								}
							}
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».NewBool(Î».Calm(Ï’info_dict, "get", Î».StrLiteral("requested_formats")) == Î».None); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Eq(Î».Calm(Ï’info_dict, "get", Î».StrLiteral("container")), Î».StrLiteral("m4a_dash"))
								}
							}()) {
								if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».StrLiteral("warn"))) {
									Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("%s: writing DASH m4a. Only some players support this container."), Î».GetItem(Ï’info_dict, Î».StrLiteral("id"))))
								} else {
									if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».StrLiteral("detect_or_warn"))) {
										Ï’fixup_pp = Î».Cal(Î».None, Ï’self)
										if Î».IsTrue(Î».GetAttr(Ï’fixup_pp, "available", nil)) {
											Î».Calm(Ï’info_dict, "setdefault", Î».StrLiteral("__postprocessors"), Î».NewList())
											Î».Calm(Î».GetItem(Ï’info_dict, Î».StrLiteral("__postprocessors")), "append", Ï’fixup_pp)
										} else {
											Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("%s: writing DASH m4a. Only some players support this container. %s"), Î».NewTuple(
												Î».GetItem(Ï’info_dict, Î».StrLiteral("id")),
												INSTALL_FFMPEG_MESSAGE,
											)))
										}
									} else {
										if !Î».Contains(Î».NewTuple(
											Î».StrLiteral("ignore"),
											Î».StrLiteral("never"),
										), Ï’fixup_policy) {
											panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
										}
									}
								}
							}
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Eq(Î».Calm(Ï’info_dict, "get", Î».StrLiteral("protocol")), Î».StrLiteral("m3u8_native")); Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return func() Î».Object {
										if Î»v := Î».Eq(Î».Calm(Ï’info_dict, "get", Î».StrLiteral("protocol")), Î».StrLiteral("m3u8")); !Î».IsTrue(Î»v) {
											return Î»v
										} else {
											return Î».Calm(Î».GetAttr(Ï’self, "params", nil), "get", Î».StrLiteral("hls_prefer_native"))
										}
									}()
								}
							}()) {
								if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».StrLiteral("warn"))) {
									Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("%s: malformed AAC bitstream detected."), Î».GetItem(Ï’info_dict, Î».StrLiteral("id"))))
								} else {
									if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».StrLiteral("detect_or_warn"))) {
										Ï’fixup_pp = Î».Cal(Î».None, Ï’self)
										if Î».IsTrue(Î».GetAttr(Ï’fixup_pp, "available", nil)) {
											Î».Calm(Ï’info_dict, "setdefault", Î».StrLiteral("__postprocessors"), Î».NewList())
											Î».Calm(Î».GetItem(Ï’info_dict, Î».StrLiteral("__postprocessors")), "append", Ï’fixup_pp)
										} else {
											Î».Calm(Ï’self, "report_warning", Î».Mod(Î».StrLiteral("%s: malformed AAC bitstream detected. %s"), Î».NewTuple(
												Î».GetItem(Ï’info_dict, Î».StrLiteral("id")),
												INSTALL_FFMPEG_MESSAGE,
											)))
										}
									} else {
										if !Î».Contains(Î».NewTuple(
											Î».StrLiteral("ignore"),
											Î».StrLiteral("never"),
										), Ï’fixup_policy) {
											panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
										}
									}
								}
							}
							Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
								defer Î».CatchMulti(
									nil,
									&Î».Catcher{PostProcessingError, func(Î»ex Î».BaseException) {
										var Ï’err Î».Object = Î»ex
										Î».Calm(Ï’self, "report_error", Î».Mod(Î».StrLiteral("postprocessing: %s"), Î».Cal(Î».StrType, Ï’err)))
										Î»exit, Î»ret = Î».BlockExitReturn, Î».None
										return
									}},
								)
								Î».Calm(Ï’self, "post_process", Ï’filename, Ï’info_dict)
								return Î».BlockExitNormally, nil
							}()
							if Ï„mp0 == Î».BlockExitReturn {
								return Ï„mp1
							}
							Î».Calm(Ï’self, "record_download_archive", Ï’info_dict)
						}
					}
					return Î».None
				})
			YoutubeDL_format_resolution = Î».NewFunction("format_resolution",
				[]Î».Param{
					{Name: "format"},
					{Name: "default", Def: Î».StrLiteral("unknown")},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’default = Î»args[1]
						Ï’format  = Î»args[0]
						Ï’res     Î».Object
					)
					if Î».IsTrue(Î».Eq(Î».Calm(Ï’format, "get", Î».StrLiteral("vcodec")), Î».StrLiteral("none"))) {
						return Î».StrLiteral("audio only")
					}
					if Î».Calm(Ï’format, "get", Î».StrLiteral("resolution")) != Î».None {
						return Î».GetItem(Ï’format, Î».StrLiteral("resolution"))
					}
					if Î».Calm(Ï’format, "get", Î».StrLiteral("height")) != Î».None {
						if Î».Calm(Ï’format, "get", Î».StrLiteral("width")) != Î».None {
							Ï’res = Î».Mod(Î».StrLiteral("%sx%s"), Î».NewTuple(
								Î».GetItem(Ï’format, Î».StrLiteral("width")),
								Î».GetItem(Ï’format, Î».StrLiteral("height")),
							))
						} else {
							Ï’res = Î».Mod(Î».StrLiteral("%sp"), Î».GetItem(Ï’format, Î».StrLiteral("height")))
						}
					} else {
						if Î».Calm(Ï’format, "get", Î».StrLiteral("width")) != Î».None {
							Ï’res = Î».Mod(Î».StrLiteral("%dx?"), Î».GetItem(Ï’format, Î».StrLiteral("width")))
						} else {
							Ï’res = Ï’default
						}
					}
					return Ï’res
				})
			YoutubeDL_format_resolution = Î».Cal(Î».StaticMethodType, YoutubeDL_format_resolution)
			return Î».ClassDictLiteral(map[string]Î».Object{
				"_NUMERIC_FIELDS":                YoutubeDL__NUMERIC_FIELDS,
				"__extract_info":                 YoutubeDL___extract_info,
				"__forced_printings":             YoutubeDL___forced_printings,
				"__handle_extraction_exceptions": YoutubeDL___handle_extraction_exceptions,
				"_bidi_workaround":               YoutubeDL__bidi_workaround,
				"_calc_cookies":                  YoutubeDL__calc_cookies,
				"_calc_headers":                  YoutubeDL__calc_headers,
				"_default_format_spec":           YoutubeDL__default_format_spec,
				"_ies":                           YoutubeDL__ies,
				"_num_downloads":                 YoutubeDL__num_downloads,
				"_screen_file":                   YoutubeDL__screen_file,
				"add_default_extra_info":         YoutubeDL_add_default_extra_info,
				"add_default_info_extractors":    YoutubeDL_add_default_info_extractors,
				"add_extra_info":                 YoutubeDL_add_extra_info,
				"add_info_extractor":             YoutubeDL_add_info_extractor,
				"extract_info":                   YoutubeDL_extract_info,
				"format_resolution":              YoutubeDL_format_resolution,
				"get_info_extractor":             YoutubeDL_get_info_extractor,
				"params":                         YoutubeDL_params,
				"prepare_filename":               YoutubeDL_prepare_filename,
				"process_ie_result":              YoutubeDL_process_ie_result,
				"process_info":                   YoutubeDL_process_info,
				"process_subtitles":              YoutubeDL_process_subtitles,
				"process_video_result":           YoutubeDL_process_video_result,
				"report_error":                   YoutubeDL_report_error,
				"report_warning":                 YoutubeDL_report_warning,
				"to_screen":                      YoutubeDL_to_screen,
				"to_stderr":                      YoutubeDL_to_stderr,
				"to_stdout":                      YoutubeDL_to_stdout,
				"trouble":                        YoutubeDL_trouble,
			})
		}())
	})
}
