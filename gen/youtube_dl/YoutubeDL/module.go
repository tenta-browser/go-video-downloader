// Code generated by transpiler. DO NOT EDIT.

/**
 * Go Video Downloader
 *
 *    Copyright 2019 Tenta, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * For any questions, please contact developer@tenta.io
 *
 * YoutubeDL/module.go: transpiled from https://github.com/ytdl-org/youtube-dl/blob/master/youtube_dl/YoutubeDL.py
 */

package YoutubeDL

import (
	Î©collections "github.com/tenta-browser/go-video-downloader/gen/collections"
	Î©json "github.com/tenta-browser/go-video-downloader/gen/json"
	Î©random "github.com/tenta-browser/go-video-downloader/gen/random"
	Î©re "github.com/tenta-browser/go-video-downloader/gen/re"
	Î©socket "github.com/tenta-browser/go-video-downloader/gen/socket"
	Î©string "github.com/tenta-browser/go-video-downloader/gen/string"
	Î©sys "github.com/tenta-browser/go-video-downloader/gen/sys"
	Î©time "github.com/tenta-browser/go-video-downloader/gen/time"
	Î©error "github.com/tenta-browser/go-video-downloader/gen/urllib/error"
	Î©cache "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/cache"
	Î©compat "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/compat"
	Î©extractor "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/extractor"
	Î©openload "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/extractor/openload"
	Î©postprocessor "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/postprocessor"
	Î©utils "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/utils"
	Î» "github.com/tenta-browser/go-video-downloader/runtime"
)

var (
	Cache                  Î».Object
	DEFAULT_OUTTMPL        Î».Object
	DownloadError          Î».Object
	ExtractorError         Î».Object
	FFmpegPostProcessor    Î».Object
	GeoRestrictedError     Î».Object
	MaxDownloadsReached    Î».Object
	PagedList              Î».Object
	PhantomJSwrapper       Î».Object
	PostProcessingError    Î».Object
	UnavailableVideoError  Î».Object
	YoutubeDL              Î».Object
	Ï’ascii_letters         Î».Object
	Ï’compat_basestring     Î».Object
	Ï’compat_http_client    Î».Object
	Ï’compat_kwargs         Î».Object
	Ï’compat_numeric_types  Î».Object
	Ï’compat_str            Î».Object
	Ï’determine_ext         Î».Object
	Ï’determine_protocol    Î».Object
	Ï’error_to_compat_str   Î».Object
	Ï’expand_path           Î».Object
	Ï’gen_extractor_classes Î».Object
	Ï’get_info_extractor    Î».Object
	Ï’int_or_none           Î».Object
	Ï’orderedSet            Î».Object
	Ï’parse_filesize        Î».Object
	Ï’preferredencoding     Î».Object
	Ï’sanitize_filename     Î».Object
	Ï’sanitize_path         Î».Object
	Ï’sanitize_url          Î».Object
	Ï’sanitized_Request     Î».Object
	Ï’std_headers           Î».Object
	Ï’str_or_none           Î».Object
	Ï’url_basename          Î».Object
)

func init() {
	Î».InitModule(func() {
		Ï’ascii_letters = Î©string.Ï’ascii_letters
		Ï’compat_basestring = Î©compat.Ï’compat_basestring
		Ï’compat_http_client = Î©compat.Ï’compat_http_client
		Ï’compat_kwargs = Î©compat.Ï’compat_kwargs
		Ï’compat_numeric_types = Î©compat.Ï’compat_numeric_types
		Ï’compat_str = Î©compat.Ï’compat_str
		DEFAULT_OUTTMPL = Î©utils.DEFAULT_OUTTMPL
		Ï’determine_ext = Î©utils.Ï’determine_ext
		Ï’determine_protocol = Î©utils.Ï’determine_protocol
		DownloadError = Î©utils.DownloadError
		Ï’error_to_compat_str = Î©utils.Ï’error_to_compat_str
		Ï’expand_path = Î©utils.Ï’expand_path
		ExtractorError = Î©utils.ExtractorError
		GeoRestrictedError = Î©utils.GeoRestrictedError
		Ï’int_or_none = Î©utils.Ï’int_or_none
		MaxDownloadsReached = Î©utils.MaxDownloadsReached
		Ï’orderedSet = Î©utils.Ï’orderedSet
		PagedList = Î©utils.PagedList
		Ï’parse_filesize = Î©utils.Ï’parse_filesize
		PostProcessingError = Î©utils.PostProcessingError
		Ï’preferredencoding = Î©utils.Ï’preferredencoding
		Ï’sanitize_filename = Î©utils.Ï’sanitize_filename
		Ï’sanitize_path = Î©utils.Ï’sanitize_path
		Ï’sanitize_url = Î©utils.Ï’sanitize_url
		Ï’sanitized_Request = Î©utils.Ï’sanitized_Request
		Ï’std_headers = Î©utils.Ï’std_headers
		Ï’str_or_none = Î©utils.Ï’str_or_none
		UnavailableVideoError = Î©utils.UnavailableVideoError
		Ï’url_basename = Î©utils.Ï’url_basename
		Cache = Î©cache.Cache
		Ï’get_info_extractor = Î©extractor.Ï’get_info_extractor
		Ï’gen_extractor_classes = Î©extractor.Ï’gen_extractor_classes
		PhantomJSwrapper = Î©openload.PhantomJSwrapper
		FFmpegPostProcessor = Î©postprocessor.FFmpegPostProcessor
		if Î».IsTrue(Î».Eq(Î».None, Î».NewStr("nt"))) {

		}
		YoutubeDL = Î».Cal(Î».TypeType, Î».NewStr("YoutubeDL"), Î».NewTuple(Î».ObjectType), func() Î».Dict {
			var (
				YoutubeDL__NUMERIC_FIELDS             Î».Object
				YoutubeDL___forced_printings          Î».Object
				YoutubeDL__bidi_workaround            Î».Object
				YoutubeDL__calc_cookies               Î».Object
				YoutubeDL__calc_headers               Î».Object
				YoutubeDL__default_format_spec        Î».Object
				YoutubeDL__ies                        Î».Object
				YoutubeDL__num_downloads              Î».Object
				YoutubeDL__screen_file                Î».Object
				YoutubeDL_add_default_extra_info      Î».Object
				YoutubeDL_add_default_info_extractors Î».Object
				YoutubeDL_add_extra_info              Î».Object
				YoutubeDL_add_info_extractor          Î».Object
				YoutubeDL_extract_info                Î».Object
				YoutubeDL_format_resolution           Î».Object
				YoutubeDL_get_info_extractor          Î».Object
				YoutubeDL_params                      Î».Object
				YoutubeDL_prepare_filename            Î».Object
				YoutubeDL_process_ie_result           Î».Object
				YoutubeDL_process_info                Î».Object
				YoutubeDL_process_subtitles           Î».Object
				YoutubeDL_process_video_result        Î».Object
				YoutubeDL_report_error                Î».Object
				YoutubeDL_report_warning              Î».Object
				YoutubeDL_to_screen                   Î».Object
				YoutubeDL_to_stderr                   Î».Object
				YoutubeDL_to_stdout                   Î».Object
				YoutubeDL_trouble                     Î».Object
			)
			YoutubeDL__NUMERIC_FIELDS = Î».Cal(Î».SetType, Î».NewTuple(
				Î».NewStr("width"),
				Î».NewStr("height"),
				Î».NewStr("tbr"),
				Î».NewStr("abr"),
				Î».NewStr("asr"),
				Î».NewStr("vbr"),
				Î».NewStr("fps"),
				Î».NewStr("filesize"),
				Î».NewStr("filesize_approx"),
				Î».NewStr("timestamp"),
				Î».NewStr("upload_year"),
				Î».NewStr("upload_month"),
				Î».NewStr("upload_day"),
				Î».NewStr("duration"),
				Î».NewStr("view_count"),
				Î».NewStr("like_count"),
				Î».NewStr("dislike_count"),
				Î».NewStr("repost_count"),
				Î».NewStr("average_rating"),
				Î».NewStr("comment_count"),
				Î».NewStr("age_limit"),
				Î».NewStr("start_time"),
				Î».NewStr("end_time"),
				Î».NewStr("chapter_number"),
				Î».NewStr("season_number"),
				Î».NewStr("episode_number"),
				Î».NewStr("track_number"),
				Î».NewStr("disc_number"),
				Î».NewStr("release_year"),
				Î».NewStr("playlist_index"),
			))
			YoutubeDL_params = Î».None
			YoutubeDL__ies = Î».NewList()
			YoutubeDL__num_downloads = Î».None
			YoutubeDL__screen_file = Î».None
			YoutubeDL_add_info_extractor = Î».NewFunction("add_info_extractor",
				[]Î».Param{
					{Name: "self"},
					{Name: "ie"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ie   = Î»args[1]
						Ï’self = Î»args[0]
					)
					Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "_ies", nil), "append", nil), Ï’ie)
					if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’ie, Î».TypeType)))) {
						Î».SetItem(Î».GetAttr(Ï’self, "_ies_instances", nil), Î».Cal(Î».GetAttr(Ï’ie, "ie_key", nil)), Ï’ie)
						Î».Cal(Î».GetAttr(Ï’ie, "set_downloader", nil), Ï’self)
					}
					return Î».None
				})
			YoutubeDL_get_info_extractor = Î».NewFunction("get_info_extractor",
				[]Î».Param{
					{Name: "self"},
					{Name: "ie_key"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ie     Î».Object
						Ï’ie_key = Î»args[1]
						Ï’self   = Î»args[0]
					)
					Ï’ie = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "_ies_instances", nil), "get", nil), Ï’ie_key)
					if Î».IsTrue(Î».NewBool(Ï’ie == Î».None)) {
						Ï’ie = Î».Cal(Î».Cal(Ï’get_info_extractor, Ï’ie_key))
						Î».Cal(Î».GetAttr(Ï’self, "add_info_extractor", nil), Ï’ie)
					}
					return Ï’ie
				})
			YoutubeDL_add_default_info_extractors = Î».NewFunction("add_default_info_extractors",
				[]Î».Param{
					{Name: "self"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ie   Î».Object
						Ï’self = Î»args[0]
						Ï„mp0  Î».Object
						Ï„mp1  Î».Object
					)
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Ï’gen_extractor_classes))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’ie = Ï„mp1
						Î».Cal(Î».GetAttr(Ï’self, "add_info_extractor", nil), Ï’ie)
					}
					return Î».None
				})
			YoutubeDL__bidi_workaround = Î».NewFunction("_bidi_workaround",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’line_count Î».Object
						Ï’message    = Î»args[1]
						Ï’res        Î».Object
						Ï’self       = Î»args[0]
					)
					if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Î».BuiltinHasAttr, Ï’self, Î».NewStr("_output_channel"))))) {
						return Ï’message
					}
					if !Î».IsTrue(Î».Cal(Î».BuiltinHasAttr, Ï’self, Î».NewStr("_output_process"))) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					if !Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’message, Ï’compat_str)) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					Ï’line_count = Î».Add(Î».Cal(Î».GetAttr(Ï’message, "count", nil), Î».NewStr("\n")), Î».NewInt(1))
					Î».Cal(Î».GetAttr(Î».GetAttr(Î».GetAttr(Ï’self, "_output_process", nil), "stdin", nil), "write", nil), Î».Cal(Î».GetAttr(Î».Add(Ï’message, Î».NewStr("\n")), "encode", nil), Î».NewStr("utf-8")))
					Î».Cal(Î».GetAttr(Î».GetAttr(Î».GetAttr(Ï’self, "_output_process", nil), "stdin", nil), "flush", nil))
					Ï’res = Î».Cal(Î».GetAttr(Î».NewStr(""), "join", nil), Î».Cal(Î».NewFunction("<generator>",
						nil,
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
								var (
									Ï„mp0 Î».Object
									Ï„mp1 Î».Object
								)
								Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».RangeType, Ï’line_count))
								for {
									if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
										break
									}
									_ = Ï„mp1
									Î»gy.Yield(Î».Cal(Î».GetAttr(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "_output_channel", nil), "readline", nil)), "decode", nil), Î».NewStr("utf-8")))
								}
								return Î».None
							})
						})))
					return Î».GetItem(Ï’res, Î».NewSlice(Î».None, Î».Neg(Î».Cal(Î».BuiltinLen, Î».NewStr("\n"))), Î».None))
				})
			YoutubeDL_to_screen = Î».NewFunction("to_screen",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
					{Name: "skip_eol", Def: Î».False},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’message  = Î»args[1]
						Ï’self     = Î»args[0]
						Ï’skip_eol = Î»args[2]
					)
					return Î».Call(Î».GetAttr(Ï’self, "to_stdout", nil), Î».NewArgs(
						Ï’message,
						Ï’skip_eol,
					), Î».KWArgs{
						{Name: "check_quiet", Value: Î».True},
					})
				})
			YoutubeDL_to_stdout = Î».NewFunction("to_stdout",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
					{Name: "skip_eol", Def: Î».False},
					{Name: "check_quiet", Def: Î».False},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’check_quiet = Î»args[3]
						Ï’message     = Î»args[1]
						Ï’output      Î».Object
						Ï’self        = Î»args[0]
						Ï’skip_eol    = Î»args[2]
						Ï’terminator  Î».Object
					)
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("logger"))) {
						Î».Cal(Î».GetAttr(Î».GetItem(Î».GetAttr(Ï’self, "params", nil), Î».NewStr("logger")), "debug", nil), Ï’message)
					} else {
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».NewBool(!Î».IsTrue(Ï’check_quiet)); Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("quiet"), Î».False)))
							}
						}()) {
							Ï’message = Î».Cal(Î».GetAttr(Ï’self, "_bidi_workaround", nil), Ï’message)
							Ï’terminator = Î».GetItem(Î».NewList(
								Î».NewStr("\n"),
								Î».NewStr(""),
							), Ï’skip_eol)
							Ï’output = Î».Add(Ï’message, Ï’terminator)
							Î».Cal(Î».GetAttr(Ï’self, "_write_string", nil), Ï’output, Î».GetAttr(Ï’self, "_screen_file", nil))
						}
					}
					return Î».None
				})
			YoutubeDL_to_stderr = Î».NewFunction("to_stderr",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’message = Î»args[1]
						Ï’output  Î».Object
						Ï’self    = Î»args[0]
					)
					if !Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’message, Ï’compat_str)) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("logger"))) {
						Î».Cal(Î».GetAttr(Î».GetItem(Î».GetAttr(Ï’self, "params", nil), Î».NewStr("logger")), "error", nil), Ï’message)
					} else {
						Ï’message = Î».Cal(Î».GetAttr(Ï’self, "_bidi_workaround", nil), Ï’message)
						Ï’output = Î».Add(Ï’message, Î».NewStr("\n"))
						Î».Cal(Î».GetAttr(Ï’self, "_write_string", nil), Ï’output, Î».GetAttr(Ï’self, "_err_file", nil))
					}
					return Î».None
				})
			YoutubeDL_trouble = Î».NewFunction("trouble",
				[]Î».Param{
					{Name: "self"},
					{Name: "message", Def: Î».None},
					{Name: "tb", Def: Î».None},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’exc_info Î».Object
						Ï’message  = Î»args[1]
						Ï’self     = Î»args[0]
						Ï’tb       = Î»args[2]
						Ï’tb_data  Î».Object
						Ï„mp0      Î».Object
					)
					if Î».IsTrue(Î».NewBool(Ï’message != Î».None)) {
						Î».Cal(Î».GetAttr(Ï’self, "to_stderr", nil), Ï’message)
					}
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("verbose"))) {
						if Î».IsTrue(Î».NewBool(Ï’tb == Î».None)) {
							if Î».IsTrue(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».NewInt(0))) {
								Ï’tb = Î».NewStr("")
								if Î».IsTrue(func() Î».Object {
									if Î»v := Î».Cal(Î».BuiltinHasAttr, Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».NewInt(1)), Î».NewStr("exc_info")); !Î».IsTrue(Î»v) {
										return Î»v
									} else {
										return Î».GetItem(Î».GetAttr(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».NewInt(1)), "exc_info", nil), Î».NewInt(0))
									}
								}()) {
									Ï„mp0 = Î».IAdd(Ï’tb, Î».Cal(Î».GetAttr(Î».NewStr(""), "join", nil), Î».Cal(Î».GetAttr(Î».None, "format_exception", nil), Î».Unpack(Î».AsStarred(Î».GetAttr(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».NewInt(1)), "exc_info", nil)))...)))
									Ï’tb = Ï„mp0
								}
								Ï„mp0 = Î».IAdd(Ï’tb, Î».Cal(Î».None, Î».Cal(Î».GetAttr(Î».None, "format_exc", nil))))
								Ï’tb = Ï„mp0
							} else {
								Ï’tb_data = Î».Cal(Î».GetAttr(Î».None, "format_list", nil), Î».Cal(Î».GetAttr(Î».None, "extract_stack", nil)))
								Ï’tb = Î».Cal(Î».GetAttr(Î».NewStr(""), "join", nil), Ï’tb_data)
							}
						}
						Î».Cal(Î».GetAttr(Ï’self, "to_stderr", nil), Ï’tb)
					}
					if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("ignoreerrors"), Î».False)))) {
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».NewInt(0)); !Î».IsTrue(Î»v) {
								return Î»v
							} else if Î»v := Î».Cal(Î».BuiltinHasAttr, Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».NewInt(1)), Î».NewStr("exc_info")); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».GetItem(Î».GetAttr(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».NewInt(1)), "exc_info", nil), Î».NewInt(0))
							}
						}()) {
							Ï’exc_info = Î».GetAttr(Î».GetItem(Î».Cal(Î©sys.Ï’exc_info), Î».NewInt(1)), "exc_info", nil)
						} else {
							Ï’exc_info = Î».Cal(Î©sys.Ï’exc_info)
						}
						panic(Î».Raise(Î».Cal(DownloadError, Ï’message, Ï’exc_info)))
					}
					Î».SetAttr(Ï’self, "_download_retcode", Î».NewInt(1))
					return Î».None
				})
			YoutubeDL_report_warning = Î».NewFunction("report_warning",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’_msg_header     Î».Object
						Ï’message         = Î»args[1]
						Ï’self            = Î»args[0]
						Ï’warning_message Î».Object
					)
					if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("logger")) != Î».None)) {
						Î».Cal(Î».GetAttr(Î».GetItem(Î».GetAttr(Ï’self, "params", nil), Î».NewStr("logger")), "warning", nil), Ï’message)
					} else {
						if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("no_warnings"))) {
							return Î».None
						}
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("no_color")))); !Î».IsTrue(Î»v) {
								return Î»v
							} else if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "_err_file", nil), "isatty", nil)); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Ne(Î».None, Î».NewStr("nt"))
							}
						}()) {
							Ï’_msg_header = Î».NewStr("[0;33mWARNING:[0m")
						} else {
							Ï’_msg_header = Î».NewStr("WARNING:")
						}
						Ï’warning_message = Î».Mod(Î».NewStr("%s %s"), Î».NewTuple(
							Ï’_msg_header,
							Ï’message,
						))
						Î».Cal(Î».GetAttr(Ï’self, "to_stderr", nil), Ï’warning_message)
					}
					return Î».None
				})
			YoutubeDL_report_error = Î».NewFunction("report_error",
				[]Î».Param{
					{Name: "self"},
					{Name: "message"},
					{Name: "tb", Def: Î».None},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’_msg_header   Î».Object
						Ï’error_message Î».Object
						Ï’message       = Î»args[1]
						Ï’self          = Î»args[0]
						Ï’tb            = Î»args[2]
					)
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("no_color")))); !Î».IsTrue(Î»v) {
							return Î»v
						} else if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "_err_file", nil), "isatty", nil)); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Ne(Î».None, Î».NewStr("nt"))
						}
					}()) {
						Ï’_msg_header = Î».NewStr("[0;31mERROR:[0m")
					} else {
						Ï’_msg_header = Î».NewStr("ERROR:")
					}
					Ï’error_message = Î».Mod(Î».NewStr("%s %s"), Î».NewTuple(
						Ï’_msg_header,
						Ï’message,
					))
					Î».Cal(Î».GetAttr(Ï’self, "trouble", nil), Ï’error_message, Ï’tb)
					return Î».None
				})
			YoutubeDL_prepare_filename = Î».NewFunction("prepare_filename",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						FIELD_SIZE_COMPAT_RE   Î».Object
						FORMAT_RE              Î».Object
						Ï’autonumber_size       Î».Object
						Ï’field_size_compat_map Î».Object
						Ï’filename              Î».Object
						Ï’info_dict             = Î»args[1]
						Ï’mobj                  Î».Object
						Ï’numeric_field         Î».Object
						Ï’outtmpl               Î».Object
						Ï’sanitize              Î».Object
						Ï’self                  = Î»args[0]
						Ï’sep                   Î».Object
						Ï’template_dict         Î».Object
						Ï„mp0                   Î».Object
						Ï„mp1                   Î».Object
						Ï„mp2                   Î».Object
						Ï„mp3                   Î».Object
					)
					Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
						defer Î».CatchMulti(
							nil,
							&Î».Catcher{Î».ValueErrorType, func(Î»ex Î».BaseException) {
								var Ï’err Î».Object = Î»ex
								Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Add(Î».Add(Î».Add(Î».Add(Î».NewStr("Error in output template: "), Î».Cal(Î».StrType, Ï’err)), Î».NewStr(" (encoding: ")), Î».Cal(Î».BuiltinRepr, Î».Cal(Ï’preferredencoding))), Î».NewStr(")")))
								Î»exit, Î»ret = Î».BlockExitReturn, Î».None
								return
							}},
						)
						Ï’template_dict = Î».Cal(Î».DictType, Ï’info_dict)
						Î».SetItem(Ï’template_dict, Î».NewStr("epoch"), Î».Cal(Î».IntType, Î».Cal(Î©time.Ï’time)))
						Ï’autonumber_size = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("autonumber_size"))
						if Î».IsTrue(Î».NewBool(Ï’autonumber_size == Î».None)) {
							Ï’autonumber_size = Î».NewInt(5)
						}
						Î».SetItem(Ï’template_dict, Î».NewStr("autonumber"), Î».Add(Î».Sub(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("autonumber_start"), Î».NewInt(1)), Î».NewInt(1)), Î».GetAttr(Ï’self, "_num_downloads", nil)))
						if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’template_dict, "get", nil), Î».NewStr("resolution")) == Î».None)) {
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Cal(Î».GetAttr(Ï’template_dict, "get", nil), Î».NewStr("width")); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Cal(Î».GetAttr(Ï’template_dict, "get", nil), Î».NewStr("height"))
								}
							}()) {
								Î».SetItem(Ï’template_dict, Î».NewStr("resolution"), Î».Mod(Î».NewStr("%dx%d"), Î».NewTuple(
									Î».GetItem(Ï’template_dict, Î».NewStr("width")),
									Î».GetItem(Ï’template_dict, Î».NewStr("height")),
								)))
							} else {
								if Î».IsTrue(Î».Cal(Î».GetAttr(Ï’template_dict, "get", nil), Î».NewStr("height"))) {
									Î».SetItem(Ï’template_dict, Î».NewStr("resolution"), Î».Mod(Î».NewStr("%sp"), Î».GetItem(Ï’template_dict, Î».NewStr("height"))))
								} else {
									if Î».IsTrue(Î».Cal(Î».GetAttr(Ï’template_dict, "get", nil), Î».NewStr("width"))) {
										Î».SetItem(Ï’template_dict, Î».NewStr("resolution"), Î».Mod(Î».NewStr("%dx?"), Î».GetItem(Ï’template_dict, Î».NewStr("width"))))
									}
								}
							}
						}
						Ï’sanitize = Î».NewFunction("<lambda>",
							[]Î».Param{
								{Name: "k"},
								{Name: "v"},
							},
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								var (
									Ï’k = Î»args[0]
									Ï’v = Î»args[1]
								)
								return Î».Call(Ï’sanitize_filename, Î».NewArgs(Î».Cal(Ï’compat_str, Ï’v)), Î».KWArgs{
									{Name: "restricted", Value: Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("restrictfilenames"))},
									{Name: "is_id", Value: func() Î».Object {
										if Î»v := Î».Eq(Ï’k, Î».NewStr("id")); Î».IsTrue(Î»v) {
											return Î»v
										} else {
											return Î».Cal(Î».GetAttr(Ï’k, "endswith", nil), Î».NewStr("_id"))
										}
									}()},
								})
							})
						Ï’template_dict = Î».Cal(Î».DictType, Î».Cal(Î».NewFunction("<generator>",
							nil,
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
									var (
										Ï’k   Î».Object
										Ï’v   Î».Object
										Ï„mp0 Î».Object
										Ï„mp1 Î».Object
										Ï„mp2 Î».Object
									)
									Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».GetAttr(Ï’template_dict, "items", nil)))
									for {
										if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
											break
										}
										Ï„mp2 = Ï„mp1
										Ï’k = Î».GetItem(Ï„mp2, Î».NewInt(0))
										Ï’v = Î».GetItem(Ï„mp2, Î».NewInt(1))
										if Î».IsTrue(func() Î».Object {
											if Î»v := Î».NewBool(Ï’v != Î».None); !Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Î».NewBool(!Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’v, Î».NewTuple(
													Î».ListType,
													Î».TupleType,
													Î».DictType,
												))))
											}
										}()) {
											Î»gy.Yield(Î».NewTuple(
												Ï’k,
												func() Î».Object {
													if Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’v, Ï’compat_numeric_types)) {
														return Ï’v
													} else {
														return Î».Cal(Ï’sanitize, Ï’k, Ï’v)
													}
												}(),
											))
										}
									}
									return Î».None
								})
							})))
						Ï’template_dict = Î».Cal(Î©collections.Ï’defaultdict, Î».NewFunction("<lambda>",
							nil,
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								return Î».NewStr("NA")
							}), Ï’template_dict)
						Ï’outtmpl = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("outtmpl"), DEFAULT_OUTTMPL)
						Ï’field_size_compat_map = Î».NewDictWithTable(map[Î».Object]Î».Object{
							Î».NewStr("playlist_index"): Î».Cal(Î».BuiltinLen, Î».Cal(Î».StrType, Î».GetItem(Ï’template_dict, Î».NewStr("n_entries")))),
							Î».NewStr("autonumber"):     Ï’autonumber_size,
						})
						FIELD_SIZE_COMPAT_RE = Î».NewStr("(?<!%)%\\((?P<field>autonumber|playlist_index)\\)s")
						Ï’mobj = Î».Cal(Î©re.Ï’search, FIELD_SIZE_COMPAT_RE, Ï’outtmpl)
						if Î».IsTrue(Ï’mobj) {
							Ï’outtmpl = Î».Cal(Î©re.Ï’sub, FIELD_SIZE_COMPAT_RE, Î».Mod(Î».NewStr("%%(\\1)0%dd"), Î».GetItem(Ï’field_size_compat_map, Î».Cal(Î».GetAttr(Ï’mobj, "group", nil), Î».NewStr("field")))), Ï’outtmpl)
						}
						Ï„mp2 = Î».Cal(Î».BuiltinIter, Î».GetAttr(Ï’self, "_NUMERIC_FIELDS", nil))
						for {
							if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
								break
							}
							Ï’numeric_field = Ï„mp3
							if Î».IsTrue(Î».NewBool(!Î».Contains(Ï’template_dict, Ï’numeric_field))) {
								FORMAT_RE = Î».NewStr("(?x)\n                        (?<!%)\n                        %\n                        \\({0}\\)  # mapping key\n                        (?:[#0\\-+ ]+)?  # conversion flags (optional)\n                        (?:\\d+)?  # minimum field width (optional)\n                        (?:\\.\\d+)?  # precision (optional)\n                        [hlL]?  # length modifier (optional)\n                        [diouxXeEfFgGcrs%]  # conversion type\n                    ")
								Ï’outtmpl = Î».Cal(Î©re.Ï’sub, Î».Cal(Î».GetAttr(FORMAT_RE, "format", nil), Ï’numeric_field), Î».Cal(Î».GetAttr(Î».NewStr("%({0})s"), "format", nil), Ï’numeric_field), Ï’outtmpl)
							}
						}
						Ï’sep = Î».Cal(Î».GetAttr(Î».NewStr(""), "join", nil), Î».Cal(Î».ListType, Î».Cal(Î».NewFunction("<generator>",
							nil,
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
									var (
										Ï„mp0 Î».Object
										Ï„mp1 Î».Object
									)
									Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».RangeType, Î».NewInt(32)))
									for {
										if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
											break
										}
										_ = Ï„mp1
										Î»gy.Yield(Î».Cal(Î©random.Ï’choice, Ï’ascii_letters))
									}
									return Î».None
								})
							}))))
						Ï’outtmpl = Î».Cal(Î».GetAttr(Î».Cal(Î».GetAttr(Ï’outtmpl, "replace", nil), Î».NewStr("%%"), Î».Cal(Î».GetAttr(Î».NewStr("%{0}%"), "format", nil), Ï’sep)), "replace", nil), Î».NewStr("$$"), Î».Cal(Î».GetAttr(Î».NewStr("${0}$"), "format", nil), Ï’sep))
						Ï’filename = Î».Mod(Î».Cal(Î».GetAttr(Î».Cal(Ï’expand_path, Ï’outtmpl), "replace", nil), Ï’sep, Î».NewStr("")), Ï’template_dict)
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».Lt(Î©sys.Ï’version_info, Î».NewTuple(
								Î».NewInt(3),
								Î».NewInt(0),
							)); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Eq(Î©sys.Ï’platform, Î».NewStr("win32"))
							}
						}()) {
							Ï’filename = Î».Cal(Î».GetAttr(Î».Cal(Î».None, Ï’filename, Î».True), "decode", nil), Î».Cal(Ï’preferredencoding))
						}
						Î»exit, Î»ret = Î».BlockExitReturn, Î».Cal(Ï’sanitize_path, Ï’filename)
						return
						return Î».BlockExitNormally, nil
					}()
					if Ï„mp0 == Î».BlockExitReturn {
						return Ï„mp1
					}
					return Î».None
				})
			YoutubeDL_add_extra_info = Î».NewFunction("add_extra_info",
				[]Î».Param{
					{Name: "info_dict"},
					{Name: "extra_info"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’extra_info = Î»args[1]
						Ï’info_dict  = Î»args[0]
						Ï’key        Î».Object
						Ï’value      Î».Object
						Ï„mp0        Î».Object
						Ï„mp1        Î».Object
						Ï„mp2        Î».Object
					)
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».GetAttr(Ï’extra_info, "items", nil)))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï„mp2 = Ï„mp1
						Ï’key = Î».GetItem(Ï„mp2, Î».NewInt(0))
						Ï’value = Î».GetItem(Ï„mp2, Î».NewInt(1))
						Î».Cal(Î».GetAttr(Ï’info_dict, "setdefault", nil), Ï’key, Ï’value)
					}
					return Î».None
				})
			YoutubeDL_add_extra_info = Î».Cal(Î».StaticMethodType, YoutubeDL_add_extra_info)
			YoutubeDL_extract_info = Î».NewFunction("extract_info",
				[]Î».Param{
					{Name: "self"},
					{Name: "url"},
					{Name: "download", Def: Î».True},
					{Name: "ie_key", Def: Î».None},
					{Name: "extra_info", Def: Î».NewDictWithTable(map[Î».Object]Î».Object{})},
					{Name: "process", Def: Î».True},
					{Name: "force_generic_extractor", Def: Î».False},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’download                = Î»args[2]
						Ï’extra_info              = Î»args[4]
						Ï’force_generic_extractor = Î»args[6]
						Ï’ie                      Î».Object
						Ï’ie_key                  = Î»args[3]
						Ï’ie_result               Î».Object
						Ï’ies                     Î».Object
						Ï’msg                     Î».Object
						Ï’process                 = Î»args[5]
						Ï’self                    = Î»args[0]
						Ï’url                     = Î»args[1]
						Ï„mp0                     Î».Object
						Ï„mp1                     Î».Object
						Ï„mp2                     Î».Object
						Ï„mp3                     Î».Object
						Ï„mp4                     Î».Object
					)
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».NewBool(!Î».IsTrue(Ï’ie_key)); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Ï’force_generic_extractor
						}
					}()) {
						Ï’ie_key = Î».NewStr("Generic")
					}
					if Î».IsTrue(Ï’ie_key) {
						Ï’ies = Î».NewList(Î».Cal(Î».GetAttr(Ï’self, "get_info_extractor", nil), Ï’ie_key))
					} else {
						Ï’ies = Î».GetAttr(Ï’self, "_ies", nil)
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’ies)
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’ie = Ï„mp1
						if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Ï’ie, "suitable", nil), Ï’url)))) {
							continue
						}
						Ï’ie = Î».Cal(Î».GetAttr(Ï’self, "get_info_extractor", nil), Î».Cal(Î».GetAttr(Ï’ie, "ie_key", nil)))
						if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Ï’ie, "working", nil))))) {
							Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».NewStr("The program functionality for this site has been marked as broken, and will probably not work."))
						}
						Ï„mp2, Ï„mp3 = func() (Î»exit Î».Object, Î»ret Î».Object) {
							defer Î».CatchMulti(
								nil,
								&Î».Catcher{GeoRestrictedError, func(Î»ex Î».BaseException) {
									var Ï’e Î».Object = Î»ex
									Ï’msg = Î».GetAttr(Ï’e, "msg", nil)
									if Î».IsTrue(Î».GetAttr(Ï’e, "countries", nil)) {
										Ï„mp4 = Î».IAdd(Ï’msg, Î».Mod(Î».NewStr("\nThis video is available in %s."), Î».Cal(Î».GetAttr(Î».NewStr(", "), "join", nil), Î».Cal(Î».MapIteratorType, Î».GetAttr(Î».None, "short2full", nil), Î».GetAttr(Ï’e, "countries", nil)))))
										Ï’msg = Ï„mp4
									}
									Ï„mp4 = Î».IAdd(Ï’msg, Î».NewStr("\nYou might want to use a VPN or a proxy server (with --proxy) to workaround."))
									Ï’msg = Ï„mp4
									Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Ï’msg)
									Î»exit = Î».BlockExitBreak
									return
								}},
								&Î».Catcher{ExtractorError, func(Î»ex Î».BaseException) {
									var Ï’e Î».Object = Î»ex
									Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Cal(Ï’compat_str, Ï’e), Î».Cal(Î».GetAttr(Ï’e, "format_traceback", nil)))
									Î»exit = Î».BlockExitBreak
									return
								}},
								&Î».Catcher{MaxDownloadsReached, func(Î»ex Î».BaseException) {
									panic(Î».Raise(Î»ex))
								}},
								&Î».Catcher{Î».ExceptionType, func(Î»ex Î».BaseException) {
									var Ï’e Î».Object = Î»ex
									if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("ignoreerrors"), Î».False)) {
										Î».Call(Î».GetAttr(Ï’self, "report_error", nil), Î».NewArgs(Î».Cal(Ï’error_to_compat_str, Ï’e)), Î».KWArgs{
											{Name: "tb", Value: Î».Cal(Î».None, Î».Cal(Î».GetAttr(Î».None, "format_exc", nil)))},
										})
										Î»exit = Î».BlockExitBreak
										return
									} else {
										panic(Î».Raise(Î»ex))
									}
								}},
							)
							Ï’ie_result = Î».Cal(Î».GetAttr(Ï’ie, "extract", nil), Ï’url)
							if Î».IsTrue(Î».NewBool(Ï’ie_result == Î».None)) {
								Î»exit = Î».BlockExitBreak
								return
							}
							if Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’ie_result, Î».ListType)) {
								Ï’ie_result = Î».NewDictWithTable(map[Î».Object]Î».Object{
									Î».NewStr("_type"):   Î».NewStr("compat_list"),
									Î».NewStr("entries"): Ï’ie_result,
								})
							}
							Î».Cal(Î».GetAttr(Ï’self, "add_default_extra_info", nil), Ï’ie_result, Ï’ie, Ï’url)
							if Î».IsTrue(Ï’process) {
								Î»exit, Î»ret = Î».BlockExitReturn, Î».Cal(Î».GetAttr(Ï’self, "process_ie_result", nil), Ï’ie_result, Ï’download, Ï’extra_info)
								return
							} else {
								Î»exit, Î»ret = Î».BlockExitReturn, Ï’ie_result
								return
							}
							return Î».BlockExitNormally, nil
						}()
						if Ï„mp2 == Î».BlockExitReturn {
							return Ï„mp3
						}
						if Ï„mp2 == Î».BlockExitBreak {
							break
						}
					}
					if Ï„mp1 == Î».AfterLast {
						Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Mod(Î».NewStr("no suitable InfoExtractor for URL %s"), Ï’url))
					}
					return Î».None
				})
			YoutubeDL_add_default_extra_info = Î».NewFunction("add_default_extra_info",
				[]Î».Param{
					{Name: "self"},
					{Name: "ie_result"},
					{Name: "ie"},
					{Name: "url"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ie        = Î»args[2]
						Ï’ie_result = Î»args[1]
						Ï’self      = Î»args[0]
						Ï’url       = Î»args[3]
					)
					Î».Cal(Î».GetAttr(Ï’self, "add_extra_info", nil), Ï’ie_result, Î».NewDictWithTable(map[Î».Object]Î».Object{
						Î».NewStr("extractor"):            Î».GetAttr(Ï’ie, "IE_NAME", nil),
						Î».NewStr("webpage_url"):          Ï’url,
						Î».NewStr("webpage_url_basename"): Î».Cal(Ï’url_basename, Ï’url),
						Î».NewStr("extractor_key"):        Î».Cal(Î».GetAttr(Ï’ie, "ie_key", nil)),
					}))
					return Î».None
				})
			YoutubeDL_process_ie_result = Î».NewFunction("process_ie_result",
				[]Î».Param{
					{Name: "self"},
					{Name: "ie_result"},
					{Name: "download", Def: Î».True},
					{Name: "extra_info", Def: Î».NewDictWithTable(map[Î».Object]Î».Object{})},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’_fixup                     Î».Object
						Ï’download                   = Î»args[2]
						Ï’entries                    Î».Object
						Ï’entry                      Î».Object
						Ï’entry_result               Î».Object
						Ï’extra                      Î».Object
						Ï’extra_info                 = Î»args[3]
						Ï’extract_flat               Î».Object
						Ï’f                          Î».Object
						Ï’force_properties           Î».Object
						Ï’i                          Î».Object
						Ï’ie_entries                 Î».Object
						Ï’ie_result                  = Î»args[1]
						Ï’info                       Î».Object
						Ï’item                       Î».Object
						Ï’iter_playlistitems         Î».Object
						Ï’make_playlistitems_entries Î».Object
						Ï’n_all_entries              Î».Object
						Ï’n_entries                  Î».Object
						Ï’new_result                 Î».Object
						Ï’playlist                   Î».Object
						Ï’playlist_results           Î».Object
						Ï’playlistend                Î».Object
						Ï’playlistitems              Î».Object
						Ï’playlistitems_str          Î».Object
						Ï’playliststart              Î».Object
						Ï’reason                     Î».Object
						Ï’report_download            Î».Object
						Ï’result_type                Î».Object
						Ï’self                       = Î»args[0]
						Ï’x_forwarded_for            Î».Object
						Ï„mp0                        Î».Object
						Ï„mp1                        Î».Object
						Ï„mp2                        Î».Object
					)
					Ï’result_type = Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("_type"), Î».NewStr("video"))
					if Î».IsTrue(Î».NewBool(Î».Contains(Î».NewTuple(
						Î».NewStr("url"),
						Î».NewStr("url_transparent"),
					), Ï’result_type))) {
						Î».SetItem(Ï’ie_result, Î».NewStr("url"), Î».Cal(Ï’sanitize_url, Î».GetItem(Ï’ie_result, Î».NewStr("url"))))
						Ï’extract_flat = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("extract_flat"), Î».False)
						if Î».IsTrue(func() Î».Object {
							if Î»v := func() Î».Object {
								if Î»v := Î».Eq(Ï’extract_flat, Î».NewStr("in_playlist")); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».NewBool(Î».Contains(Ï’extra_info, Î».NewStr("playlist")))
								}
							}(); Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».NewBool(Ï’extract_flat == Î».True)
							}
						}()) {
							Î».Call(Î».GetAttr(Ï’self, "__forced_printings", nil), Î».NewArgs(
								Ï’ie_result,
								Î».Cal(Î».GetAttr(Ï’self, "prepare_filename", nil), Ï’ie_result),
							), Î».KWArgs{
								{Name: "incomplete", Value: Î».True},
							})
							return Ï’ie_result
						}
					}
					if Î».IsTrue(Î».Eq(Ï’result_type, Î».NewStr("video"))) {
						Î».Cal(Î».GetAttr(Ï’self, "add_extra_info", nil), Ï’ie_result, Ï’extra_info)
						return Î».Call(Î».GetAttr(Ï’self, "process_video_result", nil), Î».NewArgs(Ï’ie_result), Î».KWArgs{
							{Name: "download", Value: Ï’download},
						})
					} else {
						if Î».IsTrue(Î».Eq(Ï’result_type, Î».NewStr("url"))) {
							return Î».Call(Î».GetAttr(Ï’self, "extract_info", nil), Î».NewArgs(
								Î».GetItem(Ï’ie_result, Î».NewStr("url")),
								Ï’download,
							), Î».KWArgs{
								{Name: "ie_key", Value: Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("ie_key"))},
								{Name: "extra_info", Value: Ï’extra_info},
							})
						} else {
							if Î».IsTrue(Î».Eq(Ï’result_type, Î».NewStr("url_transparent"))) {
								Ï’info = Î».Call(Î».GetAttr(Ï’self, "extract_info", nil), Î».NewArgs(Î».GetItem(Ï’ie_result, Î».NewStr("url"))), Î».KWArgs{
									{Name: "ie_key", Value: Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("ie_key"))},
									{Name: "extra_info", Value: Ï’extra_info},
									{Name: "download", Value: Î».False},
									{Name: "process", Value: Î».False},
								})
								if Î».IsTrue(Î».NewBool(!Î».IsTrue(Ï’info))) {
									return Ï’info
								}
								Ï’force_properties = Î».Cal(Î».DictType, Î».Cal(Î».NewFunction("<generator>",
									nil,
									0, false, false,
									func(Î»args []Î».Object) Î».Object {
										return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
											var (
												Ï’k   Î».Object
												Ï’v   Î».Object
												Ï„mp0 Î».Object
												Ï„mp1 Î».Object
												Ï„mp2 Î».Object
											)
											Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».GetAttr(Ï’ie_result, "items", nil)))
											for {
												if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
													break
												}
												Ï„mp2 = Ï„mp1
												Ï’k = Î».GetItem(Ï„mp2, Î».NewInt(0))
												Ï’v = Î».GetItem(Ï„mp2, Î».NewInt(1))
												if Î».IsTrue(Î».NewBool(Ï’v != Î».None)) {
													Î»gy.Yield(Î».NewTuple(
														Ï’k,
														Ï’v,
													))
												}
											}
											return Î».None
										})
									})))
								Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».NewTuple(
									Î».NewStr("_type"),
									Î».NewStr("url"),
									Î».NewStr("id"),
									Î».NewStr("extractor"),
									Î».NewStr("extractor_key"),
									Î».NewStr("ie_key"),
								))
								for {
									if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
										break
									}
									Ï’f = Ï„mp1
									if Î».IsTrue(Î».NewBool(Î».Contains(Ï’force_properties, Ï’f))) {
										Î».DelItem(Ï’force_properties, Ï’f)
									}
								}
								Ï’new_result = Î».Cal(Î».GetAttr(Ï’info, "copy", nil))
								Î».Cal(Î».GetAttr(Ï’new_result, "update", nil), Ï’force_properties)
								if Î».IsTrue(Î».Eq(Î».Cal(Î».GetAttr(Ï’new_result, "get", nil), Î».NewStr("_type")), Î».NewStr("url"))) {
									Î».SetItem(Ï’new_result, Î».NewStr("_type"), Î».NewStr("url_transparent"))
								}
								return Î».Call(Î».GetAttr(Ï’self, "process_ie_result", nil), Î».NewArgs(Ï’new_result), Î».KWArgs{
									{Name: "download", Value: Ï’download},
									{Name: "extra_info", Value: Ï’extra_info},
								})
							} else {
								if Î».IsTrue(Î».NewBool(Î».Contains(Î».NewTuple(
									Î».NewStr("playlist"),
									Î».NewStr("multi_video"),
								), Ï’result_type))) {
									panic(Î».Raise(Î».Cal(Î».ExceptionType, Î».NewStr("Playlists and multi video results are not supported!"))))
									Ï’playlist = func() Î».Object {
										if Î»v := Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("title")); Î».IsTrue(Î»v) {
											return Î»v
										} else {
											return Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("id"))
										}
									}()
									Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Mod(Î».NewStr("[download] Downloading playlist: %s"), Ï’playlist))
									Ï’playlist_results = Î».NewList()
									Ï’playliststart = Î».Sub(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("playliststart"), Î».NewInt(1)), Î».NewInt(1))
									Ï’playlistend = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("playlistend"))
									if Î».IsTrue(Î».Eq(Ï’playlistend, Î».Neg(Î».NewInt(1)))) {
										Ï’playlistend = Î».None
									}
									Ï’playlistitems_str = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("playlist_items"))
									Ï’playlistitems = Î».None
									if Î».IsTrue(Î».NewBool(Ï’playlistitems_str != Î».None)) {
										Ï’iter_playlistitems = Î».NewFunction("iter_playlistitems",
											[]Î».Param{
												{Name: "format"},
											},
											0, false, false,
											func(Î»args []Î».Object) Î».Object {
												return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
													var (
														Ï’end            Î».Object
														Ï’format         = Î»args[0]
														Ï’item           Î».Object
														Ï’start          Î».Object
														Ï’string_segment Î».Object
														Ï„mp0            Î».Object
														Ï„mp1            Î».Object
														Ï„mp2            Î».Object
														Ï„mp3            Î».Object
													)
													Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».GetAttr(Ï’format, "split", nil), Î».NewStr(",")))
													for {
														if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
															break
														}
														Ï’string_segment = Ï„mp1
														if Î».IsTrue(Î».NewBool(Î».Contains(Ï’string_segment, Î».NewStr("-")))) {
															Ï„mp2 = Î».Cal(Î».GetAttr(Ï’string_segment, "split", nil), Î».NewStr("-"))
															Ï’start = Î».GetItem(Ï„mp2, Î».NewInt(0))
															Ï’end = Î».GetItem(Ï„mp2, Î».NewInt(1))
															Ï„mp2 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».RangeType, Î».Cal(Î».IntType, Ï’start), Î».Add(Î».Cal(Î».IntType, Ï’end), Î».NewInt(1))))
															for {
																if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
																	break
																}
																Ï’item = Ï„mp3
																Î»gy.Yield(Î».Cal(Î».IntType, Ï’item))
															}
														} else {
															Î»gy.Yield(Î».Cal(Î».IntType, Ï’string_segment))
														}
													}
													return Î».None
												})
											})
										Ï’playlistitems = Î».Cal(Ï’orderedSet, Î».Cal(Ï’iter_playlistitems, Ï’playlistitems_str))
									}
									Ï’ie_entries = Î».GetItem(Ï’ie_result, Î».NewStr("entries"))
									Ï’make_playlistitems_entries = Î».NewFunction("make_playlistitems_entries",
										[]Î».Param{
											{Name: "list_ie_entries"},
										},
										0, false, false,
										func(Î»args []Î».Object) Î».Object {
											var (
												Ï’list_ie_entries = Î»args[0]
												Ï’num_entries     Î».Object
											)
											Ï’num_entries = Î».Cal(Î».BuiltinLen, Ï’list_ie_entries)
											return Î».Cal(Î».ListType, Î».Cal(Î».NewFunction("<generator>",
												nil,
												0, false, false,
												func(Î»args []Î».Object) Î».Object {
													return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
														var (
															Ï’i   Î».Object
															Ï„mp0 Î».Object
															Ï„mp1 Î».Object
														)
														Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’playlistitems)
														for {
															if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
																break
															}
															Ï’i = Ï„mp1
															if Î».IsTrue(func() Î».Object {
																var Î»l Î».Object = Î».Neg(Ï’num_entries)
																var Î»r Î».Object = Î».Sub(Ï’i, Î».NewInt(1))
																if !Î».IsTrue(Î».Le(Î»l, Î»r)) {
																	return Î».False
																}
																Î»l = Î»r
																Î»r = Ï’num_entries
																if !Î».IsTrue(Î».Lt(Î»l, Î»r)) {
																	return Î».False
																}
																return Î».True
															}()) {
																Î»gy.Yield(Î».GetItem(Ï’list_ie_entries, Î».Sub(Ï’i, Î».NewInt(1))))
															}
														}
														return Î».None
													})
												})))
										})
									Ï’report_download = Î».NewFunction("report_download",
										[]Î».Param{
											{Name: "num_entries"},
										},
										0, false, false,
										func(Î»args []Î».Object) Î».Object {
											var (
												Ï’num_entries = Î»args[0]
											)
											Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Mod(Î».NewStr("[%s] playlist %s: Downloading %d videos"), Î».NewTuple(
												Î».GetItem(Ï’ie_result, Î».NewStr("extractor")),
												Ï’playlist,
												Ï’num_entries,
											)))
											return Î».None
										})
									if Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’ie_entries, Î».ListType)) {
										Ï’n_all_entries = Î».Cal(Î».BuiltinLen, Ï’ie_entries)
										if Î».IsTrue(Ï’playlistitems) {
											Ï’entries = Î».Cal(Ï’make_playlistitems_entries, Ï’ie_entries)
										} else {
											Ï’entries = Î».GetItem(Ï’ie_entries, Î».NewSlice(Ï’playliststart, Ï’playlistend, Î».None))
										}
										Ï’n_entries = Î».Cal(Î».BuiltinLen, Ï’entries)
										Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Mod(Î».NewStr("[%s] playlist %s: Collected %d video ids (downloading %d of them)"), Î».NewTuple(
											Î».GetItem(Ï’ie_result, Î».NewStr("extractor")),
											Ï’playlist,
											Ï’n_all_entries,
											Ï’n_entries,
										)))
									} else {
										if Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’ie_entries, PagedList)) {
											if Î».IsTrue(Ï’playlistitems) {
												Ï’entries = Î».NewList()
												Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’playlistitems)
												for {
													if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
														break
													}
													Ï’item = Ï„mp1
													Î».Cal(Î».GetAttr(Ï’entries, "extend", nil), Î».Cal(Î».GetAttr(Ï’ie_entries, "getslice", nil), Î».Sub(Ï’item, Î».NewInt(1)), Ï’item))
												}
											} else {
												Ï’entries = Î».Cal(Î».GetAttr(Ï’ie_entries, "getslice", nil), Ï’playliststart, Ï’playlistend)
											}
											Ï’n_entries = Î».Cal(Î».BuiltinLen, Ï’entries)
											Î».Cal(Ï’report_download, Ï’n_entries)
										} else {
											if Î».IsTrue(Ï’playlistitems) {
												Ï’entries = Î».Cal(Ï’make_playlistitems_entries, Î».Cal(Î».ListType, Î».Cal(Î».None, Ï’ie_entries, Î».NewInt(0), Î».Cal(Î».BuiltinMax, Ï’playlistitems))))
											} else {
												Ï’entries = Î».Cal(Î».ListType, Î».Cal(Î».None, Ï’ie_entries, Ï’playliststart, Ï’playlistend))
											}
											Ï’n_entries = Î».Cal(Î».BuiltinLen, Ï’entries)
											Î».Cal(Ï’report_download, Ï’n_entries)
										}
									}
									if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("playlistreverse"), Î».False)) {
										Ï’entries = Î».GetItem(Ï’entries, Î».NewSlice(Î».None, Î».None, Î».Neg(Î».NewInt(1))))
									}
									if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("playlistrandom"), Î».False)) {
										Î».Cal(Î».None, Ï’entries)
									}
									Ï’x_forwarded_for = Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("__x_forwarded_for_ip"))
									Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».EnumerateIteratorType, Ï’entries, Î».NewInt(1)))
									for {
										if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
											break
										}
										Ï„mp2 = Ï„mp1
										Ï’i = Î».GetItem(Ï„mp2, Î».NewInt(0))
										Ï’entry = Î».GetItem(Ï„mp2, Î».NewInt(1))
										Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Mod(Î».NewStr("[download] Downloading video %s of %s"), Î».NewTuple(
											Ï’i,
											Ï’n_entries,
										)))
										if Î».IsTrue(Ï’x_forwarded_for) {
											Î».SetItem(Ï’entry, Î».NewStr("__x_forwarded_for_ip"), Ï’x_forwarded_for)
										}
										Ï’extra = Î».NewDictWithTable(map[Î».Object]Î».Object{
											Î».NewStr("n_entries"):            Ï’n_entries,
											Î».NewStr("playlist"):             Ï’playlist,
											Î».NewStr("playlist_id"):          Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("id")),
											Î».NewStr("playlist_title"):       Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("title")),
											Î».NewStr("playlist_uploader"):    Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("uploader")),
											Î».NewStr("playlist_uploader_id"): Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("uploader_id")),
											Î».NewStr("playlist_index"):       Î».Add(Ï’i, Ï’playliststart),
											Î».NewStr("extractor"):            Î».GetItem(Ï’ie_result, Î».NewStr("extractor")),
											Î».NewStr("webpage_url"):          Î».GetItem(Ï’ie_result, Î».NewStr("webpage_url")),
											Î».NewStr("webpage_url_basename"): Î».Cal(Ï’url_basename, Î».GetItem(Ï’ie_result, Î».NewStr("webpage_url"))),
											Î».NewStr("extractor_key"):        Î».GetItem(Ï’ie_result, Î».NewStr("extractor_key")),
										})
										Ï’reason = Î».Call(Î».GetAttr(Ï’self, "_match_entry", nil), Î».NewArgs(Ï’entry), Î».KWArgs{
											{Name: "incomplete", Value: Î».True},
										})
										if Î».IsTrue(Î».NewBool(Ï’reason != Î».None)) {
											Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Add(Î».NewStr("[download] "), Ï’reason))
											continue
										}
										Ï’entry_result = Î».Call(Î».GetAttr(Ï’self, "process_ie_result", nil), Î».NewArgs(Ï’entry), Î».KWArgs{
											{Name: "download", Value: Ï’download},
											{Name: "extra_info", Value: Ï’extra},
										})
										Î».Cal(Î».GetAttr(Ï’playlist_results, "append", nil), Ï’entry_result)
									}
									Î».SetItem(Ï’ie_result, Î».NewStr("entries"), Ï’playlist_results)
									Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Mod(Î».NewStr("[download] Finished downloading playlist: %s"), Ï’playlist))
									return Ï’ie_result
								} else {
									if Î».IsTrue(Î».Eq(Ï’result_type, Î».NewStr("compat_list"))) {
										Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("Extractor %s returned a compat_list result. It needs to be updated."), Î».Cal(Î».GetAttr(Ï’ie_result, "get", nil), Î».NewStr("extractor"))))
										Ï’_fixup = Î».NewFunction("_fixup",
											[]Î».Param{
												{Name: "r"},
											},
											0, false, false,
											func(Î»args []Î».Object) Î».Object {
												var (
													Ï’r = Î»args[0]
												)
												Î».Cal(Î».GetAttr(Ï’self, "add_extra_info", nil), Ï’r, Î».NewDictWithTable(map[Î».Object]Î».Object{
													Î».NewStr("extractor"):            Î».GetItem(Ï’ie_result, Î».NewStr("extractor")),
													Î».NewStr("webpage_url"):          Î».GetItem(Ï’ie_result, Î».NewStr("webpage_url")),
													Î».NewStr("webpage_url_basename"): Î».Cal(Ï’url_basename, Î».GetItem(Ï’ie_result, Î».NewStr("webpage_url"))),
													Î».NewStr("extractor_key"):        Î».GetItem(Ï’ie_result, Î».NewStr("extractor_key")),
												}))
												return Ï’r
											})
										Î».SetItem(Ï’ie_result, Î».NewStr("entries"), Î».Cal(Î».ListType, Î».Cal(Î».NewFunction("<generator>",
											nil,
											0, false, false,
											func(Î»args []Î».Object) Î».Object {
												return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
													var (
														Ï’r   Î».Object
														Ï„mp0 Î».Object
														Ï„mp1 Î».Object
													)
													Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».GetItem(Ï’ie_result, Î».NewStr("entries")))
													for {
														if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
															break
														}
														Ï’r = Ï„mp1
														Î»gy.Yield(Î».Cal(Î».GetAttr(Ï’self, "process_ie_result", nil), Î».Cal(Ï’_fixup, Ï’r), Ï’download, Ï’extra_info))
													}
													return Î».None
												})
											}))))
										return Ï’ie_result
									} else {
										panic(Î».Raise(Î».Cal(Î».ExceptionType, Î».Mod(Î».NewStr("Invalid result type: %s"), Ï’result_type))))
									}
								}
							}
						}
					}
					return Î».None
				})
			YoutubeDL__default_format_spec = Î».NewFunction("_default_format_spec",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
					{Name: "download", Def: Î».True},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’can_merge       Î».Object
						Ï’download        = Î»args[2]
						Ï’info_dict       = Î»args[1]
						Ï’prefer_best     Î».Object
						Ï’req_format_list Î».Object
						Ï’self            = Î»args[0]
					)
					Ï’can_merge = Î».NewFunction("can_merge",
						nil,
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’merger Î».Object
							)
							Ï’merger = Î».Cal(Î».None, Ï’self)
							return func() Î».Object {
								if Î»v := Î».GetAttr(Ï’merger, "available", nil); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Cal(Î».GetAttr(Ï’merger, "can_merge", nil))
								}
							}()
						})
					Ï’prefer_best = Î».NewFunction("prefer_best",
						nil,
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("simulate"), Î».False)) {
								return Î».False
							}
							if Î».IsTrue(Î».NewBool(!Î».IsTrue(Ï’download))) {
								return Î».False
							}
							if Î».IsTrue(Î».Eq(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("outtmpl"), DEFAULT_OUTTMPL), Î».NewStr("-"))) {
								return Î».True
							}
							if Î».IsTrue(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("is_live"))) {
								return Î».True
							}
							if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Ï’can_merge)))) {
								return Î».True
							}
							return Î».False
						})
					Ï’req_format_list = Î».NewList(
						Î».NewStr("bestvideo+bestaudio"),
						Î».NewStr("best"),
					)
					if Î».IsTrue(Î».Cal(Ï’prefer_best)) {
						Î».Cal(Î».GetAttr(Ï’req_format_list, "reverse", nil))
					}
					return Î».Cal(Î».GetAttr(Î».NewStr("/"), "join", nil), Ï’req_format_list)
				})
			YoutubeDL__calc_headers = Î».NewFunction("_calc_headers",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’add_headers        Î».Object
						Ï’cookies            Î».Object
						Ï’info_dict          = Î»args[1]
						Ï’res                Î».Object
						Ï’self               = Î»args[0]
						Ï’x_forwarded_for_ip Î».Object
					)
					Ï’res = Î».Cal(Î».GetAttr(Ï’std_headers, "copy", nil))
					Ï’add_headers = Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("http_headers"))
					if Î».IsTrue(Ï’add_headers) {
						Î».Cal(Î».GetAttr(Ï’res, "update", nil), Ï’add_headers)
					}
					Ï’cookies = Î».Cal(Î».GetAttr(Ï’self, "_calc_cookies", nil), Ï’info_dict)
					if Î».IsTrue(Ï’cookies) {
						Î».SetItem(Ï’res, Î».NewStr("Cookie"), Ï’cookies)
					}
					if Î».IsTrue(Î».NewBool(!Î».Contains(Ï’res, Î».NewStr("X-Forwarded-For")))) {
						Ï’x_forwarded_for_ip = Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("__x_forwarded_for_ip"))
						if Î».IsTrue(Ï’x_forwarded_for_ip) {
							Î».SetItem(Ï’res, Î».NewStr("X-Forwarded-For"), Ï’x_forwarded_for_ip)
						}
					}
					return Ï’res
				})
			YoutubeDL__calc_cookies = Î».NewFunction("_calc_cookies",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’info_dict = Î»args[1]
						Ï’pr        Î».Object
						Ï’self      = Î»args[0]
					)
					Ï’pr = Î».Cal(Ï’sanitized_Request, Î».GetItem(Ï’info_dict, Î».NewStr("url")))
					Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "cookiejar", nil), "add_cookie_header", nil), Ï’pr)
					return Î».Cal(Î».GetAttr(Ï’pr, "get_header", nil), Î».NewStr("Cookie"))
				})
			YoutubeDL_process_video_result = Î».NewFunction("process_video_result",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
					{Name: "download", Def: Î».True},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’ambiguous_formats       Î».Object
						Ï’automatic_captions      Î».Object
						Ï’cc                      Î».Object
						Ï’cc_kind                 Î».Object
						Ï’ctx                     Î».Object
						Ï’download                = Î»args[2]
						Ï’field                   Î».Object
						Ï’format                  Î».Object
						Ï’format_id               Î».Object
						Ï’format_selector         Î».Object
						Ï’formats                 Î».Object
						Ï’formats_dict            Î».Object
						Ï’formats_to_download     Î».Object
						Ï’full_format_info        Î».Object
						Ï’i                       Î».Object
						Ï’incomplete_formats      Î».Object
						Ï’info_dict               = Î»args[1]
						Ï’is_wellformed           Î».Object
						Ï’new_info                Î».Object
						Ï’report_force_conversion Î».Object
						Ï’req_format              Î».Object
						Ï’sanitize_numeric_fields Î».Object
						Ï’sanitize_string_field   Î».Object
						Ï’self                    = Î»args[0]
						Ï’subtitle                Î».Object
						Ï’subtitle_format         Î».Object
						Ï’subtitles               Î».Object
						Ï’t                       Î».Object
						Ï’thumbnail               Î».Object
						Ï’thumbnails              Î».Object
						Ï„mp0                     Î».Object
						Ï„mp1                     Î».Object
						Ï„mp2                     Î».Object
						Ï„mp3                     Î».Object
						Ï„mp4                     Î».Object
						Ï„mp5                     Î».Object
					)
					if !Î».IsTrue(Î».Eq(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("_type"), Î».NewStr("video")), Î».NewStr("video"))) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					if Î».IsTrue(Î».NewBool(!Î».Contains(Ï’info_dict, Î».NewStr("id")))) {
						panic(Î».Raise(Î».Cal(ExtractorError, Î».NewStr("Missing \"id\" field in extractor result"))))
					}
					if Î».IsTrue(Î».NewBool(!Î».Contains(Ï’info_dict, Î».NewStr("title")))) {
						panic(Î».Raise(Î».Cal(ExtractorError, Î».NewStr("Missing \"title\" field in extractor result"))))
					}
					Ï’report_force_conversion = Î».NewFunction("report_force_conversion",
						[]Î».Param{
							{Name: "field"},
							{Name: "field_not"},
							{Name: "conversion"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’conversion = Î»args[2]
								Ï’field      = Î»args[0]
								Ï’field_not  = Î»args[1]
							)
							Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("\"%s\" field is not %s - forcing %s conversion, there is an error in extractor"), Î».NewTuple(
								Ï’field,
								Ï’field_not,
								Ï’conversion,
							)))
							return Î».None
						})
					Ï’sanitize_string_field = Î».NewFunction("sanitize_string_field",
						[]Î».Param{
							{Name: "info"},
							{Name: "string_field"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’field        Î».Object
								Ï’info         = Î»args[0]
								Ï’string_field = Î»args[1]
							)
							Ï’field = Î».Cal(Î».GetAttr(Ï’info, "get", nil), Ï’string_field)
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».NewBool(Ï’field == Î».None); Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Cal(Î».BuiltinIsInstance, Ï’field, Ï’compat_str)
								}
							}()) {
								return Î».None
							}
							Î».Cal(Ï’report_force_conversion, Ï’string_field, Î».NewStr("a string"), Î».NewStr("string"))
							Î».SetItem(Ï’info, Ï’string_field, Î».Cal(Ï’compat_str, Ï’field))
							return Î».None
						})
					Ï’sanitize_numeric_fields = Î».NewFunction("sanitize_numeric_fields",
						[]Î».Param{
							{Name: "info"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’field         Î».Object
								Ï’info          = Î»args[0]
								Ï’numeric_field Î».Object
								Ï„mp0           Î».Object
								Ï„mp1           Î».Object
							)
							Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».GetAttr(Ï’self, "_NUMERIC_FIELDS", nil))
							for {
								if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
									break
								}
								Ï’numeric_field = Ï„mp1
								Ï’field = Î».Cal(Î».GetAttr(Ï’info, "get", nil), Ï’numeric_field)
								if Î».IsTrue(func() Î».Object {
									if Î»v := Î».NewBool(Ï’field == Î».None); Î».IsTrue(Î»v) {
										return Î»v
									} else {
										return Î».Cal(Î».BuiltinIsInstance, Ï’field, Ï’compat_numeric_types)
									}
								}()) {
									continue
								}
								Î».Cal(Ï’report_force_conversion, Ï’numeric_field, Î».NewStr("numeric"), Î».NewStr("int"))
								Î».SetItem(Ï’info, Ï’numeric_field, Î».Cal(Ï’int_or_none, Ï’field))
							}
							return Î».None
						})
					Î».Cal(Ï’sanitize_string_field, Ï’info_dict, Î».NewStr("id"))
					Î».Cal(Ï’sanitize_numeric_fields, Ï’info_dict)
					if Î».IsTrue(Î».NewBool(!Î».Contains(Ï’info_dict, Î».NewStr("playlist")))) {
						Î».SetItem(Ï’info_dict, Î».NewStr("playlist"), Î».None)
						Î».SetItem(Ï’info_dict, Î».NewStr("playlist_index"), Î».None)
					}
					Ï’thumbnails = Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("thumbnails"))
					if Î».IsTrue(Î».NewBool(Ï’thumbnails == Î».None)) {
						Ï’thumbnail = Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("thumbnail"))
						if Î».IsTrue(Ï’thumbnail) {
							Ï„mp0 = Î».NewList(Î».NewDictWithTable(map[Î».Object]Î».Object{
								Î».NewStr("url"): Ï’thumbnail,
							}))
							Î».SetItem(Ï’info_dict, Î».NewStr("thumbnails"), Ï„mp0)
							Ï’thumbnails = Ï„mp0
						}
					}
					if Î».IsTrue(Ï’thumbnails) {
						Î».Call(Î».GetAttr(Ï’thumbnails, "sort", nil), nil, Î».KWArgs{
							{Name: "key", Value: Î».NewFunction("<lambda>",
								[]Î».Param{
									{Name: "t"},
								},
								0, false, false,
								func(Î»args []Î».Object) Î».Object {
									var (
										Ï’t = Î»args[0]
									)
									return Î».NewTuple(
										func() Î».Object {
											if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("preference")) != Î».None)) {
												return Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("preference"))
											} else {
												return Î».Neg(Î».NewInt(1))
											}
										}(),
										func() Î».Object {
											if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("width")) != Î».None)) {
												return Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("width"))
											} else {
												return Î».Neg(Î».NewInt(1))
											}
										}(),
										func() Î».Object {
											if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("height")) != Î».None)) {
												return Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("height"))
											} else {
												return Î».Neg(Î».NewInt(1))
											}
										}(),
										func() Î».Object {
											if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("id")) != Î».None)) {
												return Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("id"))
											} else {
												return Î».NewStr("")
											}
										}(),
										Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("url")),
									)
								})},
						})
						Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».EnumerateIteratorType, Ï’thumbnails))
						for {
							if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
								break
							}
							Ï„mp2 = Ï„mp1
							Ï’i = Î».GetItem(Ï„mp2, Î».NewInt(0))
							Ï’t = Î».GetItem(Ï„mp2, Î».NewInt(1))
							Î».SetItem(Ï’t, Î».NewStr("url"), Î».Cal(Ï’sanitize_url, Î».GetItem(Ï’t, Î».NewStr("url"))))
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("width")); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("height"))
								}
							}()) {
								Î».SetItem(Ï’t, Î».NewStr("resolution"), Î».Mod(Î».NewStr("%dx%d"), Î».NewTuple(
									Î».GetItem(Ï’t, Î».NewStr("width")),
									Î».GetItem(Ï’t, Î».NewStr("height")),
								)))
							}
							if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’t, "get", nil), Î».NewStr("id")) == Î».None)) {
								Î».SetItem(Ï’t, Î».NewStr("id"), Î».Mod(Î».NewStr("%d"), Ï’i))
							}
						}
					}
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("list_thumbnails"))) {
						Î».Cal(Î».GetAttr(Ï’self, "list_thumbnails", nil), Ï’info_dict)
						return Î».None
					}
					Ï’thumbnail = Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("thumbnail"))
					if Î».IsTrue(Ï’thumbnail) {
						Î».SetItem(Ï’info_dict, Î».NewStr("thumbnail"), Î».Cal(Ï’sanitize_url, Ï’thumbnail))
					} else {
						if Î».IsTrue(Ï’thumbnails) {
							Î».SetItem(Ï’info_dict, Î».NewStr("thumbnail"), Î».GetItem(Î».GetItem(Ï’thumbnails, Î».Neg(Î».NewInt(1))), Î».NewStr("url")))
						}
					}
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».NewBool(!Î».Contains(Ï’info_dict, Î».NewStr("display_id"))); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(Î».Contains(Ï’info_dict, Î».NewStr("id")))
						}
					}()) {
						Î».SetItem(Ï’info_dict, Î».NewStr("display_id"), Î».GetItem(Ï’info_dict, Î».NewStr("id")))
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».NewTuple(
						Î».NewStr("chapter"),
						Î».NewStr("season"),
						Î».NewStr("episode"),
					))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’field = Ï„mp1
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».NewBool(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».Mod(Î».NewStr("%s_number"), Ï’field)) != Î».None); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Ï’field)))
							}
						}()) {
							Î».SetItem(Ï’info_dict, Ï’field, Î».Mod(Î».NewStr("%s %d"), Î».NewTuple(
								Î».Cal(Î».GetAttr(Ï’field, "capitalize", nil)),
								Î».GetItem(Ï’info_dict, Î».Mod(Î».NewStr("%s_number"), Ï’field)),
							)))
						}
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».NewTuple(
						Î».NewStr("subtitles"),
						Î».NewStr("automatic_captions"),
					))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’cc_kind = Ï„mp1
						Ï’cc = Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Ï’cc_kind)
						if Î».IsTrue(Ï’cc) {
							Ï„mp2 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».GetAttr(Ï’cc, "items", nil)))
							for {
								if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
									break
								}
								Ï„mp4 = Ï„mp3
								_ = Î».GetItem(Ï„mp4, Î».NewInt(0))
								Ï’subtitle = Î».GetItem(Ï„mp4, Î».NewInt(1))
								Ï„mp4 = Î».Cal(Î».BuiltinIter, Ï’subtitle)
								for {
									if Ï„mp5 = Î».NextDefault(Ï„mp4, Î».AfterLast); Ï„mp5 == Î».AfterLast {
										break
									}
									Ï’subtitle_format = Ï„mp5
									if Î».IsTrue(Î».Cal(Î».GetAttr(Ï’subtitle_format, "get", nil), Î».NewStr("url"))) {
										Î».SetItem(Ï’subtitle_format, Î».NewStr("url"), Î».Cal(Ï’sanitize_url, Î».GetItem(Ï’subtitle_format, Î».NewStr("url"))))
									}
									if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’subtitle_format, "get", nil), Î».NewStr("ext")) == Î».None)) {
										Î».SetItem(Ï’subtitle_format, Î».NewStr("ext"), Î».Cal(Î».GetAttr(Î».Cal(Ï’determine_ext, Î».GetItem(Ï’subtitle_format, Î».NewStr("url"))), "lower", nil)))
									}
								}
							}
						}
					}
					Ï’automatic_captions = Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("automatic_captions"))
					Ï’subtitles = Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("subtitles"))
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("listsubtitles"), Î».False)) {
						if Î».IsTrue(Î».NewBool(Î».Contains(Ï’info_dict, Î».NewStr("automatic_captions")))) {
							Î».Cal(Î».GetAttr(Ï’self, "list_subtitles", nil), Î».GetItem(Ï’info_dict, Î».NewStr("id")), Ï’automatic_captions, Î».NewStr("automatic captions"))
						}
						Î».Cal(Î».GetAttr(Ï’self, "list_subtitles", nil), Î».GetItem(Ï’info_dict, Î».NewStr("id")), Ï’subtitles, Î».NewStr("subtitles"))
						return Î».None
					}
					Î».SetItem(Ï’info_dict, Î».NewStr("requested_subtitles"), Î».Cal(Î».GetAttr(Ï’self, "process_subtitles", nil), Î».GetItem(Ï’info_dict, Î».NewStr("id")), Ï’subtitles, Ï’automatic_captions))
					if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("formats")) == Î».None)) {
						Ï’formats = Î».NewList(Ï’info_dict)
					} else {
						Ï’formats = Î».GetItem(Ï’info_dict, Î».NewStr("formats"))
					}
					if Î».IsTrue(Î».NewBool(!Î».IsTrue(Ï’formats))) {
						panic(Î».Raise(Î».Cal(ExtractorError, Î».NewStr("No video formats found!"))))
					}
					Ï’is_wellformed = Î».NewFunction("is_wellformed",
						[]Î».Param{
							{Name: "f"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’f   = Î»args[0]
								Ï’url Î».Object
							)
							Ï’url = Î».Cal(Î».GetAttr(Ï’f, "get", nil), Î».NewStr("url"))
							if Î».IsTrue(Î».NewBool(!Î».IsTrue(Ï’url))) {
								Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».NewStr("\"url\" field is missing or empty - skipping format, there is an error in extractor"))
								return Î».False
							}
							if Î».IsTrue(Î».Cal(Î».BuiltinIsInstance, Ï’url, Î».BytesType)) {
								Î».Cal(Ï’sanitize_string_field, Ï’f, Î».NewStr("url"))
							}
							return Î».True
						})
					Ï’formats = Î».Cal(Î».ListType, Î».Cal(Î».FilterIteratorType, Ï’is_wellformed, Ï’formats))
					Ï’formats_dict = Î».NewDictWithTable(map[Î».Object]Î».Object{})
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».EnumerateIteratorType, Ï’formats))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï„mp2 = Ï„mp1
						Ï’i = Î».GetItem(Ï„mp2, Î».NewInt(0))
						Ï’format = Î».GetItem(Ï„mp2, Î».NewInt(1))
						Î».Cal(Ï’sanitize_string_field, Ï’format, Î».NewStr("format_id"))
						Î».Cal(Ï’sanitize_numeric_fields, Ï’format)
						Î».SetItem(Ï’format, Î».NewStr("url"), Î».Cal(Ï’sanitize_url, Î».GetItem(Ï’format, Î».NewStr("url"))))
						if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("format_id"))))) {
							Î».SetItem(Ï’format, Î».NewStr("format_id"), Î».Cal(Ï’compat_str, Ï’i))
						} else {
							Î».SetItem(Ï’format, Î».NewStr("format_id"), Î».Cal(Î©re.Ï’sub, Î».NewStr("[\\s,/+\\[\\]()]"), Î».NewStr("_"), Î».GetItem(Ï’format, Î».NewStr("format_id"))))
						}
						Ï’format_id = Î».GetItem(Ï’format, Î».NewStr("format_id"))
						if Î».IsTrue(Î».NewBool(!Î».Contains(Ï’formats_dict, Ï’format_id))) {
							Î».SetItem(Ï’formats_dict, Ï’format_id, Î».NewList())
						}
						Î».Cal(Î».GetAttr(Î».GetItem(Ï’formats_dict, Ï’format_id), "append", nil), Ï’format)
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».GetAttr(Ï’formats_dict, "items", nil)))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï„mp2 = Ï„mp1
						Ï’format_id = Î».GetItem(Ï„mp2, Î».NewInt(0))
						Ï’ambiguous_formats = Î».GetItem(Ï„mp2, Î».NewInt(1))
						if Î».IsTrue(Î».Gt(Î».Cal(Î».BuiltinLen, Ï’ambiguous_formats), Î».NewInt(1))) {
							Ï„mp2 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».EnumerateIteratorType, Ï’ambiguous_formats))
							for {
								if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
									break
								}
								Ï„mp4 = Ï„mp3
								Ï’i = Î».GetItem(Ï„mp4, Î».NewInt(0))
								Ï’format = Î».GetItem(Ï„mp4, Î».NewInt(1))
								Î».SetItem(Ï’format, Î».NewStr("format_id"), Î».Mod(Î».NewStr("%s-%d"), Î».NewTuple(
									Ï’format_id,
									Ï’i,
								)))
							}
						}
					}
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».EnumerateIteratorType, Ï’formats))
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï„mp2 = Ï„mp1
						Ï’i = Î».GetItem(Ï„mp2, Î».NewInt(0))
						Ï’format = Î».GetItem(Ï„mp2, Î».NewInt(1))
						if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("format")) == Î».None)) {
							Î».SetItem(Ï’format, Î».NewStr("format"), Î».Call(Î».GetAttr(Î».NewStr("{id} - {res}{note}"), "format", nil), nil, Î».KWArgs{
								{Name: "id", Value: Î».GetItem(Ï’format, Î».NewStr("format_id"))},
								{Name: "res", Value: Î».Cal(Î».GetAttr(Ï’self, "format_resolution", nil), Ï’format)},
								{Name: "note", Value: func() Î».Object {
									if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("format_note")) != Î».None)) {
										return Î».Cal(Î».GetAttr(Î».NewStr(" ({0})"), "format", nil), Î».GetItem(Ï’format, Î».NewStr("format_note")))
									} else {
										return Î».NewStr("")
									}
								}()},
							}))
						}
						if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("ext")) == Î».None)) {
							Î».SetItem(Ï’format, Î».NewStr("ext"), Î».Cal(Î».GetAttr(Î».Cal(Ï’determine_ext, Î».GetItem(Ï’format, Î».NewStr("url"))), "lower", nil)))
						}
						if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("protocol")) == Î».None)) {
							Î».SetItem(Ï’format, Î».NewStr("protocol"), Î».Cal(Ï’determine_protocol, Ï’format))
						}
						Ï’full_format_info = Î».Cal(Î».GetAttr(Ï’info_dict, "copy", nil))
						Î».Cal(Î».GetAttr(Ï’full_format_info, "update", nil), Ï’format)
						Î».SetItem(Ï’format, Î».NewStr("http_headers"), Î».Cal(Î».GetAttr(Ï’self, "_calc_headers", nil), Ï’full_format_info))
					}
					if Î».IsTrue(Î».NewBool(Î».Contains(Ï’info_dict, Î».NewStr("__x_forwarded_for_ip")))) {
						Î».DelItem(Ï’info_dict, Î».NewStr("__x_forwarded_for_ip"))
					}
					if Î».IsTrue(Î».NewBool(Î».GetItem(Ï’formats, Î».NewInt(0)) != Ï’info_dict)) {
						Î».SetItem(Ï’info_dict, Î».NewStr("formats"), Ï’formats)
					}
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("listformats"))) {
						Î».Cal(Î».GetAttr(Ï’self, "list_formats", nil), Ï’info_dict)
						return Î».None
					}
					Ï’req_format = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("format"))
					if Î».IsTrue(Î».NewBool(Ï’req_format == Î».None)) {
						Ï’req_format = Î».Call(Î».GetAttr(Ï’self, "_default_format_spec", nil), Î».NewArgs(Ï’info_dict), Î».KWArgs{
							{Name: "download", Value: Ï’download},
						})
						if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("verbose"))) {
							Î».Cal(Î».GetAttr(Ï’self, "to_stdout", nil), Î».Mod(Î».NewStr("[debug] Default format spec: %s"), Ï’req_format))
						}
					}
					Ï’format_selector = Î».Cal(Î».GetAttr(Ï’self, "build_format_selector", nil), Ï’req_format)
					Ï’incomplete_formats = func() Î».Object {
						if Î»v := Î».Cal(Î».BuiltinAll, Î».Cal(Î».NewFunction("<generator>",
							nil,
							0, false, false,
							func(Î»args []Î».Object) Î».Object {
								return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
									var (
										Ï’f   Î».Object
										Ï„mp0 Î».Object
										Ï„mp1 Î».Object
									)
									Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’formats)
									for {
										if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
											break
										}
										Ï’f = Ï„mp1
										Î»gy.Yield(func() Î».Object {
											if Î»v := Î».Ne(Î».Cal(Î».GetAttr(Ï’f, "get", nil), Î».NewStr("vcodec")), Î».NewStr("none")); !Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Î».Eq(Î».Cal(Î».GetAttr(Ï’f, "get", nil), Î».NewStr("acodec")), Î».NewStr("none"))
											}
										}())
									}
									return Î».None
								})
							}))); Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Cal(Î».BuiltinAll, Î».Cal(Î».NewFunction("<generator>",
								nil,
								0, false, false,
								func(Î»args []Î».Object) Î».Object {
									return Î».NewGenerator(func(Î»gy Î».Yielder) Î».Object {
										var (
											Ï’f   Î».Object
											Ï„mp0 Î».Object
											Ï„mp1 Î».Object
										)
										Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’formats)
										for {
											if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
												break
											}
											Ï’f = Ï„mp1
											Î»gy.Yield(func() Î».Object {
												if Î»v := Î».Eq(Î».Cal(Î».GetAttr(Ï’f, "get", nil), Î».NewStr("vcodec")), Î».NewStr("none")); !Î».IsTrue(Î»v) {
													return Î»v
												} else {
													return Î».Ne(Î».Cal(Î».GetAttr(Ï’f, "get", nil), Î».NewStr("acodec")), Î».NewStr("none"))
												}
											}())
										}
										return Î».None
									})
								})))
						}
					}()
					Ï’ctx = Î».NewDictWithTable(map[Î».Object]Î».Object{
						Î».NewStr("formats"):            Ï’formats,
						Î».NewStr("incomplete_formats"): Ï’incomplete_formats,
					})
					Ï’formats_to_download = Î».Cal(Î».ListType, Î».Cal(Ï’format_selector, Ï’ctx))
					if Î».IsTrue(Î».NewBool(!Î».IsTrue(Ï’formats_to_download))) {
						panic(Î».Raise(Î».Call(ExtractorError, Î».NewArgs(Î».NewStr("requested format not available")), Î».KWArgs{
							{Name: "expected", Value: Î».True},
						})))
					}
					if Î».IsTrue(Ï’download) {
						if Î».IsTrue(Î».Gt(Î».Cal(Î».BuiltinLen, Ï’formats_to_download), Î».NewInt(1))) {
							Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Mod(Î».NewStr("[info] %s: downloading video in %s formats"), Î».NewTuple(
								Î».GetItem(Ï’info_dict, Î».NewStr("id")),
								Î».Cal(Î».BuiltinLen, Ï’formats_to_download),
							)))
						}
						Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’formats_to_download)
						for {
							if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
								break
							}
							Ï’format = Ï„mp1
							Ï’new_info = Î».Cal(Î».DictType, Ï’info_dict)
							Î».Cal(Î».GetAttr(Ï’new_info, "update", nil), Ï’format)
							Î».Cal(Î».GetAttr(Ï’self, "process_info", nil), Ï’new_info)
						}
					}
					Î».Cal(Î».GetAttr(Ï’info_dict, "update", nil), Î».GetItem(Ï’formats_to_download, Î».Neg(Î».NewInt(1))))
					return Ï’info_dict
				})
			YoutubeDL_process_subtitles = Î».NewFunction("process_subtitles",
				[]Î».Param{
					{Name: "self"},
					{Name: "video_id"},
					{Name: "normal_subtitles"},
					{Name: "automatic_captions"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’automatic_captions = Î»args[3]
						Ï’available_subs     Î».Object
						Ï’cap_info           Î».Object
						Ï’ext                Î».Object
						Ï’f                  Î».Object
						Ï’formats            Î».Object
						Ï’formats_preference Î».Object
						Ï’formats_query      Î».Object
						Ï’lang               Î».Object
						Ï’matches            Î».Object
						Ï’normal_subtitles   = Î»args[2]
						Ï’requested_langs    Î».Object
						Ï’self               = Î»args[0]
						Ï’subs               Î».Object
						Ï’video_id           = Î»args[1]
						Ï„mp0                Î».Object
						Ï„mp1                Î».Object
						Ï„mp2                Î».Object
						Ï„mp3                Î».Object
					)
					Ï’available_subs = Î».NewDictWithTable(map[Î».Object]Î».Object{})
					if Î».IsTrue(func() Î».Object {
						if Î»v := Ï’normal_subtitles; !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("writesubtitles"))
						}
					}()) {
						Î».Cal(Î».GetAttr(Ï’available_subs, "update", nil), Ï’normal_subtitles)
					}
					if Î».IsTrue(func() Î».Object {
						if Î»v := Ï’automatic_captions; !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("writeautomaticsub"))
						}
					}()) {
						Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».GetAttr(Ï’automatic_captions, "items", nil)))
						for {
							if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
								break
							}
							Ï„mp2 = Ï„mp1
							Ï’lang = Î».GetItem(Ï„mp2, Î».NewInt(0))
							Ï’cap_info = Î».GetItem(Ï„mp2, Î».NewInt(1))
							if Î».IsTrue(Î».NewBool(!Î».Contains(Ï’available_subs, Ï’lang))) {
								Î».SetItem(Ï’available_subs, Ï’lang, Ï’cap_info)
							}
						}
					}
					if Î».IsTrue(func() Î».Object {
						if Î»v := func() Î».Object {
							if Î»v := Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("writesubtitles")))); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("writeautomaticsub"))))
							}
						}(); Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(!Î».IsTrue(Ï’available_subs))
						}
					}()) {
						return Î».None
					}
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("allsubtitles"), Î».False)) {
						Ï’requested_langs = Î».Cal(Î».GetAttr(Ï’available_subs, "keys", nil))
					} else {
						if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("subtitleslangs"), Î».False)) {
							Ï’requested_langs = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("subtitleslangs"))
						} else {
							if Î».IsTrue(Î».NewBool(Î».Contains(Ï’available_subs, Î».NewStr("en")))) {
								Ï’requested_langs = Î».NewList(Î».NewStr("en"))
							} else {
								Ï’requested_langs = Î».NewList(Î».GetItem(Î».Cal(Î».ListType, Î».Cal(Î».GetAttr(Ï’available_subs, "keys", nil))), Î».NewInt(0)))
							}
						}
					}
					Ï’formats_query = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("subtitlesformat"), Î».NewStr("best"))
					Ï’formats_preference = func() Î».Object {
						if Î».IsTrue(Ï’formats_query) {
							return Î».Cal(Î».GetAttr(Ï’formats_query, "split", nil), Î».NewStr("/"))
						} else {
							return Î».NewList()
						}
					}()
					Ï’subs = Î».NewDictWithTable(map[Î».Object]Î».Object{})
					Ï„mp0 = Î».Cal(Î».BuiltinIter, Ï’requested_langs)
					for {
						if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
							break
						}
						Ï’lang = Ï„mp1
						Ï’formats = Î».Cal(Î».GetAttr(Ï’available_subs, "get", nil), Ï’lang)
						if Î».IsTrue(Î».NewBool(Ï’formats == Î».None)) {
							Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("%s subtitles not available for %s"), Î».NewTuple(
								Ï’lang,
								Ï’video_id,
							)))
							continue
						}
						Ï„mp2 = Î».Cal(Î».BuiltinIter, Ï’formats_preference)
						for {
							if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
								break
							}
							Ï’ext = Ï„mp3
							if Î».IsTrue(Î».Eq(Ï’ext, Î».NewStr("best"))) {
								Ï’f = Î».GetItem(Ï’formats, Î».Neg(Î».NewInt(1)))
								break
							}
							Ï’matches = Î».Cal(Î».ListType, Î».Cal(Î».FilterIteratorType, Î».NewFunction("<lambda>",
								[]Î».Param{
									{Name: "f"},
								},
								0, false, false,
								func(Î»args []Î».Object) Î».Object {
									var (
										Ï’f = Î»args[0]
									)
									return Î».Eq(Î».GetItem(Ï’f, Î».NewStr("ext")), Ï’ext)
								}), Ï’formats))
							if Î».IsTrue(Ï’matches) {
								Ï’f = Î».GetItem(Ï’matches, Î».Neg(Î».NewInt(1)))
								break
							}
						}
						if Ï„mp3 == Î».AfterLast {
							Ï’f = Î».GetItem(Ï’formats, Î».Neg(Î».NewInt(1)))
							Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("No subtitle format found matching \"%s\" for language %s, using %s"), Î».NewTuple(
								Ï’formats_query,
								Ï’lang,
								Î».GetItem(Ï’f, Î».NewStr("ext")),
							)))
						}
						Î».SetItem(Ï’subs, Ï’lang, Ï’f)
					}
					return Ï’subs
				})
			YoutubeDL___forced_printings = Î».NewFunction("__forced_printings",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
					{Name: "filename"},
					{Name: "incomplete"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’f               Î».Object
						Ï’filename        = Î»args[2]
						Ï’incomplete      = Î»args[3]
						Ï’info_dict       = Î»args[1]
						Ï’print_mandatory Î».Object
						Ï’print_optional  Î».Object
						Ï’self            = Î»args[0]
						Ï„mp0             Î».Object
						Ï„mp1             Î».Object
					)
					Ï’print_mandatory = Î».NewFunction("print_mandatory",
						[]Î».Param{
							{Name: "field"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’field = Î»args[0]
							)
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».Mod(Î».NewStr("force%s"), Ï’field), Î».False); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return func() Î».Object {
										if Î»v := Î».NewBool(!Î».IsTrue(Ï’incomplete)); Î».IsTrue(Î»v) {
											return Î»v
										} else {
											return Î».NewBool(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Ï’field) != Î».None)
										}
									}()
								}
							}()) {
								Î».Cal(Î».GetAttr(Ï’self, "to_stdout", nil), Î».GetItem(Ï’info_dict, Ï’field))
							}
							return Î».None
						})
					Ï’print_optional = Î».NewFunction("print_optional",
						[]Î».Param{
							{Name: "field"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’field = Î»args[0]
							)
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».Mod(Î».NewStr("force%s"), Ï’field), Î».False); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».NewBool(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Ï’field) != Î».None)
								}
							}()) {
								Î».Cal(Î».GetAttr(Ï’self, "to_stdout", nil), Î».GetItem(Ï’info_dict, Ï’field))
							}
							return Î».None
						})
					Î».Cal(Ï’print_mandatory, Î».NewStr("title"))
					Î».Cal(Ï’print_mandatory, Î».NewStr("id"))
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("forceurl"), Î».False); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(!Î».IsTrue(Ï’incomplete))
						}
					}()) {
						if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("requested_formats")) != Î».None)) {
							Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».GetItem(Ï’info_dict, Î».NewStr("requested_formats")))
							for {
								if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
									break
								}
								Ï’f = Ï„mp1
								Î».Cal(Î».GetAttr(Ï’self, "to_stdout", nil), Î».Add(Î».GetItem(Ï’f, Î».NewStr("url")), Î».Cal(Î».GetAttr(Ï’f, "get", nil), Î».NewStr("play_path"), Î».NewStr(""))))
							}
						} else {
							Î».Cal(Î».GetAttr(Ï’self, "to_stdout", nil), Î».Add(Î».GetItem(Ï’info_dict, Î».NewStr("url")), Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("play_path"), Î».NewStr(""))))
						}
					}
					Î».Cal(Ï’print_optional, Î».NewStr("thumbnail"))
					Î».Cal(Ï’print_optional, Î».NewStr("description"))
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("forcefilename"), Î».False); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(Ï’filename != Î».None)
						}
					}()) {
						Î».Cal(Î».GetAttr(Ï’self, "to_stdout", nil), Ï’filename)
					}
					if Î».IsTrue(func() Î».Object {
						if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("forceduration"), Î».False); !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».NewBool(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("duration")) != Î».None)
						}
					}()) {
						Î».Cal(Î».GetAttr(Ï’self, "to_stdout", nil), Î».Cal(Î».None, Î».GetItem(Ï’info_dict, Î».NewStr("duration"))))
					}
					Î».Cal(Ï’print_mandatory, Î».NewStr("format"))
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("forcejson"), Î».False)) {
						Î».Cal(Î».GetAttr(Ï’self, "to_stdout", nil), Î».Cal(Î©json.Ï’dumps, Ï’info_dict))
					}
					return Î».None
				})
			YoutubeDL_process_info = Î».NewFunction("process_info",
				[]Î».Param{
					{Name: "self"},
					{Name: "info_dict"},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						INSTALL_FFMPEG_MESSAGE   Î».Object
						Ï’annofile                Î».Object
						Ï’annofn                  Î».Object
						Ï’compatible_formats      Î».Object
						Ï’descfile                Î».Object
						Ï’descfn                  Î».Object
						Ï’dl                      Î».Object
						Ï’downloaded              Î».Object
						Ï’ensure_dir_exists       Î».Object
						Ï’f                       Î».Object
						Ï’filename                Î».Object
						Ï’filename_real_ext       Î».Object
						Ï’filename_wo_ext         Î».Object
						Ï’fixup_policy            Î».Object
						Ï’fixup_pp                Î».Object
						Ï’fname                   Î».Object
						Ï’ie                      Î».Object
						Ï’info_dict               = Î»args[1]
						Ï’infofn                  Î».Object
						Ï’max_downloads           Î».Object
						Ï’merger                  Î».Object
						Ï’new_info                Î».Object
						Ï’partial_success         Î».Object
						Ï’postprocessors          Î».Object
						Ï’reason                  Î».Object
						Ï’requested_formats       Î».Object
						Ï’self                    = Î»args[0]
						Ï’stretched_pp            Î».Object
						Ï’stretched_ratio         Î».Object
						Ï’sub_data                Î».Object
						Ï’sub_filename            Î».Object
						Ï’sub_format              Î».Object
						Ï’sub_info                Î».Object
						Ï’sub_lang                Î».Object
						Ï’subfile                 Î».Object
						Ï’subtitles               Î».Object
						Ï’subtitles_are_requested Î».Object
						Ï’success                 Î».Object
						Ï„mp0                     Î».Object
						Ï„mp1                     Î».Object
						Ï„mp2                     Î».Object
						Ï„mp3                     Î».Object
						Ï„mp4                     Î».Object
						Ï„mp5                     Î».Object
						Ï„mp6                     Î».Object
						Ï„mp7                     Î».Object
					)
					_ = Ï„mp6
					_ = Ï„mp7
					if !Î».IsTrue(Î».Eq(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("_type"), Î».NewStr("video")), Î».NewStr("video"))) {
						panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
					}
					Ï’max_downloads = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("max_downloads"))
					if Î».IsTrue(Î».NewBool(Ï’max_downloads != Î».None)) {
						if Î».IsTrue(Î».Ge(Î».GetAttr(Ï’self, "_num_downloads", nil), Î».Cal(Î».IntType, Ï’max_downloads))) {
							panic(Î».Raise(Î».Cal(MaxDownloadsReached)))
						}
					}
					Î».SetItem(Ï’info_dict, Î».NewStr("fulltitle"), Î».GetItem(Ï’info_dict, Î».NewStr("title")))
					if Î».IsTrue(Î».NewBool(!Î».Contains(Ï’info_dict, Î».NewStr("format")))) {
						Î».SetItem(Ï’info_dict, Î».NewStr("format"), Î».GetItem(Ï’info_dict, Î».NewStr("ext")))
					}
					Ï’reason = Î».Call(Î».GetAttr(Ï’self, "_match_entry", nil), Î».NewArgs(Ï’info_dict), Î».KWArgs{
						{Name: "incomplete", Value: Î».False},
					})
					if Î».IsTrue(Î».NewBool(Ï’reason != Î».None)) {
						Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Add(Î».NewStr("[download] "), Ï’reason))
						return Î».None
					}
					Ï„mp0 = Î».IAdd(Î».GetAttr(Ï’self, "_num_downloads", nil), Î».NewInt(1))
					Î».SetAttr(Ï’self, "_num_downloads", Ï„mp0)
					Ï„mp0 = Î».Cal(Î».GetAttr(Ï’self, "prepare_filename", nil), Ï’info_dict)
					Î».SetItem(Ï’info_dict, Î».NewStr("_filename"), Ï„mp0)
					Ï’filename = Ï„mp0
					Î».Call(Î».GetAttr(Ï’self, "__forced_printings", nil), Î».NewArgs(
						Ï’info_dict,
						Ï’filename,
					), Î».KWArgs{
						{Name: "incomplete", Value: Î».False},
					})
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("simulate"), Î».False)) {
						return Î».None
					}
					if Î».IsTrue(Î».NewBool(Ï’filename == Î».None)) {
						return Î».None
					}
					Ï’ensure_dir_exists = Î».NewFunction("ensure_dir_exists",
						[]Î».Param{
							{Name: "path"},
						},
						0, false, false,
						func(Î»args []Î».Object) Î».Object {
							var (
								Ï’dn   Î».Object
								Ï’path = Î»args[0]
								Ï„mp0  Î».Object
								Ï„mp1  Î».Object
							)
							Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
								defer Î».CatchMulti(
									nil,
									&Î».Catcher{Î».NewTuple(
										Î».OSErrorType,
										Î».OSErrorType,
									), func(Î»ex Î».BaseException) {
										var Ï’err Î».Object = Î»ex
										Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Add(Î».NewStr("unable to create directory "), Î».Cal(Ï’error_to_compat_str, Ï’err)))
										Î»exit, Î»ret = Î».BlockExitReturn, Î».False
										return
									}},
								)
								Ï’dn = Î».Cal(Î».None, Ï’path)
								if Î».IsTrue(func() Î».Object {
									if Î»v := Ï’dn; !Î».IsTrue(Î»v) {
										return Î»v
									} else {
										return Î».NewBool(!Î».IsTrue(Î».Cal(Î».None, Ï’dn)))
									}
								}()) {
									Î».Cal(Î».None, Ï’dn)
								}
								Î»exit, Î»ret = Î».BlockExitReturn, Î».True
								return
								return Î».BlockExitNormally, nil
							}()
							if Ï„mp0 == Î».BlockExitReturn {
								return Ï„mp1
							}
							return Î».None
						})
					if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Ï’ensure_dir_exists, Î».Cal(Ï’sanitize_path, Î».Cal(Î».None, Ï’filename)))))) {
						return Î».None
					}
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("writedescription"), Î».False)) {
						Ï’descfn = Î».Cal(Î».None, Ï’filename, Î».NewStr("description"), Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("ext")))
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("nooverwrites"), Î».False); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Cal(Î».None, Î».Cal(Î».None, Ï’descfn))
							}
						}()) {
							Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».NewStr("[info] Video description is already present"))
						} else {
							if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("description")) == Î».None)) {
								Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».NewStr("There's no description to write."))
							} else {
								Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
									defer Î».CatchMulti(
										nil,
										&Î».Catcher{Î».NewTuple(
											Î».OSErrorType,
											Î».OSErrorType,
										), func(Î»ex Î».BaseException) {
											Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Add(Î».NewStr("Cannot write description file "), Ï’descfn))
											Î»exit, Î»ret = Î».BlockExitReturn, Î».None
											return
										}},
									)
									Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Add(Î».NewStr("[info] Writing video description to: "), Ï’descfn))
									Ï„mp2 = Î».Call(Î».None, Î».NewArgs(
										Î».Cal(Î».None, Ï’descfn),
										Î».NewStr("w"),
									), Î».KWArgs{
										{Name: "encoding", Value: Î».NewStr("utf-8")},
									})
									Ï„mp3 = Î».GetAttr(Ï„mp2, "__exit__", nil)
									Ï’descfile = Î».Cal(Î».GetAttr(Ï„mp2, "__enter__", nil))
									Ï„mp4, Ï„mp5 = func() (Î»exit Î».Object, Î»ret Î».Object) {
										defer Î».Catch(Î».BaseExceptionType, func(Î»ex Î».BaseException) {
											if ret := Î».Cal(Ï„mp3, Î»ex.Type(), Î»ex, Î».NewStr("..todo..traceback..")); Î».IsTrue(ret) {
												panic(Î».Raise(Î»ex))
											}
										}, func() {
											Î».Cal(Ï„mp3, Î».None, Î».None, Î».None)
										})
										Î».Cal(Î».GetAttr(Ï’descfile, "write", nil), Î».GetItem(Ï’info_dict, Î».NewStr("description")))
										return Î».BlockExitNormally, nil
									}()
									return Î».BlockExitNormally, nil
								}()
								if Ï„mp0 == Î».BlockExitReturn {
									return Ï„mp1
								}
							}
						}
					}
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("writeannotations"), Î».False)) {
						Ï’annofn = Î».Cal(Î».None, Ï’filename, Î».NewStr("annotations.xml"), Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("ext")))
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("nooverwrites"), Î».False); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Cal(Î».None, Î».Cal(Î».None, Ï’annofn))
							}
						}()) {
							Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».NewStr("[info] Video annotations are already present"))
						} else {
							if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("annotations"))))) {
								Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».NewStr("There are no annotations to write."))
							} else {
								Ï„mp1, Ï„mp0 = func() (Î»exit Î».Object, Î»ret Î».Object) {
									defer Î».CatchMulti(
										nil,
										&Î».Catcher{Î».NewTuple(
											Î».KeyErrorType,
											Î».TypeErrorType,
										), func(Î»ex Î».BaseException) {
											Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».NewStr("There are no annotations to write."))
										}},
										&Î».Catcher{Î».NewTuple(
											Î».OSErrorType,
											Î».OSErrorType,
										), func(Î»ex Î».BaseException) {
											Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Add(Î».NewStr("Cannot write annotations file: "), Ï’annofn))
											Î»exit, Î»ret = Î».BlockExitReturn, Î».None
											return
										}},
									)
									Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Add(Î».NewStr("[info] Writing video annotations to: "), Ï’annofn))
									Ï„mp3 = Î».Call(Î».None, Î».NewArgs(
										Î».Cal(Î».None, Ï’annofn),
										Î».NewStr("w"),
									), Î».KWArgs{
										{Name: "encoding", Value: Î».NewStr("utf-8")},
									})
									Ï„mp2 = Î».GetAttr(Ï„mp3, "__exit__", nil)
									Ï’annofile = Î».Cal(Î».GetAttr(Ï„mp3, "__enter__", nil))
									Ï„mp5, Ï„mp4 = func() (Î»exit Î».Object, Î»ret Î».Object) {
										defer Î».Catch(Î».BaseExceptionType, func(Î»ex Î».BaseException) {
											if ret := Î».Cal(Ï„mp2, Î»ex.Type(), Î»ex, Î».NewStr("..todo..traceback..")); Î».IsTrue(ret) {
												panic(Î».Raise(Î»ex))
											}
										}, func() {
											Î».Cal(Ï„mp2, Î».None, Î».None, Î».None)
										})
										Î».Cal(Î».GetAttr(Ï’annofile, "write", nil), Î».GetItem(Ï’info_dict, Î».NewStr("annotations")))
										return Î».BlockExitNormally, nil
									}()
									return Î».BlockExitNormally, nil
								}()
								if Ï„mp1 == Î».BlockExitReturn {
									return Ï„mp0
								}
							}
						}
					}
					Ï’subtitles_are_requested = Î».Cal(Î».BuiltinAny, Î».NewList(
						Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("writesubtitles"), Î».False),
						Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("writeautomaticsub")),
					))
					if Î».IsTrue(func() Î».Object {
						if Î»v := Ï’subtitles_are_requested; !Î».IsTrue(Î»v) {
							return Î»v
						} else {
							return Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("requested_subtitles"))
						}
					}()) {
						Ï’subtitles = Î».GetItem(Ï’info_dict, Î».NewStr("requested_subtitles"))
						Ï’ie = Î».Cal(Î».GetAttr(Ï’self, "get_info_extractor", nil), Î».GetItem(Ï’info_dict, Î».NewStr("extractor_key")))
						Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».Cal(Î».GetAttr(Ï’subtitles, "items", nil)))
						for {
							if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
								break
							}
							Ï„mp2 = Ï„mp1
							Ï’sub_lang = Î».GetItem(Ï„mp2, Î».NewInt(0))
							Ï’sub_info = Î».GetItem(Ï„mp2, Î».NewInt(1))
							Ï’sub_format = Î».GetItem(Ï’sub_info, Î».NewStr("ext"))
							Ï’sub_filename = Î».Cal(Î».None, Ï’filename, Ï’sub_lang, Ï’sub_format, Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("ext")))
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("nooverwrites"), Î».False); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Cal(Î».None, Î».Cal(Î».None, Ï’sub_filename))
								}
							}()) {
								Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Mod(Î».NewStr("[info] Video subtitle %s.%s is already present"), Î».NewTuple(
									Ï’sub_lang,
									Ï’sub_format,
								)))
							} else {
								Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Add(Î».NewStr("[info] Writing video subtitles to: "), Ï’sub_filename))
								if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’sub_info, "get", nil), Î».NewStr("data")) != Î».None)) {
									Ï„mp2, Ï„mp3 = func() (Î»exit Î».Object, Î»ret Î».Object) {
										defer Î».CatchMulti(
											nil,
											&Î».Catcher{Î».NewTuple(
												Î».OSErrorType,
												Î».OSErrorType,
											), func(Î»ex Î».BaseException) {
												Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Add(Î».NewStr("Cannot write subtitles file "), Ï’sub_filename))
												Î»exit, Î»ret = Î».BlockExitReturn, Î».None
												return
											}},
										)
										Ï„mp4 = Î».Call(Î».None, Î».NewArgs(
											Î».Cal(Î».None, Ï’sub_filename),
											Î».NewStr("w"),
										), Î».KWArgs{
											{Name: "encoding", Value: Î».NewStr("utf-8")},
											{Name: "newline", Value: Î».NewStr("")},
										})
										Ï„mp5 = Î».GetAttr(Ï„mp4, "__exit__", nil)
										Ï’subfile = Î».Cal(Î».GetAttr(Ï„mp4, "__enter__", nil))
										Ï„mp6, Ï„mp7 = func() (Î»exit Î».Object, Î»ret Î».Object) {
											defer Î».Catch(Î».BaseExceptionType, func(Î»ex Î».BaseException) {
												if ret := Î».Cal(Ï„mp5, Î»ex.Type(), Î»ex, Î».NewStr("..todo..traceback..")); Î».IsTrue(ret) {
													panic(Î».Raise(Î»ex))
												}
											}, func() {
												Î».Cal(Ï„mp5, Î».None, Î».None, Î».None)
											})
											Î».Cal(Î».GetAttr(Ï’subfile, "write", nil), Î».GetItem(Ï’sub_info, Î».NewStr("data")))
											return Î».BlockExitNormally, nil
										}()
										return Î».BlockExitNormally, nil
									}()
									if Ï„mp2 == Î».BlockExitReturn {
										return Ï„mp3
									}
								} else {
									Ï„mp3, Ï„mp2 = func() (Î»exit Î».Object, Î»ret Î».Object) {
										defer Î».CatchMulti(
											nil,
											&Î».Catcher{Î».NewTuple(
												ExtractorError,
												Î».OSErrorType,
												Î».OSErrorType,
												Î».ValueErrorType,
											), func(Î»ex Î».BaseException) {
												var Ï’err Î».Object = Î»ex
												Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("Unable to download subtitle for \"%s\": %s"), Î».NewTuple(
													Ï’sub_lang,
													Î».Cal(Ï’error_to_compat_str, Ï’err),
												)))
												Î»exit = Î».BlockExitContinue
												return
											}},
										)
										Ï’sub_data = Î».Cal(Î».GetAttr(Î».Call(Î».GetAttr(Ï’ie, "_request_webpage", nil), Î».NewArgs(
											Î».GetItem(Ï’sub_info, Î».NewStr("url")),
											Î».GetItem(Ï’info_dict, Î».NewStr("id")),
										), Î».KWArgs{
											{Name: "note", Value: Î».False},
										}), "read", nil))
										Ï„mp5 = Î».Cal(Î».None, Î».Cal(Î».None, Ï’sub_filename), Î».NewStr("wb"))
										Ï„mp4 = Î».GetAttr(Ï„mp5, "__exit__", nil)
										Ï’subfile = Î».Cal(Î».GetAttr(Ï„mp5, "__enter__", nil))
										Ï„mp7, Ï„mp6 = func() (Î»exit Î».Object, Î»ret Î».Object) {
											defer Î».Catch(Î».BaseExceptionType, func(Î»ex Î».BaseException) {
												if ret := Î».Cal(Ï„mp4, Î»ex.Type(), Î»ex, Î».NewStr("..todo..traceback..")); Î».IsTrue(ret) {
													panic(Î».Raise(Î»ex))
												}
											}, func() {
												Î».Cal(Ï„mp4, Î».None, Î».None, Î».None)
											})
											Î».Cal(Î».GetAttr(Ï’subfile, "write", nil), Ï’sub_data)
											return Î».BlockExitNormally, nil
										}()
										return Î».BlockExitNormally, nil
									}()
									if Ï„mp3 == Î».BlockExitContinue {
										continue
									}
								}
							}
						}
					}
					if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("writeinfojson"), Î».False)) {
						Ï’infofn = Î».Cal(Î».None, Ï’filename, Î».NewStr("info.json"), Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("ext")))
						if Î».IsTrue(func() Î».Object {
							if Î»v := Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("nooverwrites"), Î».False); !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Cal(Î».None, Î».Cal(Î».None, Ï’infofn))
							}
						}()) {
							Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».NewStr("[info] Video description metadata is already present"))
						} else {
							Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Add(Î».NewStr("[info] Writing video description metadata as JSON to: "), Ï’infofn))
							Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
								defer Î».CatchMulti(
									nil,
									&Î».Catcher{Î».NewTuple(
										Î».OSErrorType,
										Î».OSErrorType,
									), func(Î»ex Î».BaseException) {
										Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Add(Î».NewStr("Cannot write metadata to JSON file "), Ï’infofn))
										Î»exit, Î»ret = Î».BlockExitReturn, Î».None
										return
									}},
								)
								Î».Cal(Î».None, Î».Cal(Î».GetAttr(Ï’self, "filter_requested_info", nil), Ï’info_dict), Ï’infofn)
								return Î».BlockExitNormally, nil
							}()
							if Ï„mp0 == Î».BlockExitReturn {
								return Ï„mp1
							}
						}
					}
					Î».Cal(Î».GetAttr(Ï’self, "_write_thumbnails", nil), Ï’info_dict, Ï’filename)
					if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("skip_download"), Î».False)))) {
						Ï„mp1, Ï„mp0 = func() (Î»exit Î».Object, Î»ret Î».Object) {
							defer Î».CatchMulti(
								nil,
								&Î».Catcher{Î».NewTuple(
									Î©error.URLError,
									Î».GetAttr(Ï’compat_http_client, "HTTPException", nil),
									Î©socket.Ï’error,
								), func(Î»ex Î».BaseException) {
									var Ï’err Î».Object = Î»ex
									Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Mod(Î».NewStr("unable to download video data: %s"), Î».Cal(Ï’error_to_compat_str, Ï’err)))
									Î»exit, Î»ret = Î».BlockExitReturn, Î».None
									return
								}},
								&Î».Catcher{Î».NewTuple(
									Î».OSErrorType,
									Î».OSErrorType,
								), func(Î»ex Î».BaseException) {
									var Ï’err Î».Object = Î»ex
									panic(Î».Raise(Î».Cal(UnavailableVideoError, Ï’err)))
								}},
								&Î».Catcher{Î».NewTuple(Î».None), func(Î»ex Î».BaseException) {
									var Ï’err Î».Object = Î»ex
									Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Mod(Î».NewStr("content too short (expected %s bytes and served %s)"), Î».NewTuple(
										Î».GetAttr(Ï’err, "expected", nil),
										Î».GetAttr(Ï’err, "downloaded", nil),
									)))
									Î»exit, Î»ret = Î».BlockExitReturn, Î».None
									return
								}},
							)
							Ï’dl = Î».NewFunction("dl",
								[]Î».Param{
									{Name: "name"},
									{Name: "info"},
								},
								0, false, false,
								func(Î»args []Î».Object) Î».Object {
									var (
										Ï’fd   Î».Object
										Ï’info = Î»args[1]
										Ï’name = Î»args[0]
										Ï’ph   Î».Object
										Ï„mp0  Î».Object
										Ï„mp1  Î».Object
									)
									Ï’fd = Î».Cal(Î».Cal(Î».None, Ï’info, Î».GetAttr(Ï’self, "params", nil)), Ï’self, Î».GetAttr(Ï’self, "params", nil))
									Ï„mp0 = Î».Cal(Î».BuiltinIter, Î».GetAttr(Ï’self, "_progress_hooks", nil))
									for {
										if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
											break
										}
										Ï’ph = Ï„mp1
										Î».Cal(Î».GetAttr(Ï’fd, "add_progress_hook", nil), Ï’ph)
									}
									if Î».IsTrue(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("verbose"))) {
										Î».Cal(Î».GetAttr(Ï’self, "to_stdout", nil), Î».Mod(Î».NewStr("[debug] Invoking downloader on %r"), Î».Cal(Î».GetAttr(Ï’info, "get", nil), Î».NewStr("url"))))
									}
									return Î».Cal(Î».GetAttr(Ï’fd, "download", nil), Ï’name, Ï’info)
								})
							if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("requested_formats")) != Î».None)) {
								Ï’downloaded = Î».NewList()
								Ï’success = Î».True
								Ï’merger = Î».Cal(Î».None, Ï’self)
								if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».GetAttr(Ï’merger, "available", nil)))) {
									Ï’postprocessors = Î».NewList()
									Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».NewStr("You have requested multiple formats but ffmpeg or avconv are not installed. The formats won't be merged."))
								} else {
									Ï’postprocessors = Î».NewList(Ï’merger)
								}
								Ï’compatible_formats = Î».NewFunction("compatible_formats",
									[]Î».Param{
										{Name: "formats"},
									},
									0, false, false,
									func(Î»args []Î».Object) Î».Object {
										var (
											COMPATIBLE_EXTS Î».Object
											Ï’audio          Î».Object
											Ï’audio_ext      Î».Object
											Ï’exts           Î».Object
											Ï’formats        = Î»args[0]
											Ï’video          Î».Object
											Ï’video_ext      Î».Object
											Ï„mp0            Î».Object
											Ï„mp1            Î».Object
										)
										Ï„mp0 = Ï’formats
										Ï’video = Î».GetItem(Ï„mp0, Î».NewInt(0))
										Ï’audio = Î».GetItem(Ï„mp0, Î».NewInt(1))
										Ï„mp0 = Î».NewTuple(
											Î».Cal(Î».GetAttr(Ï’video, "get", nil), Î».NewStr("ext")),
											Î».Cal(Î».GetAttr(Ï’audio, "get", nil), Î».NewStr("ext")),
										)
										Ï’video_ext = Î».GetItem(Ï„mp0, Î».NewInt(0))
										Ï’audio_ext = Î».GetItem(Ï„mp0, Î».NewInt(1))
										if Î».IsTrue(func() Î».Object {
											if Î»v := Ï’video_ext; !Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Ï’audio_ext
											}
										}()) {
											COMPATIBLE_EXTS = Î».NewTuple(
												Î».NewTuple(
													Î».NewStr("mp3"),
													Î».NewStr("mp4"),
													Î».NewStr("m4a"),
													Î».NewStr("m4p"),
													Î».NewStr("m4b"),
													Î».NewStr("m4r"),
													Î».NewStr("m4v"),
													Î».NewStr("ismv"),
													Î».NewStr("isma"),
												),
												Î».NewStr("webm"),
											)
											Ï„mp0 = Î».Cal(Î».BuiltinIter, COMPATIBLE_EXTS)
											for {
												if Ï„mp1 = Î».NextDefault(Ï„mp0, Î».AfterLast); Ï„mp1 == Î».AfterLast {
													break
												}
												Ï’exts = Ï„mp1
												if Î».IsTrue(func() Î».Object {
													if Î»v := Î».NewBool(Î».Contains(Ï’exts, Ï’video_ext)); !Î».IsTrue(Î»v) {
														return Î»v
													} else {
														return Î».NewBool(Î».Contains(Ï’exts, Ï’audio_ext))
													}
												}()) {
													return Î».True
												}
											}
										}
										return Î».False
									})
								Ï’filename_real_ext = Î».GetItem(Î».GetItem(Î».Cal(Î».None, Ï’filename), Î».NewInt(1)), Î».NewSlice(Î».NewInt(1), Î».None, Î».None))
								Ï’filename_wo_ext = func() Î».Object {
									if Î».IsTrue(Î».Eq(Ï’filename_real_ext, Î».GetItem(Ï’info_dict, Î».NewStr("ext")))) {
										return Î».GetItem(Î».Cal(Î».None, Ï’filename), Î».NewInt(0))
									} else {
										return Ï’filename
									}
								}()
								Ï’requested_formats = Î».GetItem(Ï’info_dict, Î».NewStr("requested_formats"))
								if Î».IsTrue(func() Î».Object {
									if Î»v := Î».NewBool(Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("merge_output_format")) == Î».None); !Î».IsTrue(Î»v) {
										return Î»v
									} else {
										return Î».NewBool(!Î».IsTrue(Î».Cal(Ï’compatible_formats, Ï’requested_formats)))
									}
								}()) {
									Î».SetItem(Ï’info_dict, Î».NewStr("ext"), Î».NewStr("mkv"))
									Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».NewStr("Requested formats are incompatible for merge and will be merged into mkv."))
								}
								Ï’filename = Î».Mod(Î».NewStr("%s.%s"), Î».NewTuple(
									Ï’filename_wo_ext,
									Î».GetItem(Ï’info_dict, Î».NewStr("ext")),
								))
								if Î».IsTrue(Î».Cal(Î».None, Î».Cal(Î».None, Ï’filename))) {
									Î».Cal(Î».GetAttr(Ï’self, "to_screen", nil), Î».Mod(Î».NewStr("[download] %s has already been downloaded and merged"), Ï’filename))
								} else {
									Ï„mp2 = Î».Cal(Î».BuiltinIter, Ï’requested_formats)
									for {
										if Ï„mp3 = Î».NextDefault(Ï„mp2, Î».AfterLast); Ï„mp3 == Î».AfterLast {
											break
										}
										Ï’f = Ï„mp3
										Ï’new_info = Î».Cal(Î».DictType, Ï’info_dict)
										Î».Cal(Î».GetAttr(Ï’new_info, "update", nil), Ï’f)
										Ï’fname = Î».Cal(Î».None, Î».Cal(Î».GetAttr(Ï’self, "prepare_filename", nil), Ï’new_info), Î».Mod(Î».NewStr("f%s"), Î».GetItem(Ï’f, Î».NewStr("format_id"))), Î».GetItem(Ï’new_info, Î».NewStr("ext")))
										if Î».IsTrue(Î».NewBool(!Î».IsTrue(Î».Cal(Ï’ensure_dir_exists, Ï’fname)))) {
											Î»exit, Î»ret = Î».BlockExitReturn, Î».None
											return
										}
										Î».Cal(Î».GetAttr(Ï’downloaded, "append", nil), Ï’fname)
										Ï’partial_success = Î».Cal(Ï’dl, Ï’fname, Ï’new_info)
										Ï’success = func() Î».Object {
											if Î»v := Ï’success; !Î».IsTrue(Î»v) {
												return Î»v
											} else {
												return Ï’partial_success
											}
										}()
									}
									Î».SetItem(Ï’info_dict, Î».NewStr("__postprocessors"), Ï’postprocessors)
									Î».SetItem(Ï’info_dict, Î».NewStr("__files_to_merge"), Ï’downloaded)
								}
							} else {
								Ï’success = Î».Cal(Ï’dl, Ï’filename, Ï’info_dict)
							}
							return Î».BlockExitNormally, nil
						}()
						if Ï„mp1 == Î».BlockExitReturn {
							return Ï„mp0
						}
						if Î».IsTrue(func() Î».Object {
							if Î»v := Ï’success; !Î».IsTrue(Î»v) {
								return Î»v
							} else {
								return Î».Ne(Ï’filename, Î».NewStr("-"))
							}
						}()) {
							Ï’fixup_policy = Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("fixup"))
							if Î».IsTrue(Î».NewBool(Ï’fixup_policy == Î».None)) {
								Ï’fixup_policy = Î».NewStr("detect_or_warn")
							}
							INSTALL_FFMPEG_MESSAGE = Î».NewStr("Install ffmpeg or avconv to fix this automatically.")
							Ï’stretched_ratio = Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("stretched_ratio"))
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».NewBool(Ï’stretched_ratio != Î».None); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Ne(Ï’stretched_ratio, Î».NewInt(1))
								}
							}()) {
								if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».NewStr("warn"))) {
									Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("%s: Non-uniform pixel ratio (%s)"), Î».NewTuple(
										Î».GetItem(Ï’info_dict, Î».NewStr("id")),
										Ï’stretched_ratio,
									)))
								} else {
									if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».NewStr("detect_or_warn"))) {
										Ï’stretched_pp = Î».Cal(Î».None, Ï’self)
										if Î».IsTrue(Î».GetAttr(Ï’stretched_pp, "available", nil)) {
											Î».Cal(Î».GetAttr(Ï’info_dict, "setdefault", nil), Î».NewStr("__postprocessors"), Î».NewList())
											Î».Cal(Î».GetAttr(Î».GetItem(Ï’info_dict, Î».NewStr("__postprocessors")), "append", nil), Ï’stretched_pp)
										} else {
											Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("%s: Non-uniform pixel ratio (%s). %s"), Î».NewTuple(
												Î».GetItem(Ï’info_dict, Î».NewStr("id")),
												Ï’stretched_ratio,
												INSTALL_FFMPEG_MESSAGE,
											)))
										}
									} else {
										if !Î».IsTrue(Î».NewBool(Î».Contains(Î».NewTuple(
											Î».NewStr("ignore"),
											Î».NewStr("never"),
										), Ï’fixup_policy))) {
											panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
										}
									}
								}
							}
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».NewBool(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("requested_formats")) == Î».None); !Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return Î».Eq(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("container")), Î».NewStr("m4a_dash"))
								}
							}()) {
								if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».NewStr("warn"))) {
									Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("%s: writing DASH m4a. Only some players support this container."), Î».GetItem(Ï’info_dict, Î».NewStr("id"))))
								} else {
									if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».NewStr("detect_or_warn"))) {
										Ï’fixup_pp = Î».Cal(Î».None, Ï’self)
										if Î».IsTrue(Î».GetAttr(Ï’fixup_pp, "available", nil)) {
											Î».Cal(Î».GetAttr(Ï’info_dict, "setdefault", nil), Î».NewStr("__postprocessors"), Î».NewList())
											Î».Cal(Î».GetAttr(Î».GetItem(Ï’info_dict, Î».NewStr("__postprocessors")), "append", nil), Ï’fixup_pp)
										} else {
											Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("%s: writing DASH m4a. Only some players support this container. %s"), Î».NewTuple(
												Î».GetItem(Ï’info_dict, Î».NewStr("id")),
												INSTALL_FFMPEG_MESSAGE,
											)))
										}
									} else {
										if !Î».IsTrue(Î».NewBool(Î».Contains(Î».NewTuple(
											Î».NewStr("ignore"),
											Î».NewStr("never"),
										), Ï’fixup_policy))) {
											panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
										}
									}
								}
							}
							if Î».IsTrue(func() Î».Object {
								if Î»v := Î».Eq(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("protocol")), Î».NewStr("m3u8_native")); Î».IsTrue(Î»v) {
									return Î»v
								} else {
									return func() Î».Object {
										if Î»v := Î».Eq(Î».Cal(Î».GetAttr(Ï’info_dict, "get", nil), Î».NewStr("protocol")), Î».NewStr("m3u8")); !Î».IsTrue(Î»v) {
											return Î»v
										} else {
											return Î».Cal(Î».GetAttr(Î».GetAttr(Ï’self, "params", nil), "get", nil), Î».NewStr("hls_prefer_native"))
										}
									}()
								}
							}()) {
								if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».NewStr("warn"))) {
									Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("%s: malformed AAC bitstream detected."), Î».GetItem(Ï’info_dict, Î».NewStr("id"))))
								} else {
									if Î».IsTrue(Î».Eq(Ï’fixup_policy, Î».NewStr("detect_or_warn"))) {
										Ï’fixup_pp = Î».Cal(Î».None, Ï’self)
										if Î».IsTrue(Î».GetAttr(Ï’fixup_pp, "available", nil)) {
											Î».Cal(Î».GetAttr(Ï’info_dict, "setdefault", nil), Î».NewStr("__postprocessors"), Î».NewList())
											Î».Cal(Î».GetAttr(Î».GetItem(Ï’info_dict, Î».NewStr("__postprocessors")), "append", nil), Ï’fixup_pp)
										} else {
											Î».Cal(Î».GetAttr(Ï’self, "report_warning", nil), Î».Mod(Î».NewStr("%s: malformed AAC bitstream detected. %s"), Î».NewTuple(
												Î».GetItem(Ï’info_dict, Î».NewStr("id")),
												INSTALL_FFMPEG_MESSAGE,
											)))
										}
									} else {
										if !Î».IsTrue(Î».NewBool(Î».Contains(Î».NewTuple(
											Î».NewStr("ignore"),
											Î».NewStr("never"),
										), Ï’fixup_policy))) {
											panic(Î».Raise(Î».Cal(Î».AssertionErrorType)))
										}
									}
								}
							}
							Ï„mp0, Ï„mp1 = func() (Î»exit Î».Object, Î»ret Î».Object) {
								defer Î».CatchMulti(
									nil,
									&Î».Catcher{PostProcessingError, func(Î»ex Î».BaseException) {
										var Ï’err Î».Object = Î»ex
										Î».Cal(Î».GetAttr(Ï’self, "report_error", nil), Î».Mod(Î».NewStr("postprocessing: %s"), Î».Cal(Î».StrType, Ï’err)))
										Î»exit, Î»ret = Î».BlockExitReturn, Î».None
										return
									}},
								)
								Î».Cal(Î».GetAttr(Ï’self, "post_process", nil), Ï’filename, Ï’info_dict)
								return Î».BlockExitNormally, nil
							}()
							if Ï„mp0 == Î».BlockExitReturn {
								return Ï„mp1
							}
							Î».Cal(Î».GetAttr(Ï’self, "record_download_archive", nil), Ï’info_dict)
						}
					}
					return Î».None
				})
			YoutubeDL_format_resolution = Î».NewFunction("format_resolution",
				[]Î».Param{
					{Name: "format"},
					{Name: "default", Def: Î».NewStr("unknown")},
				},
				0, false, false,
				func(Î»args []Î».Object) Î».Object {
					var (
						Ï’default = Î»args[1]
						Ï’format  = Î»args[0]
						Ï’res     Î».Object
					)
					if Î».IsTrue(Î».Eq(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("vcodec")), Î».NewStr("none"))) {
						return Î».NewStr("audio only")
					}
					if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("resolution")) != Î».None)) {
						return Î».GetItem(Ï’format, Î».NewStr("resolution"))
					}
					if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("height")) != Î».None)) {
						if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("width")) != Î».None)) {
							Ï’res = Î».Mod(Î».NewStr("%sx%s"), Î».NewTuple(
								Î».GetItem(Ï’format, Î».NewStr("width")),
								Î».GetItem(Ï’format, Î».NewStr("height")),
							))
						} else {
							Ï’res = Î».Mod(Î».NewStr("%sp"), Î».GetItem(Ï’format, Î».NewStr("height")))
						}
					} else {
						if Î».IsTrue(Î».NewBool(Î».Cal(Î».GetAttr(Ï’format, "get", nil), Î».NewStr("width")) != Î».None)) {
							Ï’res = Î».Mod(Î».NewStr("%dx?"), Î».GetItem(Ï’format, Î».NewStr("width")))
						} else {
							Ï’res = Ï’default
						}
					}
					return Ï’res
				})
			YoutubeDL_format_resolution = Î».Cal(Î».StaticMethodType, YoutubeDL_format_resolution)
			return Î».NewDictWithTable(map[Î».Object]Î».Object{
				Î».NewStr("_NUMERIC_FIELDS"):             YoutubeDL__NUMERIC_FIELDS,
				Î».NewStr("__forced_printings"):          YoutubeDL___forced_printings,
				Î».NewStr("_bidi_workaround"):            YoutubeDL__bidi_workaround,
				Î».NewStr("_calc_cookies"):               YoutubeDL__calc_cookies,
				Î».NewStr("_calc_headers"):               YoutubeDL__calc_headers,
				Î».NewStr("_default_format_spec"):        YoutubeDL__default_format_spec,
				Î».NewStr("_ies"):                        YoutubeDL__ies,
				Î».NewStr("_num_downloads"):              YoutubeDL__num_downloads,
				Î».NewStr("_screen_file"):                YoutubeDL__screen_file,
				Î».NewStr("add_default_extra_info"):      YoutubeDL_add_default_extra_info,
				Î».NewStr("add_default_info_extractors"): YoutubeDL_add_default_info_extractors,
				Î».NewStr("add_extra_info"):              YoutubeDL_add_extra_info,
				Î».NewStr("add_info_extractor"):          YoutubeDL_add_info_extractor,
				Î».NewStr("extract_info"):                YoutubeDL_extract_info,
				Î».NewStr("format_resolution"):           YoutubeDL_format_resolution,
				Î».NewStr("get_info_extractor"):          YoutubeDL_get_info_extractor,
				Î».NewStr("params"):                      YoutubeDL_params,
				Î».NewStr("prepare_filename"):            YoutubeDL_prepare_filename,
				Î».NewStr("process_ie_result"):           YoutubeDL_process_ie_result,
				Î».NewStr("process_info"):                YoutubeDL_process_info,
				Î».NewStr("process_subtitles"):           YoutubeDL_process_subtitles,
				Î».NewStr("process_video_result"):        YoutubeDL_process_video_result,
				Î».NewStr("report_error"):                YoutubeDL_report_error,
				Î».NewStr("report_warning"):              YoutubeDL_report_warning,
				Î».NewStr("to_screen"):                   YoutubeDL_to_screen,
				Î».NewStr("to_stderr"):                   YoutubeDL_to_stderr,
				Î».NewStr("to_stdout"):                   YoutubeDL_to_stdout,
				Î».NewStr("trouble"):                     YoutubeDL_trouble,
			})
		}())
	})
}
